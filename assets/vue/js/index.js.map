{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/BlockManager.vue?182d","webpack:///./src/components/ChapterItem.vue?5508","webpack:///./src/components/SubchapterItem.vue?e851","webpack:///./src/components/SectionItem.vue?f361","webpack:///./src/components/BlockItem.vue?54e4","webpack:///./src/components/ActionMenuItem.vue?ea2d","webpack:///./src/components/RemoveDialog.vue?202c","webpack:///src/components/RemoveDialog.vue","webpack:///./src/components/RemoveDialog.vue?6e3c","webpack:///./src/components/RemoveDialog.vue","webpack:///./src/components/EditDialog.vue?451e","webpack:///src/components/EditDialog.vue","webpack:///./src/components/EditDialog.vue?740c","webpack:///./src/components/EditDialog.vue","webpack:///./src/components/AddChildDialog.vue?d5cc","webpack:///src/components/AddChildDialog.vue","webpack:///./src/components/AddChildDialog.vue?1ee2","webpack:///./src/components/AddChildDialog.vue","webpack:///./src/components/StudentsPermissionsDialog.vue?2fa1","webpack:///src/components/StudentsPermissionsDialog.vue","webpack:///./src/components/StudentsPermissionsDialog.vue?4808","webpack:///./src/components/StudentsPermissionsDialog.vue","webpack:///./src/components/GroupsPermissionsDialog.vue?7d2e","webpack:///src/components/GroupsPermissionsDialog.vue","webpack:///./src/components/GroupsPermissionsDialog.vue?682e","webpack:///./src/components/GroupsPermissionsDialog.vue","webpack:///src/components/ActionMenuItem.vue","webpack:///./src/components/ActionMenuItem.vue?b345","webpack:///./src/components/ActionMenuItem.vue","webpack:///src/components/BlockItem.vue","webpack:///./src/components/BlockItem.vue?0f57","webpack:///./src/components/BlockItem.vue","webpack:///./src/mixins/blockManagerHelperMixin.js","webpack:///src/components/SectionItem.vue","webpack:///./src/components/SectionItem.vue?d982","webpack:///./src/components/SectionItem.vue","webpack:///src/components/SubchapterItem.vue","webpack:///./src/components/SubchapterItem.vue?4549","webpack:///./src/components/SubchapterItem.vue","webpack:///src/components/ChapterItem.vue","webpack:///./src/components/ChapterItem.vue?1279","webpack:///./src/components/ChapterItem.vue","webpack:///./src/components/SemesterItem.vue?ef66","webpack:///./src/components/CourseItem.vue?2a5d","webpack:///src/components/CourseItem.vue","webpack:///./src/components/CourseItem.vue?5dc9","webpack:///./src/components/CourseItem.vue","webpack:///src/components/SemesterItem.vue","webpack:///./src/components/SemesterItem.vue?adf8","webpack:///./src/components/SemesterItem.vue","webpack:///./src/components/HelpBox.vue?d68d","webpack:///src/components/HelpBox.vue","webpack:///./src/components/HelpBox.vue?dfe2","webpack:///./src/components/HelpBox.vue","webpack:///src/BlockManager.vue","webpack:///./src/BlockManager.vue?5140","webpack:///./src/BlockManager.vue","webpack:///./src/store/index.js","webpack:///./src/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","_s","courseware","title","_e","courseUsers","courseGroups","on","addChild","_b","chapters","sortChapters","storeLock","disabled","animation","_l","element","id","updateList","removeChapter","isRemoteAction","isImportAction","actionTitle","showRemoteCourseware","remoteCourseware","loading","courses","semester_name","getRemoteCourse","remoteCourses","children","pull","put","cloning","sort","remote_chapter","showImportCourseware","importCourseware","import_chapter","showExportCourseware","setImport","coursewareImportURL","_m","importFromCourse","courseImportText","coursewareExportURL","coursewareExportHtmlURL","resetActionMenu","fileError","importCompleteArchive","staticStyle","class","unfolded","helpUnfolded","$event","directives","rawName","expression","errorOccurred","error","errorkey","date","text","staticRenderFns","importContent","remoteContent","toggleContent","shortTitle","isPublished","publication_date","withdraw_date","publication_date_readable","withdraw_date_readable","editElement","removeElement","subchapters","draggableGroup","sortSubchapters","dragOptions","elementChild","removeSubchapter","sections","sortSections","section","removeSection","editSection","blocks","sortBlocks","block","removeBlock","element_hidden","type","readable_name","domProps","preview","ref","setStudentsPermissionsDialogVisible","$refs","actionMenu","classList","remove","setGroupsPermissionsDialogVisible","editDialogVisible","removeDialogVisible","addChildDialogVisible","setStudentsPermissionsAction","setGroupsPermissionsAction","editDialogAction","$emit","addChildDialogAction","_t","close","currentElement","deleting","component","indexOf","_k","keyCode","edit","target","composing","maxPublicationDate","publicationDate","minWithdrawDate","withdrawDate","settings","Array","isArray","defaultRead","_i","$$a","$$el","$$c","checked","$$v","$$i","$set","concat","autor_members","caption_autor","toggled","autor","read","toggleAll","write","user","user_id","user_perms","_q","updateToggleStatus","firstname","lastname","username","user_members","caption_user","set","groups","group","perms","methods","cutTitle","substr","getReadableDate","datetime","Date","getDate","getMonth","getFullYear","getContent","node","unziped","json","getAttribute","filename","file_id","audio_blob","getAudioBlob","JSON","parse","source","url","image","Image","src","getImageBlob","file_name","outerHTML","image_url","image_name","escapeHtml","time","front_img_file_name","textContent","video_blob","getVideoBlob","xml","parser","DOMParser","xmlDoc","parseFromString","firstElementChild","content","keys","files","forEach","extractAsBlobUrl","video","audio","map","replace","toggleList","course","courseSelected","remoteName","remoteId","Vue","use","Vuex","store","Store","state","config","productionTip","el","render","h","BlockManager"],"mappings":"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","file":"../../assets/vue/js/index.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"index\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"../../../plugins_packages/virtUOS/Courseware/views/block_manager/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"cw-blockmanager-content\"}},[_c('div',{staticClass:\"cw-blockmanager-wrapper\"},[_c('div',{staticClass:\"cw-blockmanager-title\"},[_c('p',[_vm._v(_vm._s(this.courseware.title))]),_c('div',{staticClass:\"cw-blockmanager-title-loading\"},[(_vm.storeLock)?_c('spring-spinner',{attrs:{\"animation-duration\":1000,\"size\":30,\"color\":'#28497c'}}):_vm._e()],1),_c('ActionMenuItem',{attrs:{\"buttons\":['add-child'],\"element\":this.courseware,\"courseUsers\":_vm.courseUsers,\"courseGroups\":_vm.courseGroups},on:{\"add-child\":_vm.addChild}})],1),_c('draggable',_vm._b({staticClass:\"chapter-list\",attrs:{\"tag\":\"ul\",\"list\":_vm.chapters,\"group\":{ name: 'chapters' },\"ghost-class\":\"ghost\",\"handle\":\".chapter-handle\"},on:{\"sort\":_vm.sortChapters}},'draggable',_vm.storeLock ? { disabled: true } : { disabled: false, animation: 200 },false),_vm._l((this.chapters),function(element){return _c('ChapterItem',{key:element.id,attrs:{\"element\":element,\"importContent\":false,\"remoteContent\":false,\"storeLock\":_vm.storeLock,\"courseUsers\":_vm.courseUsers,\"courseGroups\":_vm.courseGroups},on:{\"listUpdate\":_vm.updateList,\"remove-chapter\":_vm.removeChapter,\"isRemote\":_vm.isRemoteAction,\"isImport\":_vm.isImportAction}})}),1)],1),_c('div',{staticClass:\"cw-blockmanager-wrapper\",attrs:{\"id\":\"cw-action-wrapper\"}},[_c('div',{staticClass:\"cw-blockmanager-title\",attrs:{\"id\":\"cw-import-title\"}},[_c('p',[_vm._v(_vm._s(_vm.actionTitle))])]),(_vm.fileError)?_c('div',{staticClass:\"messagebox messagebox_error\"},[_vm._v(\"\\n            Das Archiv enthält keine Coursewaredaten\\n        \")]):_vm._e(),(_vm.showRemoteCourseware && !_vm.remoteCourseware && !_vm.loading)?_c('div',{attrs:{\"id\":\"user-course-list\"}},[_c('ul',{staticClass:\"semester-list\"},[_vm._l((this.remoteCourses),function(courses,semester_name){return _c('SemesterItem',{key:semester_name,attrs:{\"courses\":courses,\"semester_name\":semester_name},on:{\"course-selected\":_vm.getRemoteCourse}})}),(this.remoteCourses.length == 0)?_c('div',{staticClass:\"messagebox messagebox_info\"},[_vm._v(\"\\n                    Es sind keine Veranstaltungen für den Import verfügbar\\n                \")]):_vm._e()],2)]):_vm._e(),(_vm.showRemoteCourseware && _vm.remoteCourseware)?_c('div',{staticClass:\"cw-remote-courseware\"},[_c('draggable',_vm._b({staticClass:\"chapter-list chapter-list-import\",attrs:{\"tag\":\"ul\",\"list\":this.remoteCourseware.children,\"group\":{ name: 'chapters', pull: 'clone', put: false },\"ghost-class\":\"ghost\",\"handle\":\".chapter-handle\"},on:{\"clone\":_vm.cloning}},'draggable',_vm.storeLock ? { disabled: true } : { disabled: false, animation: 200, sort: false },false),_vm._l((this.remoteCourseware.children),function(remote_chapter){return _c('ChapterItem',{key:remote_chapter.id,attrs:{\"element\":remote_chapter,\"importContent\":true,\"remoteContent\":true,\"storeLock\":_vm.storeLock}})}),1)],1):_vm._e(),(_vm.showImportCourseware && _vm.importCourseware)?_c('div',{attrs:{\"id\":\"cw-import-lists\"}},[_c('draggable',_vm._b({staticClass:\"chapter-list chapter-list-import\",attrs:{\"tag\":\"ul\",\"list\":this.importCourseware.chapters,\"group\":{ name: 'chapters', pull: 'clone', put: false },\"ghost-class\":\"ghost\",\"handle\":\".chapter-handle\"}},'draggable',_vm.storeLock ? { disabled: true } : { disabled: false, animation: 200, sort: false },false),_vm._l((this.importCourseware.chapters),function(import_chapter){return _c('ChapterItem',{key:import_chapter.id,attrs:{\"element\":import_chapter,\"importContent\":true,\"remoteContent\":false,\"storeLock\":_vm.storeLock}})}),1)],1):_vm._e(),(_vm.showExportCourseware)?_c('div'):_vm._e(),(!_vm.showRemoteCourseware && !_vm.showImportCourseware && !_vm.showExportCourseware)?_c('ul',{attrs:{\"id\":\"cw-action-selection\"}},[_c('li',[_c('label',{staticClass:\"cw-action-menu-button\",attrs:{\"for\":\"cw-file-upload-import\",\"id\":\"cw-file-upload-import-label\",\"title\":\"importFromArchiveExplain\"}},[_c('input',{staticClass:\"cw-file-upload-import\",attrs:{\"type\":\"file\",\"name\":\"cw-file-upload-import\",\"id\":\"cw-file-upload-import\",\"accept\":\".zip\"},on:{\"change\":_vm.setImport}}),_c('p',[_vm._v(\"Courseware-Archiv importieren\")])])]),_c('li',[_c('a',{attrs:{\"href\":_vm.coursewareImportURL}},[_vm._m(0)])]),_c('li',[_c('div',{staticClass:\"cw-action-menu-button\",attrs:{\"id\":\"cw-import-from-course\",\"title\":\"importFromCourseExplain\"},on:{\"click\":_vm.importFromCourse}},[_c('p',[_vm._v(_vm._s(_vm.courseImportText))])])]),_c('li',[_c('a',{attrs:{\"href\":_vm.coursewareExportURL}},[_vm._m(1)])]),_c('li',[_c('a',{attrs:{\"href\":_vm.coursewareExportHtmlURL}},[_vm._m(2)])])]):_vm._e(),((_vm.showRemoteCourseware || _vm.showImportCourseware) && _vm.loading)?_c('div',[_c('spring-spinner',{staticClass:\"cw-action-loading\",attrs:{\"animation-duration\":3000,\"size\":65,\"color\":'#28497c'}})],1):_vm._e(),_c('div',{staticClass:\"cw-action-button-wrapper\"},[((_vm.showRemoteCourseware || _vm.showImportCourseware || _vm.showExportCourseware) && !_vm.loading)?_c('button',{staticClass:\"button\",attrs:{\"id\":\"cw-reset-action-menu\"},on:{\"click\":_vm.resetActionMenu}},[_vm._v(\"\\n                zurück zur Auswahl\\n            \")]):_vm._e(),(_vm.showImportCourseware && !_vm.fileError && !_vm.loading)?_c('button',{staticClass:\"button\",attrs:{\"id\":\"cw-import\"},on:{\"click\":_vm.importCompleteArchive}},[_vm._v(\"\\n                Komplettes Archiv importieren\\n            \")]):_vm._e(),(_vm.showExportCourseware)?_c('a',{attrs:{\"href\":_vm.coursewareExportURL}},[_c('button',{staticClass:\"button\",attrs:{\"id\":\"cw-export\"}},[_vm._v(\"\\n                    Exportieren\\n                \")])]):_vm._e(),_c('div',{staticStyle:{\"clear\":\"both\"}})])]),_c('div',{staticClass:\"cw-blockmanager-wrapper\"},[_c('div',{staticClass:\"cw-blockmanager-title cw-blockmanager-help\",class:{unfolded: _vm.helpUnfolded},on:{\"click\":function($event){_vm.helpUnfolded = !_vm.helpUnfolded}}},[_c('p',[_vm._v(\"Hilfe\")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.helpUnfolded),expression:\"helpUnfolded\"}],staticClass:\"helpboxes\"},[_c('HelpBox',{attrs:{\"title\":\"Courseware Verwaltung\",\"content\":\"Unter Verwaltung können Kapitel, Unterkapitel, \\n                Abschnitte und Blöcke sortiert werden. Im Gegensatz zum \\n                Bearbeitungsmodus, in der die Reihenfolge der Elemente \\n                bearbeitet werden kann, können hier Elemente in andere \\n                übergeordnete Elemente einsortiert werden. Mit einem Klick \\n                öffnen Sie das Element, die enthaltenen Elemente werden \\n                dargestellt. Hinter den drei Punkten verbirgt sich das \\n                Aktionsmenü, Hinzufügen, Löschen, Bearbeiten und das \\n                Vergeben von Schreibrechten ist hier möglich.\"}}),_c('HelpBox',{attrs:{\"title\":\"Sortieren und Verschieben\",\"content\":\"Elemente lassen sich einfach per Drag&Drop \\n                verschieben. Hierbei ist es auch möglich ein Element \\n                in ein anderes übergeordnetes Element zu verschieben. \\n                Eine Verschiebung ist immer nur auf der passenden Ebene \\n                möglich. Es ist z.B. nicht möglich einen Abschnitt neben \\n                ein Unterkapitel zu verschieben.\"}}),_c('HelpBox',{attrs:{\"title\":\"Freigaben für Teilnehmende\",\"content\":\"Ein weiterer Schritt in Richtung kollaboratives \\n                Lernen macht Courseware mit Freigaben für Teilnehmende \\n                und Gruppen. Ein gleichzeitiges Bearbeiten von Blöcken \\n                ist derzeit noch nicht verfügbar, daher sollten die \\n                Freigaben entsprechend gewählt werden. Freigegeben werden \\n                können Kapitel und Unterkapitel, dies kann über das \\n                Aktionsmenü (am Element hinter den drei Punkten) geschehen. \\n                Untergeordnete Elemente werden automatisch freigegeben. \\n                Teilnehmende können dann innerhalb des freigegeben Elements \\n                Inhalte erstellen und Unterelemente erzeugen. Verwaltung, \\n                Einstellungen und Diskussionsübersicht sind für Teilnehmende \\n                nicht sichtbar.\"}}),_c('HelpBox',{attrs:{\"title\":\"Hinzufügen und Löschen\",\"content\":\"Über das Aktionsmenü (verbirgt sich hinter den drei Punkten) \\n                eines Elementes können Unterelemente hinzugefügt werden, \\n                Blöcke können allerdings nur im Bearbeitungsmodus der \\n                Courseware hinzugefügt werden. Löschen lassen sich alle \\n                Elemente über das Aktionsmenü.\"}}),_c('HelpBox',{attrs:{\"title\":\"Archiv importieren\",\"content\":\"Ein zuvor exportiertes Archiv kann über Courseware-Archiv \\n                importieren“ eingelesen werden. Nachdem die Daten geladen wurden \\n                wird die Struktur der Courseware dargestellt. Per Drag&Drop lassen \\n                sich einzelne Elemente importieren. Über die Schaltfläche \\n                „Komplettes Archiv importieren“ können Sie den gesamten Inhalt \\n                importieren. Die Kapitel werden dann an das Ende der bestehenden \\n                Inhalte gesetzt. Bitte beachten Sie das der Upload von großen \\n                Archiven unter Umständen viel Zeit in Anspruch nehmen kann. Für \\n                das Kopieren von Inhalten aus einer anderen Veranstaltung nutzen \\n                Sie bitte „Aus Veranstaltung importieren“.\"}}),_c('HelpBox',{attrs:{\"title\":\"Aus Veranstaltung importieren\",\"content\":\"Um Inhalte aus einer anderen Veranstaltung, in der Sie \\n                unter den Lehrenden eingetragen sind, zu importieren, wählen \\n                Sie unter Import & Export „Aus Veranstaltung importieren“. Eine \\n                Liste von Semestern wird angezeigt. Mit einem Klick auf ein Semester \\n                werden die verfügbaren Veranstaltungen dargestellt. Wählen Sie \\n                eine Veranstaltung aus um sich die Courseware-Inhalte dieser \\n                Veranstaltung anzeigen zu lassen. Inhalte können per Drag&Drop \\n                in die aktuelle Veranstaltung kopiert werden. Gegebenenfalls \\n                müssen Sie die Elemente der Courseware aufklappen um Elemente \\n                kopieren zu können.\"}}),_c('HelpBox',{attrs:{\"title\":\"Archiv exportieren\",\"content\":\"Ein Courseware Archiv ist eine Zip-Datei die eine \\n                Beschreibung der Courseware (data.xml) sowie alle eingebundenen \\n                Dateien enthält. Die Zip-Datei kann über den Import eingelesen \\n                werden um Inhalte in anderen Stud.IP Installationen zu verwenden. \\n                Für das Kopieren von Inhalten aus einer anderen Veranstaltung \\n                nutzen Sie bitte „Aus Veranstaltung importieren“.\"}}),_c('HelpBox',{attrs:{\"title\":\"HTML exportieren\",\"content\":\"'Der HTML Export liefert die Inhalte von Coursware sowie \\n                den Courseware Player aus. Mit dem Courseware Player ist es möglich \\n                die Inhalte mit einem Browser direkt aus dem Dateisystem eines \\n                Rechners wiederzugeben. Der Courseware Player kann auch auf einem \\n                Webserver verwendet werden. Bitte beachten Sie das nicht alle Blöcke \\n                im Courseware Player verfügbar sind. Audio Galerie, Bestätigung, Forum, \\n                Blubber, Diskussion & Kommentare, Suche, Quiz und OpenCast können im \\n                Moment noch nicht wiedergegeben werden. Aufgaben die im interactive \\n                Video eingebunden wurden können auch nicht wiedergegeben werden.\"}})],1)]),(_vm.errorOccurred.length > 0)?_c('div',{staticClass:\"cw-blockmanager-wrapper\",attrs:{\"id\":\"errorbox\"}},[_c('div',{staticClass:\"cw-blockmanager-title\",attrs:{\"id\":\"cw-error-title\"}},[_vm._v(\"\\n            Meldungen\\n        \")]),_c('ul',_vm._l((_vm.errorOccurred),function(error,errorkey){return _c('li',{key:errorkey},[_vm._v(_vm._s(error.date)+\" | \"+_vm._s(error.text)+\" \")])}),0)]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cw-action-menu-button\",attrs:{\"id\":\"cw-import-link\",\"title\":\"importExplain\"}},[_c('p',[_vm._v(\"Courseware-Archiv importieren (alte Version)\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cw-action-menu-button\",attrs:{\"id\":\"cw-export-download\",\"title\":\"exportExplain\"}},[_c('p',[_vm._v(\"Export-Archiv herunterladen\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"cw-action-menu-button\",attrs:{\"id\":\"cw-export-html-download\",\"title\":\"exportHtmlExplain\"}},[_c('p',[_vm._v(\"Html-Export herunterladen\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"chapter-item\",class:{\n        'chapter-item-import': _vm.importContent,\n        'chapter-item-remote': _vm.remoteContent\n    },attrs:{\"data-id\":_vm.id}},[_c('div',{staticClass:\"chapter-description chapter-handle\",class:{\n            'full-width': _vm.importContent || _vm.remoteContent,\n            unfolded: _vm.unfolded\n        },on:{\"click\":_vm.toggleContent}},[_c('p',{staticClass:\"chapter-title\",attrs:{\"title\":_vm.title}},[_vm._v(\"\\n            \"+_vm._s(_vm.shortTitle)+\"\\n        \")]),_c('p',{staticClass:\"header-info-wrapper\"},[_c('span',{class:{\n                    'unpublished-info': !_vm.isPublished && (_vm.publication_date || _vm.withdraw_date),\n                    'published-info': _vm.isPublished && (_vm.publication_date || _vm.withdraw_date)\n                }},[_vm._v(\"\\n                Kapitel\\n            \")]),(_vm.publication_date && !this.importContent && !this.remoteContent)?_c('span',{class:{\n                    'unpublished-info': !_vm.isPublished,\n                    'published-info': _vm.isPublished\n                }},[_vm._v(\"| sichtbar ab: \"+_vm._s(_vm.publication_date_readable))]):_vm._e(),(_vm.withdraw_date && !this.importContent && !this.remoteContent)?_c('span',{class:{\n                    'unpublished-info': !_vm.isPublished,\n                    'published-info': _vm.isPublished\n                }},[_vm._v(\"\\n                | unsichtbar ab: \"+_vm._s(_vm.withdraw_date_readable))]):_vm._e()])]),(!this.importContent && !this.remoteContent)?_c('ActionMenuItem',{class:{ unfolded: _vm.unfolded },attrs:{\"buttons\":['edit', 'remove', 'groups', 'users', 'add-child'],\"element\":this.element,\"courseUsers\":_vm.courseUsers,\"courseGroups\":_vm.courseGroups},on:{\"edit\":_vm.editElement,\"remove\":_vm.removeElement,\"add-child\":_vm.addChild}}):_vm._e(),(_vm.unfolded)?_c('draggable',_vm._b({staticClass:\"subchapter-list\",class:{ 'subchapter-list-import': _vm.importContent },attrs:{\"tag\":\"ul\",\"list\":_vm.subchapters,\"group\":_vm.draggableGroup,\"ghost-class\":\"ghost\",\"handle\":\".subchapter-handle\"},on:{\"sort\":_vm.sortSubchapters}},'draggable',_vm.dragOptions,false),[_vm._l((_vm.subchapters),function(elementChild){return _c('SubchapterItem',{key:elementChild.id,attrs:{\"element\":elementChild,\"importContent\":_vm.importContent,\"remoteContent\":_vm.remoteContent,\"storeLock\":_vm.storeLock,\"courseUsers\":_vm.courseUsers,\"courseGroups\":_vm.courseGroups},on:{\"listUpdate\":_vm.updateList,\"remove-subchapter\":_vm.removeSubchapter,\"isRemote\":_vm.isRemoteAction,\"isImport\":_vm.isImportAction}})}),(_vm.subchapters.length == 0)?_c('p',[_vm._v(\"\\n            Dieses Kapitel ist leer.\\n            \"),(!_vm.importContent)?_c('span',[_vm._v(\"Sie können hier ein Unterkapitel ablegen oder ein neues hinzufügen.\")]):_vm._e()]):_vm._e()],2):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"subchapter-item\",class:{\n        'subchapter-item-import': _vm.importContent,\n        'subchapter-item-remote': _vm.remoteContent\n    },attrs:{\"data-id\":_vm.id}},[_c('div',{staticClass:\"subchapter-description subchapter-handle\",class:{\n            'full-width': _vm.importContent || _vm.remoteContent,\n            unfolded: _vm.unfolded\n        },on:{\"click\":_vm.toggleContent}},[_c('p',{staticClass:\"subchapter-title\",attrs:{\"title\":_vm.title}},[_vm._v(_vm._s(_vm.shortTitle))]),_c('p',{staticClass:\"header-info-wrapper\"},[_c('span',{class:{\n                    'unpublished-info': !_vm.isPublished && (_vm.publication_date || _vm.withdraw_date),\n                    'published-info': _vm.isPublished && (_vm.publication_date || _vm.withdraw_date)\n                }},[_vm._v(\"\\n                Unterkapitel\\n            \")]),(_vm.publication_date && !this.importContent && !this.remoteContent)?_c('span',{class:{\n                    'unpublished-info': !_vm.isPublished,\n                    'published-info': _vm.isPublished\n                }},[_vm._v(\"\\n                | sichtbar ab: \"+_vm._s(_vm.publication_date_readable))]):_vm._e(),(_vm.withdraw_date && !this.importContent && !this.remoteContent)?_c('span',{class:{\n                    'unpublished-info': !_vm.isPublished,\n                    'published-info': _vm.isPublished\n                }},[_vm._v(\"\\n                | unsichtbar ab: \"+_vm._s(_vm.withdraw_date_readable))]):_vm._e()])]),(!this.importContent && !this.remoteContent)?_c('ActionMenuItem',{class:{ unfolded: _vm.unfolded },attrs:{\"buttons\":['edit', 'remove', 'groups', 'users', 'add-child'],\"element\":this.element,\"courseUsers\":_vm.courseUsers,\"courseGroups\":_vm.courseGroups},on:{\"edit\":_vm.editElement,\"remove\":_vm.removeElement,\"add-child\":_vm.addChild}}):_vm._e(),(_vm.unfolded)?_c('draggable',_vm._b({staticClass:\"section-list\",class:{ 'section-list-import': _vm.importContent },attrs:{\"tag\":\"ul\",\"list\":_vm.sections,\"group\":_vm.draggableGroup,\"ghost-class\":\"ghost\",\"handle\":\".section-handle\"},on:{\"sort\":_vm.sortSections}},'draggable',_vm.dragOptions,false),[_vm._l((_vm.sections),function(section){return _c('SectionItem',{key:section.id,attrs:{\"element\":section,\"importContent\":_vm.importContent,\"remoteContent\":_vm.remoteContent,\"storeLock\":_vm.storeLock,\"courseUsers\":_vm.courseUsers,\"courseGroups\":_vm.courseGroups},on:{\"listUpdate\":_vm.updateList,\"remove-section\":_vm.removeSection,\"isRemote\":_vm.isRemoteAction,\"isImport\":_vm.isImportAction}})}),(_vm.sections.length == 0)?_c('p',[_vm._v(\"\\n            Dieses Unterkapitel ist leer.\\n            \"),(!_vm.importContent)?_c('span',[_vm._v(\"Sie können hier einen Abschnitt ablegen oder einen neuen hinzufügen.\")]):_vm._e()]):_vm._e()],2):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"section-item\",class:{\n        'section-item-import': _vm.importContent,\n        'section-item-remote': _vm.remoteContent\n    },attrs:{\"data-id\":_vm.id}},[_c('div',{staticClass:\"section-description section-handle\",class:{\n            'full-width': _vm.importContent || _vm.remoteContent,\n            unfolded: _vm.unfolded\n        },on:{\"click\":_vm.toggleContent}},[_c('p',{staticClass:\"section-title\",attrs:{\"title\":_vm.title}},[_vm._v(_vm._s(_vm.shortTitle))]),_c('p',{staticClass:\"header-info-wrapper\"},[_vm._v(\"Abschnitt\")])]),(!this.importContent && !this.remoteContent)?_c('ActionMenuItem',{class:{ unfolded: _vm.unfolded },attrs:{\"buttons\":['groups', 'users', 'edit', 'remove'],\"element\":this.element,\"courseUsers\":_vm.courseUsers,\"courseGroups\":_vm.courseGroups},on:{\"edit\":_vm.editSection,\"remove\":_vm.removeElement}}):_vm._e(),(_vm.unfolded)?_c('draggable',_vm._b({staticClass:\"block-list\",class:{ 'block-list-import': _vm.importContent },attrs:{\"tag\":\"ul\",\"list\":_vm.blocks,\"group\":_vm.draggableGroup,\"ghost-class\":\"ghost\",\"handle\":\".block-handle\"},on:{\"sort\":_vm.sortBlocks}},'draggable',_vm.dragOptions,false),[_vm._l((_vm.blocks),function(block){return _c('BlockItem',{key:block.id,attrs:{\"block\":block,\"importContent\":_vm.importContent,\"remoteContent\":_vm.remoteContent},on:{\"remove-block\":_vm.removeBlock,\"isRemote\":_vm.isRemoteAction}})}),(_vm.blocks.length == 0)?_c('p',[_vm._v(\"\\n            Dieser Abschnitt ist leer.\\n            \"),(!_vm.importContent)?_c('span',[_vm._v(\"Sie können einen Block in Courseware hinzufügen oder hier einen ablegen.\")]):_vm._e()]):_vm._e()],2):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"block-item\",class:{\n        element_hidden: !_vm.block.isPublished && !this.importContent && !this.remoteContent,\n        'block-item-import': _vm.importContent,\n        'block-item-remote': _vm.remoteContent\n    },attrs:{\"data-id\":_vm.id}},[_c('div',{staticClass:\"block-description block-handle\",class:{\n            element_hidden: !_vm.block.isPublished && !this.importContent && !this.remoteContent,\n            unfolded: _vm.unfolded\n        },on:{\"click\":_vm.toggleContent}},[_c('span',{class:['block-icon cw-block-icon-' + _vm.block.type]}),_vm._v(\"\\n        \"+_vm._s(_vm.block.readable_name)+\"\\n    \")]),(!this.importContent && !this.remoteContent)?_c('ActionMenuItem',{attrs:{\"buttons\":['remove'],\"element\":this.block},on:{\"remove\":_vm.removeElement}}):_vm._e(),(_vm.unfolded)?_c('ul',{staticClass:\"block-preview\",class:{ 'block-preview-import': _vm.importContent }},[_c('li',{staticClass:\"block-content-preview\",domProps:{\"innerHTML\":_vm._s(_vm.preview)}})]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"strucutal-element-menu-wrapper\"},[_c('nav',{ref:\"actionMenu\",staticClass:\"action-menu bymousedown strucutal-element-menu\"},[_vm._m(0),_c('div',{staticClass:\"action-menu-content\"},[_c('div',{staticClass:\"action-menu-title\"},[_vm._v(\"\\n                Aktionen\\n            \")]),_c('ul',{staticClass:\"action-menu-list\"},[(this.users_button)?_c('li',{staticClass:\"action-menu-item\"},[_c('a',{staticClass:\"set-users\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){_vm.setStudentsPermissionsDialogVisible = true;\n                            _vm.$refs.actionMenu.classList.remove('active');}}},[_vm._v(\"\\n                        Lese- und Schreibrechte für Studierende festlegen\\n                    \")])]):_vm._e(),(this.groups_button)?_c('li',{staticClass:\"action-menu-item\"},[_c('a',{staticClass:\"set-groups\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){_vm.setGroupsPermissionsDialogVisible = true;\n                            _vm.$refs.actionMenu.classList.remove('active');}}},[_vm._v(\"\\n                        Lese- und Schreibrechte für Gruppen festlegen\\n                    \")])]):_vm._e(),(this.edit_button)?_c('li',{staticClass:\"action-menu-item\"},[_c('a',{staticClass:\"edit-element\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){_vm.editDialogVisible = true;\n                            _vm.$refs.actionMenu.classList.remove('active');}}},[_vm._v(\"\\n                        Element bearbeiten\\n                    \")])]):_vm._e(),(this.remove_button)?_c('li',{staticClass:\"action-menu-item\"},[_c('a',{staticClass:\"remove-element\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){_vm.removeDialogVisible = true;\n                            _vm.$refs.actionMenu.classList.remove('active');}}},[_vm._v(\"\\n                        Element löschen\\n                    \")])]):_vm._e(),(this.add_child_button)?_c('li',{staticClass:\"action-menu-item\"},[_c('a',{staticClass:\"add-child-element\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){_vm.addChildDialogVisible = true;\n                            _vm.$refs.actionMenu.classList.remove('active');}}},[_vm._v(\"\\n                        Unterelement hinzufügen\\n                    \")])]):_vm._e()])])]),(this.users_button)?_c('StudentsPermissionsDialog',{attrs:{\"DialogVisible\":this.setStudentsPermissionsDialogVisible,\"element\":this.element,\"users\":_vm.courseUsers},on:{\"close\":function($event){_vm.setStudentsPermissionsDialogVisible = false},\"set\":_vm.setStudentsPermissionsAction}}):_vm._e(),(this.groups_button)?_c('GroupsPermissionsDialog',{attrs:{\"DialogVisible\":this.setGroupsPermissionsDialogVisible,\"element\":this.element,\"groups\":_vm.courseGroups},on:{\"close\":function($event){_vm.setGroupsPermissionsDialogVisible = false},\"set\":_vm.setGroupsPermissionsAction}}):_vm._e(),(this.edit_button)?_c('EditDialog',{attrs:{\"DialogVisible\":this.editDialogVisible,\"element\":this.element},on:{\"close\":function($event){_vm.editDialogVisible = false},\"edit\":_vm.editDialogAction}}):_vm._e(),(this.remove_button)?_c('RemoveDialog',{attrs:{\"DialogVisible\":this.removeDialogVisible,\"element\":this.element},on:{\"close\":function($event){_vm.removeDialogVisible = false},\"remove\":function($event){return _vm.$emit('remove')}}}):_vm._e(),(this.add_child_button)?_c('AddChildDialog',{attrs:{\"DialogVisible\":this.addChildDialogVisible,\"element\":this.element},on:{\"close\":function($event){_vm.addChildDialogVisible = false},\"add-child\":_vm.addChildDialogAction}}):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{staticClass:\"action-menu-icon\",attrs:{\"title\":\"Aktionen\",\"href\":\"#\"}},[_c('div'),_c('div'),_c('div')])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (this.visible)?_c('div',{staticClass:\"cw-dialog\"},[_c('transition',{attrs:{\"name\":\"modal-fade\"}},[_c('div',{staticClass:\"modal-backdrop\"},[_c('div',{staticClass:\"modal alert\",attrs:{\"role\":\"dialog\"}},[_c('header',{staticClass:\"modal-header\"},[_vm._t(\"header\",[_vm._v(\"\\n                        \"+_vm._s(this.title)+\" löschen\\n                        \"),_c('span',{staticClass:\"modal-close-button\",on:{\"click\":_vm.close}})])],2),_c('section',{staticClass:\"modal-body\"},[(this.currentElement.isStrucutalElement)?_c('p',[_vm._v(\"\\n                        Möchten Sie dieses Element und alle darunter liegenden Elemente wirklich löschen?\\n                    \")]):_vm._e(),(this.currentElement.isBlock)?_c('p',[_vm._v(\"Möchten Sie dieses Element wirklich löschen?\")]):_vm._e()]),_c('footer',{staticClass:\"modal-footer\"},[_vm._t(\"footer\",[(!_vm.deleting)?_c('button',{staticClass:\"button accept\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.remove}},[_vm._v(\"\\n                            Ja\\n                        \")]):_c('button',{staticClass:\"button modal-progress\",attrs:{\"type\":\"button\"}},[_c('spring-spinner',{staticClass:\"modal-progress-spinner\",attrs:{\"animation-duration\":3000,\"size\":14,\"color\":'#28497c'}})],1),_c('button',{staticClass:\"button cancel\",class:{ 'button-inactive': _vm.deleting },attrs:{\"type\":\"button\"},on:{\"click\":_vm.close}},[_vm._v(\"\\n                            Nein\\n                        \")])])],2)])])])],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div v-if=\"this.visible\" class=\"cw-dialog\">\n        <transition name=\"modal-fade\">\n            <div class=\"modal-backdrop\">\n                <div class=\"modal alert\" role=\"dialog\">\n                    <header class=\"modal-header\">\n                        <slot name=\"header\">\n                            {{ this.title }} löschen\n                            <span class=\"modal-close-button\" @click=\"close\"></span>\n                        </slot>\n                    </header>\n                    <section class=\"modal-body\">\n                        <p v-if=\"this.currentElement.isStrucutalElement\">\n                            Möchten Sie dieses Element und alle darunter liegenden Elemente wirklich löschen?\n                        </p>\n                        <p v-if=\"this.currentElement.isBlock\">Möchten Sie dieses Element wirklich löschen?</p>\n                    </section>\n                    <footer class=\"modal-footer\">\n                        <slot name=\"footer\">\n                            <button type=\"button\" class=\"button accept\" @click=\"remove\" v-if=\"!deleting\">\n                                Ja\n                            </button>\n                            <button type=\"button\" class=\"button modal-progress\" v-else>\n                                <spring-spinner\n                                    :animation-duration=\"3000\"\n                                    :size=\"14\"\n                                    :color=\"'#28497c'\"\n                                    class=\"modal-progress-spinner\"\n                                />\n                            </button>\n\n                            <button\n                                type=\"button\"\n                                class=\"button cancel\"\n                                :class=\"{ 'button-inactive': deleting }\"\n                                @click=\"close\"\n                            >\n                                Nein\n                            </button>\n                        </slot>\n                    </footer>\n                </div>\n            </div>\n        </transition>\n    </div>\n</template>\n<script>\nimport { SpringSpinner } from 'epic-spinners';\n\nexport default {\n    name: 'RemoveDialog',\n    components: { SpringSpinner },\n    props: {\n        DialogVisible: Boolean,\n        element: Object\n    },\n    data() {\n        return {\n            visible: this.DialogVisible,\n            title: '',\n            currentElement: this.element,\n            deleting: false\n        };\n    },\n    mounted() {\n        if (this.currentElement) {\n            if (this.currentElement.isBlock) {\n                this.title = this.currentElement.readable_name;\n            }\n            if (this.currentElement.isStrucutalElement) {\n                this.title = this.currentElement.title;\n            }\n        }\n    },\n    methods: {\n        close() {\n            if (!this.deleting) {\n                this.$emit('close');\n            }\n        },\n        remove() {\n            let data = {};\n            let view = this;\n            data.id = this.currentElement.id;\n            this.deleting = true;\n            $.ajax({\n                type: 'DELETE',\n                url: '../blocks/' + data.id,\n                contentType: 'application/json',\n                data: data,\n                success: function() {\n                    view.$emit('remove');\n                    view.deleting = false;\n                    view.$emit('close');\n                },\n                error: function() {\n                    console.log('can not remove node!');\n                    view.deleting = false;\n                    view.$emit('close');\n                }\n            });\n        }\n    },\n    watch: {\n        DialogVisible: function() {\n            this.visible = this.DialogVisible;\n        }\n    }\n};\n</script>\n<style></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RemoveDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RemoveDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RemoveDialog.vue?vue&type=template&id=6dea160e&\"\nimport script from \"./RemoveDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./RemoveDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (this.visible)?_c('div',{staticClass:\"cw-dialog\"},[_c('transition',{attrs:{\"name\":\"modal-fade\"}},[_c('div',{staticClass:\"modal-backdrop\"},[_c('div',{staticClass:\"modal\",attrs:{\"role\":\"dialog\"}},[_c('header',{staticClass:\"modal-header\"},[_vm._t(\"header\",[_vm._v(\"\\n                        \"+_vm._s(this.title)+\" bearbeiten\\n                        \"),_c('span',{staticClass:\"modal-close-button\",on:{\"click\":_vm.close}})])],2),_c('section',{staticClass:\"modal-body\"},[_c('label',{attrs:{\"for\":\"editDialogElementTitle\"}},[_vm._v(\"Titel:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.title),expression:\"title\"}],ref:\"editDialogElementTitle\",attrs:{\"type\":\"text\",\"name\":\"editDialogElementTitle\"},domProps:{\"value\":(_vm.title)},on:{\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.edit($event)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.close($event)}],\"input\":function($event){if($event.target.composing){ return; }_vm.title=$event.target.value}}}),_c('br'),(_vm.isChapter)?_c('div',[_c('label',{attrs:{\"for\":\"publication_date\"}},[_vm._v(\"sichtbar ab:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.publicationDate),expression:\"publicationDate\"}],attrs:{\"type\":\"date\",\"name\":\"publication_date\",\"max\":_vm.maxPublicationDate},domProps:{\"value\":(_vm.publicationDate)},on:{\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.edit($event)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.close($event)}],\"input\":function($event){if($event.target.composing){ return; }_vm.publicationDate=$event.target.value}}}),_c('br'),_c('label',{attrs:{\"for\":\"withdraw_date\"}},[_vm._v(\"unsichtbar ab:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.withdrawDate),expression:\"withdrawDate\"}],attrs:{\"type\":\"date\",\"name\":\"withdraw_date\",\"min\":_vm.minWithdrawDate},domProps:{\"value\":(_vm.withdrawDate)},on:{\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.edit($event)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.close($event)}],\"input\":function($event){if($event.target.composing){ return; }_vm.withdrawDate=$event.target.value}}})]):_vm._e()]),_c('footer',{staticClass:\"modal-footer\"},[_vm._t(\"footer\",[_c('button',{staticClass:\"button accept\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.edit}},[_vm._v(\"\\n                            speichern\\n                        \")]),_c('button',{staticClass:\"button cancel\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.close}},[_vm._v(\"\\n                            abbrechen\\n                        \")])])],2)])])])],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div v-if=\"this.visible\" class=\"cw-dialog\">\n        <transition name=\"modal-fade\">\n            <div class=\"modal-backdrop\">\n                <div class=\"modal\" role=\"dialog\">\n                    <header class=\"modal-header\">\n                        <slot name=\"header\">\n                            {{ this.title }} bearbeiten\n                            <span class=\"modal-close-button\" @click=\"close\"></span>\n                        </slot>\n                    </header>\n                    <section class=\"modal-body\">\n                        <label for=\"editDialogElementTitle\">Titel:</label>\n                        <input\n                            type=\"text\"\n                            name=\"editDialogElementTitle\"\n                            ref=\"editDialogElementTitle\"\n                            v-model=\"title\"\n                            @keyup.enter=\"edit\"\n                            @keyup.esc=\"close\"\n                        />\n                        <br />\n                        <div v-if=\"isChapter\">\n                            <label for=\"publication_date\">sichtbar ab:</label>\n                            <input\n                                type=\"date\"\n                                name=\"publication_date\"\n                                v-model=\"publicationDate\"\n                                :max=\"maxPublicationDate\"\n                                @keyup.enter=\"edit\"\n                                @keyup.esc=\"close\"\n                            />\n                            <br />\n                            <label for=\"withdraw_date\">unsichtbar ab:</label>\n                            <input type=\"date\"\n                                name=\"withdraw_date\"\n                                v-model=\"withdrawDate\"\n                                :min=\"minWithdrawDate\"\n                                @keyup.enter=\"edit\"\n                                @keyup.esc=\"close\"\n                            />\n                        </div>\n                    </section>\n                    <footer class=\"modal-footer\">\n                        <slot name=\"footer\">\n                            <button type=\"button\" class=\"button accept\" @click=\"edit\">\n                                speichern\n                            </button>\n\n                            <button type=\"button\" class=\"button cancel\" @click=\"close\">\n                                abbrechen\n                            </button>\n                        </slot>\n                    </footer>\n                </div>\n            </div>\n        </transition>\n    </div>\n</template>\n<script>\nexport default {\n    name: 'EditDialog',\n    props: {\n        DialogVisible: Boolean,\n        element: Object\n    },\n    data() {\n        return {\n            visible: this.DialogVisible,\n            title: '',\n            currentElement: this.element,\n            isChapter: false,\n            publicationDate: null,\n            maxPublicationDate: '',\n            withdrawDate: null,\n            minWithdrawDate: ''\n        };\n    },\n    mounted() {\n        if (this.currentElement) {\n            this.title = this.currentElement.title;\n            if (this.currentElement.type == 'Chapter' || this.currentElement.type == 'Subchapter') {\n                this.isChapter = true;\n                if (this.currentElement.publication_date) {\n                    this.publicationDate = this.convertTimestampToDate(this.currentElement.publication_date);\n                }\n                if (this.currentElement.withdraw_date) {\n                    this.withdrawDate = this.convertTimestampToDate(this.currentElement.withdraw_date);\n                }\n            }\n        }\n    },\n    methods: {\n        close() {\n            this.$emit('close');\n        },\n        edit() {\n            let view = this;\n            let data = {};\n            data.id = this.element.id;\n            data.title = this.title;\n            if (this.isChapter) {\n                let pattern = /(\\d{4})-(\\d{2})-(\\d{2})/;\n                if (this.publicationDate) {\n                    data.publication_date =\n                        new Date(this.publicationDate.replace(pattern, '$2,$3,$1')).getTime() / 1000;\n                    data.publication_date_readable = this.publicationDate.replace(pattern, '$3.$2.$1');\n                }\n                if (this.withdrawDate) {\n                    data.withdraw_date = new Date(this.withdrawDate.replace(pattern, '$2,$3,$1')).getTime() / 1000;\n                    data.withdraw_date_readable = this.withdrawDate.replace(pattern, '$3.$2.$1');\n                }\n                if (data.withdraw_date <= data.publication_date) {\n                    return;\n                }\n                data.isPublished = this.isPublished(this.publicationDate, this.withdrawDate);\n            }\n\n            $.ajax({\n                type: 'PUT',\n                url: '../blocks/' + data.id,\n                contentType: 'application/json',\n                data: JSON.stringify(data),\n                success: function() {\n                    view.$emit('edit', data);\n                    view.$emit('close');\n                },\n                error: function() {\n                    console.log('can not remove node!');\n                    view.$emit('close');\n                }\n            });\n        },\n        convertTimestampToDate(timestamp) {\n            let date = new Date(timestamp);\n\n            return (\n                date.getFullYear() +\n                '-' +\n                ('0' + (date.getMonth() + 1)).slice(-2) +\n                '-' +\n                ('0' + date.getDate()).slice(-2)\n            );\n        },\n        isPublished(publication_date, withdraw_date) {\n            let now = new Date();\n            if (\n                (new Date(publication_date) < now || publication_date == null) &&\n                (new Date(withdraw_date) > now || withdraw_date == null)\n            ) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n    },\n    watch: {\n        DialogVisible: function() {\n            this.visible = this.DialogVisible;\n            this.$nextTick(() => {\n                if (this.$refs.editDialogElementTitle) {\n                    this.$refs.editDialogElementTitle.focus();\n                }\n            });\n        },\n        publicationDate: function() {\n            this.minWithdrawDate = this.convertTimestampToDate(this.publicationDate);\n        },\n        withdrawDate: function() {\n            this.maxPublicationDate = this.convertTimestampToDate(this.withdrawDate);\n        }\n    }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditDialog.vue?vue&type=template&id=d1acd064&\"\nimport script from \"./EditDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./EditDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (this.visible)?_c('div',{staticClass:\"cw-dialog\"},[_c('transition',{attrs:{\"name\":\"modal-fade\"}},[_c('div',{staticClass:\"modal-backdrop\"},[_c('div',{staticClass:\"modal\",attrs:{\"role\":\"dialog\"}},[_c('header',{staticClass:\"modal-header\"},[_vm._t(\"header\",[_vm._v(\"\\n                        Unterelement hinzufügen\\n                        \"),_c('span',{staticClass:\"modal-close-button\",on:{\"click\":_vm.close}})])],2),_c('section',{staticClass:\"modal-body\"},[_c('label',{attrs:{\"for\":\"editDialogElementTitle\"}},[_vm._v(\"Titel:\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.title),expression:\"title\"}],ref:\"editDialogElementTitle\",attrs:{\"type\":\"text\",\"name\":\"editDialogElementTitle\"},domProps:{\"value\":(_vm.title)},on:{\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.edit($event)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.close($event)}],\"input\":function($event){if($event.target.composing){ return; }_vm.title=$event.target.value}}})]),_c('footer',{staticClass:\"modal-footer\"},[_vm._t(\"footer\",[_c('button',{staticClass:\"button accept\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.edit}},[_vm._v(\"\\n                            Speichern\\n                        \")]),_c('button',{staticClass:\"button cancel\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.close}},[_vm._v(\"\\n                            Abbrechen\\n                        \")])])],2)])])])],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div v-if=\"this.visible\" class=\"cw-dialog\">\n        <transition name=\"modal-fade\">\n            <div class=\"modal-backdrop\">\n                <div class=\"modal\" role=\"dialog\">\n                    <header class=\"modal-header\">\n                        <slot name=\"header\">\n                            Unterelement hinzufügen\n                            <span class=\"modal-close-button\" @click=\"close\"></span>\n                        </slot>\n                    </header>\n                    <section class=\"modal-body\">\n                        <label for=\"editDialogElementTitle\">Titel:</label>\n                        <input\n                            type=\"text\"\n                            name=\"editDialogElementTitle\"\n                            ref=\"editDialogElementTitle\"\n                            v-model=\"title\"\n                            @keyup.enter=\"edit\"\n                            @keyup.esc=\"close\"\n                        />\n                    </section>\n                    <footer class=\"modal-footer\">\n                        <slot name=\"footer\">\n                            <button type=\"button\" class=\"button accept\" @click=\"edit\">\n                                Speichern\n                            </button>\n\n                            <button type=\"button\" class=\"button cancel\" @click=\"close\">\n                                Abbrechen\n                            </button>\n                        </slot>\n                    </footer>\n                </div>\n            </div>\n        </transition>\n    </div>\n</template>\n<script>\nimport axios from 'axios';\nexport default {\n    name: 'AddChildDialog',\n    props: {\n        DialogVisible: Boolean,\n        element: Object\n    },\n    data() {\n        return {\n            visible: this.DialogVisible,\n            type: this.element.childType,\n            title: '',\n            currentElement: this.element\n        };\n    },\n    mounted() {},\n    methods: {\n        close() {\n            this.$emit('close');\n            this.title = '';\n        },\n        edit() {\n            let view = this;\n            if (this.title == '') {\n                this.title = 'new ' + this.type;\n            }\n            axios\n                .post('add_structure', {\n                    parent: view.element.id,\n                    title: view.title,\n                    type: view.type,\n                    cid: COURSEWARE.config.cid\n                })\n                .then(response => {\n                    view.$emit('add-child', response.data);\n                    view.close();\n                })\n                .catch(error => {\n                    console.log('there was an error: ' + error.response);\n                    view.close();\n                });\n        }\n    },\n    watch: {\n        DialogVisible: function() {\n            this.visible = this.DialogVisible;\n            this.$nextTick(() => {\n                if (this.$refs.editDialogElementTitle) {\n                    this.$refs.editDialogElementTitle.focus();\n                }\n            });\n        }\n    }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddChildDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddChildDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddChildDialog.vue?vue&type=template&id=c9c7fbd4&\"\nimport script from \"./AddChildDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./AddChildDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (this.visible)?_c('div',{staticClass:\"cw-dialog\"},[_c('transition',{attrs:{\"name\":\"modal-fade\"}},[_c('div',{staticClass:\"modal-backdrop\"},[_c('div',{staticClass:\"modal cw-permission-modal\",attrs:{\"role\":\"dialog\"}},[_c('header',{staticClass:\"modal-header\"},[_vm._t(\"header\",[_vm._v(\"\\n                        Lese- und Schreibrechte für Studierende festlegen\\n                        \"),_c('span',{staticClass:\"modal-close-button\",on:{\"click\":_vm.close}})])],2),_c('section',{staticClass:\"modal-body\"},[_c('label',{staticClass:\"students-permissions-new-users-label\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.settings.defaultRead),expression:\"settings.defaultRead\"}],staticClass:\"default\",attrs:{\"type\":\"checkbox\",\"value\":\"read\"},domProps:{\"checked\":Array.isArray(_vm.settings.defaultRead)?_vm._i(_vm.settings.defaultRead,\"read\")>-1:(_vm.settings.defaultRead)},on:{\"change\":function($event){var $$a=_vm.settings.defaultRead,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"read\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.settings, \"defaultRead\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.settings, \"defaultRead\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.settings, \"defaultRead\", $$c)}}}}),_vm._v(\"\\n                        Neue Nutzer/-innen bekommen Leserechte\\n                    \")]),(_vm.autor_members.length)?_c('table',{staticClass:\"default students-permissions-list\"},[_c('caption',[_vm._v(\"\\n                            \"+_vm._s(this.settings.caption_autor)+\"\\n                        \")]),_c('colgroup',[_c('col',{attrs:{\"width\":\"20%\"}}),_c('col',{attrs:{\"width\":\"35%\"}}),_c('col',{attrs:{\"width\":\"45%\"}})]),_c('thead',[_c('tr',[_c('th',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.toggled.autor.read),expression:\"toggled.autor.read\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.toggled.autor.read)?_vm._i(_vm.toggled.autor.read,null)>-1:(_vm.toggled.autor.read)},on:{\"change\":[function($event){var $$a=_vm.toggled.autor.read,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.toggled.autor, \"read\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.toggled.autor, \"read\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.toggled.autor, \"read\", $$c)}},function($event){return _vm.toggleAll('autor', 'read')}]}}),_vm._v(\"\\n                                    Lesen\\n                                \")]),_c('th',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.toggled.autor.write),expression:\"toggled.autor.write\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.toggled.autor.write)?_vm._i(_vm.toggled.autor.write,null)>-1:(_vm.toggled.autor.write)},on:{\"change\":[function($event){var $$a=_vm.toggled.autor.write,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.toggled.autor, \"write\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.toggled.autor, \"write\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.toggled.autor, \"write\", $$c)}},function($event){return _vm.toggleAll('autor', 'write')}]}}),_vm._v(\"\\n                                    Lesen und Schreiben\\n                                \")]),_c('th',[_vm._v(\"Name\")])])]),_c('tbody',_vm._l((_vm.autor_members),function(user){return _c('tr',{key:user.user_id},[_c('td',{staticClass:\"perm\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user_perms[user.user_id]),expression:\"user_perms[user.user_id]\"}],attrs:{\"type\":\"checkbox\",\"id\":user.user_id + \"_read\",\"true-value\":\"read\",\"false-value\":\"none\"},domProps:{\"checked\":Array.isArray(_vm.user_perms[user.user_id])?_vm._i(_vm.user_perms[user.user_id],null)>-1:_vm._q(_vm.user_perms[user.user_id],\"read\")},on:{\"change\":[function($event){var $$a=_vm.user_perms[user.user_id],$$el=$event.target,$$c=$$el.checked?(\"read\"):(\"none\");if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.user_perms, user.user_id, $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.user_perms, user.user_id, $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.user_perms, user.user_id, $$c)}},_vm.updateToggleStatus]}})]),_c('td',{staticClass:\"perm\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user_perms[user.user_id]),expression:\"user_perms[user.user_id]\"}],attrs:{\"type\":\"checkbox\",\"true-value\":\"write\",\"false-value\":\"none\"},domProps:{\"checked\":Array.isArray(_vm.user_perms[user.user_id])?_vm._i(_vm.user_perms[user.user_id],null)>-1:_vm._q(_vm.user_perms[user.user_id],\"write\")},on:{\"change\":[function($event){var $$a=_vm.user_perms[user.user_id],$$el=$event.target,$$c=$$el.checked?(\"write\"):(\"none\");if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.user_perms, user.user_id, $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.user_perms, user.user_id, $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.user_perms, user.user_id, $$c)}},_vm.updateToggleStatus]}})]),_c('td',[_c('label',{attrs:{\"for\":user.user_id + \"_read\"}},[_vm._v(\"\\n                                        \"+_vm._s(user.firstname)+\"\\n                                        \"+_vm._s(user.lastname)+\"\\n                                        \"),_c('i',[_vm._v(_vm._s(user.username))])])])])}),0)]):_vm._e(),(_vm.user_members.length)?_c('table',{staticClass:\"default students-permissions-list\"},[_c('caption',[_vm._v(\"\\n                            \"+_vm._s(this.settings.caption_user)+\"\\n                        \")]),_c('colgroup',[_c('col',{attrs:{\"width\":\"15%\"}}),_c('col',{attrs:{\"width\":\"30%\"}}),_c('col',{attrs:{\"width\":\"55%\"}})]),_c('thead',[_c('th',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.toggled.user.read),expression:\"toggled.user.read\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.toggled.user.read)?_vm._i(_vm.toggled.user.read,null)>-1:(_vm.toggled.user.read)},on:{\"change\":[function($event){var $$a=_vm.toggled.user.read,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.toggled.user, \"read\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.toggled.user, \"read\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.toggled.user, \"read\", $$c)}},function($event){return _vm.toggleAll('user', 'read')}]}}),_vm._v(\"\\n                                Lesen\\n                            \")]),_c('th'),_c('th')]),_c('tbody',_vm._l((_vm.user_members),function(user){return _c('tr',{key:user.user_id},[_c('td',{staticClass:\"perm\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.user_perms[user.user_id]),expression:\"user_perms[user.user_id]\"}],attrs:{\"type\":\"checkbox\",\"id\":user.user_id + \"_read\",\"true-value\":\"read\",\"false-value\":\"none\"},domProps:{\"checked\":Array.isArray(_vm.user_perms[user.user_id])?_vm._i(_vm.user_perms[user.user_id],null)>-1:_vm._q(_vm.user_perms[user.user_id],\"read\")},on:{\"change\":[function($event){var $$a=_vm.user_perms[user.user_id],$$el=$event.target,$$c=$$el.checked?(\"read\"):(\"none\");if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.user_perms, user.user_id, $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.user_perms, user.user_id, $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.user_perms, user.user_id, $$c)}},_vm.updateToggleStatus]}})]),_c('td',{staticClass:\"perm\"}),_c('td',[_c('label',{attrs:{\"for\":user.user_id + \"_read\"}},[_vm._v(\"\\n                                        \"+_vm._s(user.firstname)+\"\\n                                        \"+_vm._s(user.lastname)+\"\\n                                        \"),_c('i',[_vm._v(_vm._s(user.username))])])])])}),0)]):_vm._e()]),_c('footer',{staticClass:\"modal-footer\"},[_vm._t(\"footer\",[_c('button',{staticClass:\"button accept\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.set}},[_vm._v(\"\\n                            speichern\\n                        \")]),_c('button',{staticClass:\"button cancel\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.close}},[_vm._v(\"\\n                            abbrechen\\n                        \")])])],2)])])])],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div v-if=\"this.visible\" class=\"cw-dialog\">\n        <transition name=\"modal-fade\">\n            <div class=\"modal-backdrop\">\n                <div class=\"modal cw-permission-modal\" role=\"dialog\">\n                    <header class=\"modal-header\">\n                        <slot name=\"header\">\n                            Lese- und Schreibrechte für Studierende festlegen\n                            <span class=\"modal-close-button\" @click=\"close\"></span>\n                        </slot>\n                    </header>\n                    <section class=\"modal-body\">\n                        <label class=\"students-permissions-new-users-label\">\n                            <input type=\"checkbox\" class=\"default\"\n                                value=\"read\"\n                                v-model=\"settings.defaultRead\"\n                            />\n                            Neue Nutzer/-innen bekommen Leserechte\n                        </label>\n\n                        <table class=\"default students-permissions-list\" v-if=\"autor_members.length\">\n                            <caption>\n                                {{ this.settings.caption_autor }}\n                            </caption>\n                            <colgroup>\n                                <col width=\"20%\">\n                                <col width=\"35%\">\n                                <col width=\"45%\">\n                            </colgroup>\n                            <thead>\n                                <tr>\n                                    <th>\n                                        <input type=\"checkbox\"\n                                            v-model=\"toggled.autor.read\"\n                                            @change=\"toggleAll('autor', 'read')\"\n                                        />\n                                        Lesen\n                                    </th>\n                                    <th>\n                                        <input type=\"checkbox\"\n                                            v-model=\"toggled.autor.write\"\n                                            @change=\"toggleAll('autor', 'write')\"\n                                        />\n                                        Lesen und Schreiben\n                                    </th>\n                                    <th>Name</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                <tr v-for=\"user in autor_members\" :key=\"user.user_id\">\n                                    <td class=\"perm\">\n                                        <input type=\"checkbox\"\n                                            :id=\"user.user_id + `_read`\"\n                                            true-value=\"read\"\n                                            false-value=\"none\"\n                                            v-model=\"user_perms[user.user_id]\"\n                                            @change=\"updateToggleStatus\"\n                                        />\n                                    </td>\n                                    <td class=\"perm\">\n                                        <input type=\"checkbox\"\n                                            true-value=\"write\"\n                                            false-value=\"none\"\n                                            v-model=\"user_perms[user.user_id]\"\n                                            @change=\"updateToggleStatus\"\n                                        />\n                                    </td>\n\n                                    <td>\n                                        <label :for=\"user.user_id + `_read`\">\n                                            {{ user.firstname }}\n                                            {{ user.lastname }}\n                                            <i>{{ user.username }}</i>\n                                        </label>\n                                    </td>\n\n                                </tr>\n                            </tbody>\n                        </table>\n\n                        <table class=\"default students-permissions-list\" v-if=\"user_members.length\">\n                            <caption>\n                                {{ this.settings.caption_user }}\n                            </caption>\n                            <colgroup>\n                                <col width=\"15%\">\n                                <col width=\"30%\">\n                                <col width=\"55%\">\n                            </colgroup>\n                            <thead>\n                                <th>\n                                    <input type=\"checkbox\"\n                                        v-model=\"toggled.user.read\"\n                                        @change=\"toggleAll('user', 'read')\"\n                                    />\n                                    Lesen\n                                </th>\n                                <th></th>\n                                <th></th>\n                            </thead>\n                            <tbody>\n                                <tr v-for=\"user in user_members\" :key=\"user.user_id\">\n                                    <td class=\"perm\">\n                                        <input type=\"checkbox\"\n                                            :id=\"user.user_id + `_read`\"\n                                            true-value=\"read\"\n                                            false-value=\"none\"\n                                            v-model=\"user_perms[user.user_id]\"\n                                            @change=\"updateToggleStatus\"\n                                        />\n                                    </td>\n                                    <td class=\"perm\">\n\n                                    </td>\n\n                                    <td>\n                                        <label :for=\"user.user_id + `_read`\">\n                                            {{ user.firstname }}\n                                            {{ user.lastname }}\n                                            <i>{{ user.username }}</i>\n                                        </label>\n                                    </td>\n\n                                </tr>\n                            </tbody>\n                        </table>\n                    </section>\n                    <footer class=\"modal-footer\">\n                        <slot name=\"footer\">\n                            <button type=\"button\" class=\"button accept\" @click=\"set\">\n                                speichern\n                            </button>\n\n                            <button type=\"button\" class=\"button cancel\" @click=\"close\">\n                                abbrechen\n                            </button>\n                        </slot>\n                    </footer>\n                </div>\n            </div>\n        </transition>\n    </div>\n</template>\n<script>\nimport axios from 'axios';\n\nexport default {\n    name: 'StudentsPermissionsDialog',\n    props: {\n        DialogVisible: Boolean,\n        element: Object,\n        users: Array\n    },\n\n    data() {\n        return {\n            visible: this.DialogVisible,\n            currentElement: this.element,\n            // users: this.$store.state.courseUsers,\n            user_perms: [],\n            settings: {\n                defaultRead: true,\n                caption_autor: 'Studierende',\n                caption_user:  'Leser/innen'\n            },\n            toggled: {\n                autor: {\n                    read: false,\n                    write: false\n                },\n                user: {\n                    read: true\n                }\n            }\n        };\n    },\n\n    computed: {\n        autor_members() {\n            if ((this.users).length === 0) {\n                return [];\n            }\n\n            let members = this.users.filter(function(user) {\n                return user.perm == 'autor';\n            });\n\n            return members;\n        },\n\n        user_members() {\n            if ((this.users).length === 0) {\n                return [];\n            }\n\n            let members = this.users.filter(function(user) {\n                return user.perm == 'user';\n            });\n\n            return members;\n        }\n    },\n\n    mounted() {\n        this.updateAutorMembers();\n    },\n\n    methods: {\n        close() {\n            if (!this.deleting) {\n                this.$emit('close');\n            }\n        },\n        set() {\n            let bid  = this.element.id;\n            let list = {\n                users:    this.user_perms,\n                settings: this.settings\n            }\n\n            axios\n                .post('set_element_approval_list', { bid: bid, list: JSON.stringify(list) })\n                .then(response => {\n                    console.log(response);\n                    this.$emit('close');\n                })\n                .catch(error => {\n                    console.log(error);\n                    this.$emit('close');\n                });\n        },\n\n        getApprovalList() {\n            let bid = this.element.id;\n            let view = this;\n            axios\n                .post('get_element_approval_list', { bid: bid, type: 'users' })\n                .then(response => {\n                    // view.users = view.$store.state.courseUsers;\n\n                    if (response.data != null) {\n                        if (response.data.users !== undefined) {\n                            view.user_perms = response.data.users;\n                        }\n\n                        if (response.data.settings !== undefined) {\n                            view.settings   = response.data.settings;\n                        }\n                    }\n                })\n                .catch(error => {\n                    console.log(error);\n                });\n        },\n\n        toggleAll(type, perm) {\n            let current = this.toggled[type][perm];\n            let new_perms = { ...this.user_perms };\n            let members;\n\n            if (type === 'autor') {\n                members = this.autor_members;\n                if (perm == 'write') {\n                    this.toggled.autor.read = false;\n                } else {\n                    this.toggled.autor.write = false;\n                }\n            } else {\n                members = this.user_members\n            }\n\n            for (let key in members) {\n                new_perms[members[key].user_id] = current ? perm : 'none';\n            }\n\n            this.user_perms = new_perms;\n        },\n\n        updateToggleStatus() {\n            this.toggled.autor.read = true;\n            this.toggled.autor.write = true;\n            this.toggled.user.read = true;\n\n            for (let key in this.autor_members) {\n                if (this.user_perms[this.autor_members[key].user_id] !== 'read') {\n                    this.toggled.autor.read = false;\n                }\n                if (this.user_perms[this.autor_members[key].user_id] !== 'write') {\n                    this.toggled.autor.write = false;\n                }\n            }\n\n\n            for (let key in this.user_members) {\n                if (this.user_perms[this.user_members[key].user_id] !== 'read') {\n                    this.toggled.user.read = false;\n                }\n            }\n        },\n\n        updateAutorMembers() {\n            let new_perms = { ...this.user_perms };\n            let view = this;\n\n            // per default, give new users read permissions\n            for (let key in this.autor_members) {\n                if (this.user_perms[this.autor_members[key].user_id] === undefined) {\n                    if (this.settings.defaultRead) {\n                        new_perms[this.autor_members[key].user_id] = 'read';\n                    } else {\n                        new_perms[this.autor_members[key].user_id] = 'none';\n                    }\n                }\n            }\n            this.user_perms = new_perms;\n        },\n\n        updateUserMembers() {\n            let new_perms = { ...this.user_perms };\n\n            // per default, give new users read permissions\n            for (let key in this.user_members) {\n                if (this.user_perms[this.user_members[key].user_id] === undefined) {\n                    if (this.settings.defaultRead) {\n                        new_perms[this.user_members[key].user_id] = 'read';\n                    } else {\n                        new_perms[this.user_members[key].user_id] = 'none';\n                    }\n                }\n            }\n\n            this.user_perms = new_perms;\n        }\n\n    },\n\n    watch: {\n        DialogVisible: function() {\n            this.visible = this.DialogVisible;\n            // this.users = [];\n\n            if (this.visible) {\n                this.getApprovalList();\n            } else {\n                this.user_perms = [];\n                this.settings = {\n                    defaultRead: true\n                }\n            }\n        },\n\n        user_perms: function() {\n            this.updateToggleStatus();\n        }\n    }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StudentsPermissionsDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StudentsPermissionsDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./StudentsPermissionsDialog.vue?vue&type=template&id=a02548e6&\"\nimport script from \"./StudentsPermissionsDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./StudentsPermissionsDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (this.visible)?_c('div',{staticClass:\"cw-dialog\"},[_c('transition',{attrs:{\"name\":\"modal-fade\"}},[_c('div',{staticClass:\"modal-backdrop\"},[_c('div',{staticClass:\"modal cw-permission-modal\",attrs:{\"role\":\"dialog\"}},[_c('header',{ref:\"modalHeader\",staticClass:\"modal-header\"},[_vm._t(\"header\",[_vm._v(\"\\n                        Lese- und Schreibrechte für Gruppen festlegen\\n                        \"),_c('span',{staticClass:\"modal-close-button\",on:{\"click\":_vm.close}})])],2),_c('section',{staticClass:\"modal-body\"},[(_vm.groups.length)?_c('table',{staticClass:\"default groups-permissions-list\"},[_c('colgroup',[_c('col',{attrs:{\"width\":\"20%\"}}),_c('col',{attrs:{\"width\":\"35%\"}}),_c('col',{attrs:{\"width\":\"45%\"}})]),_c('thead',[_c('tr',[_c('th',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.toggled.read),expression:\"toggled.read\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.toggled.read)?_vm._i(_vm.toggled.read,null)>-1:(_vm.toggled.read)},on:{\"change\":[function($event){var $$a=_vm.toggled.read,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.toggled, \"read\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.toggled, \"read\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.toggled, \"read\", $$c)}},function($event){return _vm.toggleAll('read')}]}}),_vm._v(\"\\n                                    Lesen\\n                                \")]),_c('th',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.toggled.write),expression:\"toggled.write\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.toggled.write)?_vm._i(_vm.toggled.write,null)>-1:(_vm.toggled.write)},on:{\"change\":[function($event){var $$a=_vm.toggled.write,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.toggled, \"write\", $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.toggled, \"write\", $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.toggled, \"write\", $$c)}},function($event){return _vm.toggleAll('write')}]}}),_vm._v(\"\\n                                    Lesen und Schreiben\\n                                \")]),_c('th',[_vm._v(\"Gruppenname\")])])]),_c('tbody',_vm._l((_vm.groups),function(group){return _c('tr',{key:group.id},[_c('td',{staticClass:\"perm\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.perms[group.id]),expression:\"perms[group.id]\"}],attrs:{\"type\":\"checkbox\",\"id\":group.id + \"_read\",\"true-value\":\"read\",\"false-value\":\"none\"},domProps:{\"checked\":Array.isArray(_vm.perms[group.id])?_vm._i(_vm.perms[group.id],null)>-1:_vm._q(_vm.perms[group.id],\"read\")},on:{\"change\":[function($event){var $$a=_vm.perms[group.id],$$el=$event.target,$$c=$$el.checked?(\"read\"):(\"none\");if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.perms, group.id, $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.perms, group.id, $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.perms, group.id, $$c)}},_vm.updateToggleStatus]}})]),_c('td',{staticClass:\"perm\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.perms[group.id]),expression:\"perms[group.id]\"}],attrs:{\"type\":\"checkbox\",\"true-value\":\"write\",\"false-value\":\"none\"},domProps:{\"checked\":Array.isArray(_vm.perms[group.id])?_vm._i(_vm.perms[group.id],null)>-1:_vm._q(_vm.perms[group.id],\"write\")},on:{\"change\":[function($event){var $$a=_vm.perms[group.id],$$el=$event.target,$$c=$$el.checked?(\"write\"):(\"none\");if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.$set(_vm.perms, group.id, $$a.concat([$$v])))}else{$$i>-1&&(_vm.$set(_vm.perms, group.id, $$a.slice(0,$$i).concat($$a.slice($$i+1))))}}else{_vm.$set(_vm.perms, group.id, $$c)}},_vm.updateToggleStatus]}})]),_c('td',[_c('label',{attrs:{\"for\":group.id + \"_read\"}},[_vm._v(\"\\n                                        \"+_vm._s(group.name)+\"\\n                                    \")])])])}),0)]):_c('span',[_vm._v(\"\\n                        In dieser Veranstaltung gibt es bisher keine Grupppen!\\n                    \")])]),_c('footer',{staticClass:\"modal-footer\"},[_vm._t(\"footer\",[_c('button',{staticClass:\"button accept\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.set}},[_vm._v(\"\\n                            speichern\\n                        \")]),_c('button',{staticClass:\"button cancel\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.close}},[_vm._v(\"\\n                            abbrechen\\n                        \")])])],2)])])])],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div v-if=\"this.visible\" class=\"cw-dialog\">\n        <transition name=\"modal-fade\">\n            <div class=\"modal-backdrop\">\n                <div class=\"modal cw-permission-modal\" role=\"dialog\">\n                    <header class=\"modal-header\" ref=\"modalHeader\">\n                        <slot name=\"header\">\n                            Lese- und Schreibrechte für Gruppen festlegen\n                            <span class=\"modal-close-button\" @click=\"close\"></span>\n                        </slot>\n                    </header>\n                    <section class=\"modal-body\">\n                        <table class=\"default groups-permissions-list\" v-if=\"groups.length\">\n                            <colgroup>\n                                <col width=\"20%\">\n                                <col width=\"35%\">\n                                <col width=\"45%\">\n                            </colgroup>\n                            <thead>\n                                <tr>\n                                    <th>\n                                        <input type=\"checkbox\"\n                                            v-model=\"toggled.read\"\n                                            @change=\"toggleAll('read')\"\n                                        />\n                                        Lesen\n                                    </th>\n                                    <th>\n                                        <input type=\"checkbox\"\n                                            v-model=\"toggled.write\"\n                                            @change=\"toggleAll('write')\"\n                                        />\n                                        Lesen und Schreiben\n                                    </th>\n                                    <th>Gruppenname</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                <tr v-for=\"group in groups\" :key=\"group.id\">\n                                    <td class=\"perm\">\n                                        <input type=\"checkbox\"\n                                            :id=\"group.id + `_read`\"\n                                            true-value=\"read\"\n                                            false-value=\"none\"\n                                            v-model=\"perms[group.id]\"\n                                            @change=\"updateToggleStatus\"\n                                        />\n                                    </td>\n\n                                    <td class=\"perm\">\n                                        <input type=\"checkbox\"\n                                            true-value=\"write\"\n                                            false-value=\"none\"\n                                            v-model=\"perms[group.id]\"\n                                            @change=\"updateToggleStatus\"\n                                        />\n                                    </td>\n\n                                    <td>\n                                        <label :for=\"group.id + `_read`\">\n                                            {{ group.name }}\n                                        </label>\n                                    </td>\n\n                                </tr>\n                            </tbody>\n                        </table>\n\n                        <span v-else>\n                            In dieser Veranstaltung gibt es bisher keine Grupppen!\n                        </span>\n                    </section>\n                    <footer class=\"modal-footer\">\n                        <slot name=\"footer\">\n                            <button type=\"button\" class=\"button accept\" @click=\"set\">\n                                speichern\n                            </button>\n\n                            <button type=\"button\" class=\"button cancel\" @click=\"close\">\n                                abbrechen\n                            </button>\n                        </slot>\n                    </footer>\n                </div>\n            </div>\n        </transition>\n    </div>\n</template>\n<script>\nimport axios from 'axios';\nexport default {\n    name: 'GroupsPermissionsDialog',\n    props: {\n        DialogVisible: Boolean,\n        element: Object,\n        groups: Array\n    },\n\n    data() {\n        return {\n            visible: this.DialogVisible,\n            currentElement: this.element,\n            // groups: this.$store.state.courseGroups,\n            perms: {},\n            toggled: {\n                read: false,\n                write: false\n            }\n        };\n    },\n\n    methods: {\n        close() {\n            if (!this.deleting) {\n                this.$emit('close');\n            }\n        },\n\n        set() {\n            let bid = this.element.id;\n            let list = {};\n            list.groups = this.perms;\n            axios\n                .post('set_element_approval_list', { bid: bid, list: JSON.stringify(list) })\n                .then(response => {\n                    console.log(response);\n                    this.$emit('close');\n                })\n                .catch(error => {\n                    console.log(error);\n                    this.$emit('close');\n                });\n        },\n\n        getApprovalList() {\n            let bid = this.element.id;\n            let view = this;\n            axios\n                .post('get_element_approval_list', { bid: bid, type: 'groups' })\n                .then(response => {\n                    //view.groups = view.$store.state.courseGroups;\n\n                    if (response.data !== null && response.data.groups !== undefined) {\n                        view.perms = response.data.groups;\n                    } else {\n                        for (let key in view.groups) {\n                            view.perms[this.groups[key].id] = \"none\";\n                        }\n                    }\n                })\n                .catch(error => {\n                    console.log(error);\n                });\n        },\n\n        toggleAll(perm) {\n            let current = this.toggled[perm];\n            let new_perms = { ...this.perms };\n            let groups = this.groups;\n\n            if (perm == 'write') {\n                this.toggled.read = false;\n            } else {\n                this.toggled.write = false;\n            }\n\n            for (let key in groups) {\n                new_perms[groups[key].id] = current ? perm : 'none';\n            }\n\n            this.perms = new_perms;\n        },\n\n        updateToggleStatus() {\n            this.toggled.read = true;\n            this.toggled.write = true;\n\n            for (let key in this.groups) {\n                if (this.perms[this.groups[key].id] !== 'read') {\n                    this.toggled.read = false;\n                }\n\n                if (this.perms[this.groups[key].id] !== 'write') {\n                    this.toggled.write = false;\n                }\n\n            }\n        }\n    },\n\n    watch: {\n        DialogVisible: function() {\n            this.visible = this.DialogVisible;\n            if (this.visible) {\n                this.getApprovalList();\n            } else {\n                this.perms = {};\n            }\n        }\n    }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupsPermissionsDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GroupsPermissionsDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./GroupsPermissionsDialog.vue?vue&type=template&id=7f42df92&\"\nimport script from \"./GroupsPermissionsDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./GroupsPermissionsDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"strucutal-element-menu-wrapper\">\n        <nav class=\"action-menu bymousedown strucutal-element-menu\" ref=\"actionMenu\">\n            <a class=\"action-menu-icon\" title=\"Aktionen\" href=\"#\">\n                <div></div>\n                <div></div>\n                <div></div>\n            </a>\n            <div class=\"action-menu-content\">\n                <div class=\"action-menu-title\">\n                    Aktionen\n                </div>\n                <ul class=\"action-menu-list\">\n                    <li v-if=\"this.users_button\" class=\"action-menu-item\">\n                        <a\n                            href=\"#\"\n                            class=\"set-users\"\n                            @click=\"\n                                setStudentsPermissionsDialogVisible = true;\n                                $refs.actionMenu.classList.remove('active');\n                            \"\n                        >\n                            Lese- und Schreibrechte für Studierende festlegen\n                        </a>\n                    </li>\n                    <li v-if=\"this.groups_button\" class=\"action-menu-item\">\n                        <a\n                            href=\"#\"\n                            class=\"set-groups\"\n                            @click=\"\n                                setGroupsPermissionsDialogVisible = true;\n                                $refs.actionMenu.classList.remove('active');\n                            \"\n                        >\n                            Lese- und Schreibrechte für Gruppen festlegen\n                        </a>\n                    </li>\n                    <li v-if=\"this.edit_button\" class=\"action-menu-item\">\n                        <a\n                            href=\"#\"\n                            class=\"edit-element\"\n                            @click=\"\n                                editDialogVisible = true;\n                                $refs.actionMenu.classList.remove('active');\n                            \"\n                        >\n                            Element bearbeiten\n                        </a>\n                    </li>\n                    <li v-if=\"this.remove_button\" class=\"action-menu-item\">\n                        <a\n                            href=\"#\"\n                            class=\"remove-element\"\n                            @click=\"\n                                removeDialogVisible = true;\n                                $refs.actionMenu.classList.remove('active');\n                            \"\n                        >\n                            Element löschen\n                        </a>\n                    </li>\n                    <li v-if=\"this.add_child_button\" class=\"action-menu-item\">\n                        <a\n                            href=\"#\"\n                            class=\"add-child-element\"\n                            @click=\"\n                                addChildDialogVisible = true;\n                                $refs.actionMenu.classList.remove('active');\n                            \"\n                        >\n                            Unterelement hinzufügen\n                        </a>\n                    </li>\n                </ul>\n            </div>\n        </nav>\n        <StudentsPermissionsDialog\n            v-if=\"this.users_button\"\n            :DialogVisible=\"this.setStudentsPermissionsDialogVisible\"\n            :element=\"this.element\"\n            :users=\"courseUsers\"\n            @close=\"setStudentsPermissionsDialogVisible = false\"\n            @set=\"setStudentsPermissionsAction\"\n        />\n        <GroupsPermissionsDialog\n            v-if=\"this.groups_button\"\n            :DialogVisible=\"this.setGroupsPermissionsDialogVisible\"\n            :element=\"this.element\"\n            :groups=\"courseGroups\"\n            @close=\"setGroupsPermissionsDialogVisible = false\"\n            @set=\"setGroupsPermissionsAction\"\n        />\n        <EditDialog\n            v-if=\"this.edit_button\"\n            :DialogVisible=\"this.editDialogVisible\"\n            :element=\"this.element\"\n            @close=\"editDialogVisible = false\"\n            @edit=\"editDialogAction\"\n        />\n        <RemoveDialog\n            v-if=\"this.remove_button\"\n            :DialogVisible=\"this.removeDialogVisible\"\n            :element=\"this.element\"\n            @close=\"removeDialogVisible = false\"\n            @remove=\"$emit('remove')\"\n        />\n        <AddChildDialog\n            v-if=\"this.add_child_button\"\n            :DialogVisible=\"this.addChildDialogVisible\"\n            :element=\"this.element\"\n            @close=\"addChildDialogVisible = false\"\n            @add-child=\"addChildDialogAction\"\n        />\n    </div>\n</template>\n<script>\nimport RemoveDialog from './RemoveDialog.vue';\nimport EditDialog from './EditDialog.vue';\nimport AddChildDialog from './AddChildDialog.vue';\nimport StudentsPermissionsDialog from './StudentsPermissionsDialog.vue';\nimport GroupsPermissionsDialog from './GroupsPermissionsDialog.vue';\nexport default {\n    props: {\n        buttons: Array,\n        element: Object,\n        courseUsers: Array,\n        courseGroups: Array\n    },\n    components: { RemoveDialog, EditDialog, AddChildDialog, StudentsPermissionsDialog, GroupsPermissionsDialog },\n    data() {\n        return {\n            edit_button: false,\n            remove_button: false,\n            groups_button: false,\n            users_button: false,\n            add_child_button: false,\n            removeDialogVisible: false,\n            editDialogVisible: false,\n            addChildDialogVisible: false,\n            setStudentsPermissionsDialogVisible: false,\n            setGroupsPermissionsDialogVisible: false\n        };\n    },\n    created() {\n        let view = this;\n        this.buttons.forEach(element => {\n            switch (element) {\n                case 'edit':\n                    view.edit_button = true;\n                    break;\n                case 'remove':\n                    view.remove_button = true;\n                    break;\n                case 'add-child':\n                    view.add_child_button = true;\n                    break;\n                case 'groups':\n                    view.groups_button = true;\n                    break;\n                case 'users':\n                    view.users_button = true;\n                    break;\n            }\n        });\n    },\n    methods: {\n        editDialogAction(data) {\n            this.$emit('edit', data);\n        },\n        addChildDialogAction(data) {\n            this.$emit('add-child', data);\n        },\n        setStudentsPermissionsAction(data) {\n            this.$emit('set-students-permissions', data);\n        },\n        setGroupsPermissionsAction(data) {\n            this.$emit('set-groups-permissions', data);\n        }\n    }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActionMenuItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActionMenuItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ActionMenuItem.vue?vue&type=template&id=5f05ee39&\"\nimport script from \"./ActionMenuItem.vue?vue&type=script&lang=js&\"\nexport * from \"./ActionMenuItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <li\n        class=\"block-item\"\n        :class=\"{\n            element_hidden: !block.isPublished && !this.importContent && !this.remoteContent,\n            'block-item-import': importContent,\n            'block-item-remote': remoteContent\n        }\"\n        :data-id=\"id\"\n    >\n        <div\n            class=\"block-description block-handle\"\n            :class=\"{\n                element_hidden: !block.isPublished && !this.importContent && !this.remoteContent,\n                unfolded: unfolded\n            }\"\n            @click=\"toggleContent\"\n        >\n            <span :class=\"['block-icon cw-block-icon-' + block.type]\"></span>\n            {{ block.readable_name }}\n        </div>\n        <ActionMenuItem\n            v-if=\"!this.importContent && !this.remoteContent\"\n            :buttons=\"['remove']\"\n            :element=\"this.block\"\n            @remove=\"removeElement\"\n        />\n        <ul v-if=\"unfolded\" class=\"block-preview\" :class=\"{ 'block-preview-import': importContent }\">\n            <li class=\"block-content-preview\" v-html=\"preview\"></li>\n        </ul>\n    </li>\n</template>\n\n<script>\nimport ActionMenuItem from './ActionMenuItem.vue';\nexport default {\n    name: 'BlockItem',\n    data() {\n        return {\n            id: this.block.id,\n            preview: '',\n            unfolded: false\n        };\n    },\n    components: {\n        ActionMenuItem\n    },\n    props: {\n        block: Object,\n        importContent: Boolean,\n        remoteContent: Boolean\n    },\n    created() {\n        this.preview = this.block.preview;\n    },\n    watch: {\n        block: function() {\n            this.id = this.block.id;\n        }\n    },\n    methods: {\n        removeElement() {\n            this.$emit('remove-block', this.block);\n        },\n        toggleContent() {\n            this.unfolded = !this.unfolded;\n        }\n    }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BlockItem.vue?vue&type=template&id=58bbd640&\"\nimport script from \"./BlockItem.vue?vue&type=script&lang=js&\"\nexport * from \"./BlockItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default {\n    methods: {\n        cutTitle(title, length = 30) {\n            return title.length > length ? title.substr(0, length - 1) + '…' : title;\n        },\n        getReadableDate(date) {\n            let datetime = new Date(date);\n            return (\n                ('0' + datetime.getDate()).slice(-2) +\n                '.' +\n                ('0' + (datetime.getMonth() + 1)).slice(-2) +\n                '.' +\n                datetime.getFullYear()\n            );\n        },\n        getContent(node, unziped) {\n            var json = {};\n            switch (node.getAttribute('type')) {\n                case 'AssortBlock':\n                    return '';\n                case 'AudioBlock':\n                    var filename = node.getAttribute('audio:audio_file_name');\n                    var file_id = node.getAttribute('audio:audio_id');\n                    if (file_id != '') {\n                        var audio_blob = this.getAudioBlob(unziped, filename);\n                        return '<p>'+filename+'</p><audio controls width=\"100%\"><source src=\"'+audio_blob+'\"/></audio>';\n                    }\n                    return '<p>'+filename+'</p><audio controls width=\"100%\"><source src=\"'+filename+'\"/></audio>';\n\n                case 'AudioGalleryBlock':\n                    return '';\n                case 'BeforeAfterBlock':\n                    json = JSON.parse(node.getAttribute('beforeafter:ba_before'));\n                    if (json.source == 'url') {\n                        return json.url;\n                    }\n                    var image = new Image;\n                    image.src = this.getImageBlob(unziped, json.file_name);\n                    return image.outerHTML;\n                case 'BlubberBlock':\n                    return '';\n                case 'CanvasBlock':\n                    json = JSON.parse(node.getAttribute('canvas:canvas_content'));\n                    if (json.source == 'web') {\n                        return json.image_url;\n                    }\n                    if (json.source == 'cw') {\n                        return json.image_name;\n                    }\n                    return '';\n                case 'ChartBlock':\n                    return node.getAttribute('chart:chart_type');\n                case 'CodeBlock':\n                    return this.escapeHtml(node.getAttribute('code:code_content'));\n                case 'ConfirmBlock':\n                    return node.getAttribute('title');\n                case 'DateBlock':\n                    json = JSON.parse(node.getAttribute('date:date_content'));\n                    return json.date + ' ' + json.time;\n                case 'DialogCardsBlock':\n                    json = JSON.parse(node.getAttribute('dialogcards:dialogcards_content'));\n                    return json[0].front_img_file_name;\n                case 'DiscussionBlock':\n                    return '';\n                case 'EmbedBlock':\n                    return node.getAttribute('embed:embed_source') + ' ' + node.getAttribute('embed:embed_url');\n                case 'FolderBlock':\n                    return '';\n                case 'ForumBlock':\n                    return '';\n                case 'GalleryBlock':\n                    return node.getAttribute('gallery:gallery_folder_name');\n                case 'HtmlBlock':\n                    return this.escapeHtml(node.textContent);\n                case 'IFrameBlock':\n                    return node.getAttribute('iframe:url');\n                case 'ImageMapBlock':\n                    var image_name = JSON.parse(node.getAttribute('imagemap:image_map_content')).image_name;\n                    var image = new Image;\n                    image.src = this.getImageBlob(unziped, image_name);\n                    return image.outerHTML;\n                case 'InteractiveVideoBlock':\n                    var video_blob = this.getVideoBlob(unziped, JSON.parse(node.getAttribute('interactivevideo:iav_source')).file_name);\n                    return '<video controls width=\"100%\"><source src=\"'+video_blob+'\"/></video>';\n                case 'KeyPointBlock':\n                    return this.escapeHtml(node.getAttribute('keypoint:keypoint_content'));\n                case 'LinkBlock':\n                    return node.getAttribute('link:link_target');\n                case 'OpenCastBlock':\n                    return '';\n                case 'PdfBlock':\n                    return node.getAttribute('pdf:pdf_filename');\n                case 'PostBlock':\n                    return '';\n                case 'SearchBlock':\n                    return '';\n                case 'TestBlock':\n                    var xml = node.getAttribute('test:xml');\n                    var parser = new DOMParser();\n                    var xmlDoc = parser.parseFromString(xml, 'text/xml');\n                    return xmlDoc.firstElementChild.children[0].textContent;\n                case 'TypewriterBlock':\n                    json = JSON.parse(node.getAttribute('typewriter:typewriter_json'));\n                    return this.escapeHtml(json.content);\n                case 'VideoBlock':\n                    if (node.getAttribute('video:webvideo') != '') {\n                        json = JSON.parse(node.getAttribute('video:webvideo'))[0];\n                        if (json.source == 'url') {\n                            return json.src;\n                        } else {\n                            var video_blob = this.getVideoBlob(unziped, json.file_name);\n                            return '<video controls width=\"100%\"><source src=\"'+video_blob+'\"/></video>';\n                        }\n                    }\n                    return node.getAttribute('video:url');\n                default:\n                    return '';\n            }\n        },\n        getImageBlob(unziped, filename) {\n            var keys = Object.keys(unziped.files);\n            var image = '';\n            keys.forEach((value, key) => {\n                if (value.indexOf(filename) > -1) {\n                    if (value.indexOf('png') > -1) {\n                        image = unziped.extractAsBlobUrl(value, 'image/png');\n                    }\n                    else if (value.indexOf('gif') > -1) {\n                        image = unziped.extractAsBlobUrl(value, 'image/gif');\n                    }\n                    else if ((value.indexOf('jpg') > -1) || (value.indexOf('jpeg') > -1)){\n                        image = unziped.extractAsBlobUrl(value, 'image/jpeg');\n                    }\n                    return;\n                }\n            });\n            return image;\n        },\n        getVideoBlob(unziped, filename) {\n            var keys = Object.keys(unziped.files);\n            var video = '';\n            keys.forEach((value, key) => {\n                if (value.indexOf(filename) > -1) {\n                    if (value.indexOf('mp4') > -1) {\n                        video = unziped.extractAsBlobUrl(value, 'video/mp4');\n                    }\n                    else if (value.indexOf('ogg') > -1) {\n                        video = unziped.extractAsBlobUrl(value, 'video/ogg');\n                    }\n                    else if (value.indexOf('webm') > -1) {\n                        video = unziped.extractAsBlobUrl(value, 'video/webm');\n                    }\n                    else if ((value.indexOf('mpg') > -1) || (value.indexOf('mpeg') > -1)|| (value.indexOf('mpe') > -1)){\n                        video = unziped.extractAsBlobUrl(value, 'video/mpeg');\n                    }\n                    return;\n                }\n            });\n            return video;\n        },\n        getAudioBlob(unziped, filename) {\n            var keys = Object.keys(unziped.files);\n            var audio = '';\n            keys.forEach((value, key) => {\n                if (value.indexOf(filename) > -1) {\n                    if (value.indexOf('mp3') > -1) {\n                        audio = unziped.extractAsBlobUrl(value, 'audio/mpeg');\n                    }\n                    else if (value.indexOf('mp4') > -1) {\n                        audio = unziped.extractAsBlobUrl(value, 'audio/mp4');\n                    }\n                    else if (value.indexOf('ogg') > -1) {\n                        audio = unziped.extractAsBlobUrl(audio, 'audio/ogg');\n                    }\n                    else if (value.indexOf('wav') > -1) {\n                        audio = unziped.extractAsBlobUrl(audio, 'audio/wav');\n                    }\n                    return;\n                }\n            });\n            return audio;\n        },\n        escapeHtml(text) {\n            var map = {\n              '&': '&amp;',\n              '<': '&lt;',\n              '>': '&gt;',\n              '\"': '&quot;',\n              \"'\": '&#039;'\n            };\n          \n            return text.replace(/[&<>\"']/g, function(m) { return map[m]; });\n        }\n    }\n};\n","<template>\n    <li\n        class=\"section-item\"\n        :class=\"{\n            'section-item-import': importContent,\n            'section-item-remote': remoteContent\n        }\"\n        :data-id=\"id\"\n    >\n        <div\n            class=\"section-description section-handle\"\n            :class=\"{\n                'full-width': importContent || remoteContent,\n                unfolded: unfolded\n            }\"\n            @click=\"toggleContent\"\n        >\n            <p class=\"section-title\" :title=\"title\">{{ shortTitle }}</p>\n            <p class=\"header-info-wrapper\">Abschnitt</p>\n        </div>\n        <ActionMenuItem\n            v-if=\"!this.importContent && !this.remoteContent\"\n            :buttons=\"['groups', 'users', 'edit', 'remove']\"\n            :element=\"this.element\"\n            :courseUsers=\"courseUsers\"\n            :courseGroups=\"courseGroups\"\n            @edit=\"editSection\"\n            @remove=\"removeElement\"\n            :class=\"{ unfolded: unfolded }\"\n        />\n        <draggable\n            tag=\"ul\"\n            v-if=\"unfolded\"\n            :list=\"blocks\"\n            :group=\"draggableGroup\"\n            v-bind=\"dragOptions\"\n            class=\"block-list\"\n            :class=\"{ 'block-list-import': importContent }\"\n            ghost-class=\"ghost\"\n            handle=\".block-handle\"\n            @sort=\"sortBlocks\"\n        >\n            <BlockItem\n                v-for=\"block in blocks\"\n                :key=\"block.id\"\n                :block=\"block\"\n                :importContent=\"importContent\"\n                :remoteContent=\"remoteContent\"\n                @remove-block=\"removeBlock\"\n                @isRemote=\"isRemoteAction\"\n            />\n            <p v-if=\"blocks.length == 0\">\n                Dieser Abschnitt ist leer.\n                <span v-if=\"!importContent\">Sie können einen Block in Courseware hinzufügen oder hier einen ablegen.</span>\n            </p>\n        </draggable>\n    </li>\n</template>\n\n<script>\nimport BlockItem from './BlockItem.vue';\nimport ActionMenuItem from './ActionMenuItem.vue';\nimport blockManagerHelperMixin from './../mixins/blockManagerHelperMixin.js';\nimport draggable from 'vuedraggable';\nexport default {\n    name: 'SectionItem',\n    mixins: [blockManagerHelperMixin],\n    data() {\n        return {\n            id: this.element.id,\n            title: this.element.title,\n            shortTitle: this.element.shortTitle,\n            unfolded: false,\n            blocks: this.element.children,\n            blockList: {},\n            draggableGroup: { name: 'blocks' }\n        };\n    },\n    components: {\n        BlockItem,\n        ActionMenuItem,\n        draggable\n    },\n    props: {\n        element: Object,\n        importContent: Boolean,\n        remoteContent: Boolean,\n        storeLock: Boolean,\n        courseUsers: Array,\n        courseGroups: Array\n    },\n    created() {\n        if (this.blocks == null) {\n            this.blocks = [];\n        }\n        if (this.importContent) {\n            this.draggableGroup = { name: 'blocks', pull: 'clone', put: false };\n        }\n        this.shortTitle = this.cutTitle(this.element.title, 30);\n    },\n    watch: {\n        element: function() {\n            if (this.element.children == null) {\n                this.blocks = [];\n            } else {\n                this.blocks = this.element.children;\n            }\n        }\n    },\n    methods: {\n        sortBlocks() {\n            let view = this;\n            let args = {};\n            let blockList = [];\n            let list = [];\n            this.blocks.forEach(element => {\n                if (element.isRemote) {\n                    list.push('remote_' + element.id);\n                    view.$emit('isRemote');\n                } else if (element.isImport) {\n                    list.push('import_' + element.id);\n                    view.$emit('isImport');\n                } else {\n                    list.push(element.id);\n                }\n            });\n            blockList[this.id] = list;\n            args.list = blockList;\n            args.type = 'block';\n            this.$emit('listUpdate', args);\n        },\n        removeBlock(data) {\n            let blocks = [];\n            this.blocks.forEach(element => {\n                if (element.id != data.id) {\n                    blocks.push(element);\n                }\n            });\n            this.blocks = blocks;\n        },\n        removeElement() {\n            this.$emit('remove-section', this.element);\n        },\n        editSection(data) {\n            this.title = data.title;\n            this.shortTitle = this.cutTitle(data.title, 30);\n        },\n        toggleContent() {\n            this.unfolded = !this.unfolded;\n        },\n        isRemoteAction() {\n            this.$emit('isRemote');\n        },\n    },\n    computed: {\n        dragOptions() {\n            if (this.importContent) {\n                return {\n                    animation: 200,\n                    disabled: this.storeLock,\n                    sort: false,\n                    ghostClass: 'ghost'\n                };\n            } else {\n                return {\n                    animation: 200,\n                    disabled: this.storeLock,\n                    ghostClass: 'ghost'\n                };\n            }\n        }\n    }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SectionItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SectionItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SectionItem.vue?vue&type=template&id=53e65710&\"\nimport script from \"./SectionItem.vue?vue&type=script&lang=js&\"\nexport * from \"./SectionItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <li\n        class=\"subchapter-item\"\n        :class=\"{\n            'subchapter-item-import': importContent,\n            'subchapter-item-remote': remoteContent\n        }\"\n        :data-id=\"id\"\n    >\n        <div\n            class=\"subchapter-description subchapter-handle\"\n            :class=\"{\n                'full-width': importContent || remoteContent,\n                unfolded: unfolded\n            }\"\n            @click=\"toggleContent\"\n        >\n            <p class=\"subchapter-title\" :title=\"title\">{{ shortTitle }}</p>\n            <p class=\"header-info-wrapper\">\n                <span\n                    :class=\"{\n                        'unpublished-info': !isPublished && (publication_date || withdraw_date),\n                        'published-info': isPublished && (publication_date || withdraw_date)\n                    }\"\n                >\n                    Unterkapitel\n                </span>\n                <span\n                    v-if=\"publication_date && !this.importContent && !this.remoteContent\"\n                    :class=\"{\n                        'unpublished-info': !isPublished,\n                        'published-info': isPublished\n                    }\"\n                >\n                    | sichtbar ab: {{ publication_date_readable }}</span\n                >\n                <span\n                    v-if=\"withdraw_date && !this.importContent && !this.remoteContent\"\n                    :class=\"{\n                        'unpublished-info': !isPublished,\n                        'published-info': isPublished\n                    }\"\n                >\n                    | unsichtbar ab: {{ withdraw_date_readable }}</span\n                >\n            </p>\n        </div>\n        <ActionMenuItem\n            v-if=\"!this.importContent && !this.remoteContent\"\n            :buttons=\"['edit', 'remove', 'groups', 'users', 'add-child']\"\n            :element=\"this.element\"\n            :courseUsers=\"courseUsers\"\n            :courseGroups=\"courseGroups\"\n            @edit=\"editElement\"\n            @remove=\"removeElement\"\n            @add-child=\"addChild\"\n            :class=\"{ unfolded: unfolded }\"\n        />\n\n        <draggable\n            tag=\"ul\"\n            v-if=\"unfolded\"\n            :list=\"sections\"\n            :group=\"draggableGroup\"\n            v-bind=\"dragOptions\"\n            class=\"section-list\"\n            :class=\"{ 'section-list-import': importContent }\"\n            ghost-class=\"ghost\"\n            handle=\".section-handle\"\n            @sort=\"sortSections\"\n        >\n            <SectionItem\n                v-for=\"section in sections\"\n                :key=\"section.id\"\n                :element=\"section\"\n                :importContent=\"importContent\"\n                :remoteContent=\"remoteContent\"\n                :storeLock=\"storeLock\"\n                :courseUsers=\"courseUsers\"\n                :courseGroups=\"courseGroups\"\n                @listUpdate=\"updateList\"\n                @remove-section=\"removeSection\"\n                @isRemote=\"isRemoteAction\"\n                @isImport=\"isImportAction\"\n            />\n            <p v-if=\"sections.length == 0\">\n                Dieses Unterkapitel ist leer.\n                <span v-if=\"!importContent\">Sie können hier einen Abschnitt ablegen oder einen neuen hinzufügen.</span>\n            </p>\n        </draggable>\n    </li>\n</template>\n\n<script>\nimport SectionItem from './SectionItem.vue';\nimport ActionMenuItem from './ActionMenuItem.vue';\nimport blockManagerHelperMixin from './../mixins/blockManagerHelperMixin.js';\nimport draggable from 'vuedraggable';\nexport default {\n    name: 'SubchapterItem',\n    mixins: [blockManagerHelperMixin],\n    data() {\n        return {\n            id: this.element.id,\n            publication_date: this.element.publication_date,\n            publication_date_readable: this.getReadableDate(this.element.publication_date),\n            withdraw_date: this.element.withdraw_date,\n            withdraw_date_readable: this.getReadableDate(this.element.withdraw_date),\n            isPublished: this.element.isPublished,\n            title: this.element.title,\n            shortTitle: this.element.shortTitle,\n            unfolded: false,\n            sections: this.element.children,\n            sectionList: {},\n            draggableGroup: { name: 'sections' }\n        };\n    },\n    components: {\n        SectionItem,\n        ActionMenuItem,\n        draggable\n    },\n    props: {\n        element: Object,\n        importContent: Boolean,\n        remoteContent: Boolean,\n        storeLock: Boolean,\n        courseUsers: Array,\n        courseGroups: Array\n    },\n    created() {\n        if (this.sections == null) {\n            this.sections = [];\n        }\n        if (this.importContent) {\n            this.draggableGroup = { name: 'sections', pull: 'clone', put: false };\n        }\n        this.shortTitle = this.cutTitle(this.element.title, 30);\n    },\n    watch: {\n        element: function() {\n            if (this.element.children == null) {\n                this.sections = [];\n            } else {\n                this.sections = this.element.children;\n            }\n        }\n    },\n    methods: {\n        sortSections() {\n            let view = this;\n            let args = {};\n            let sectionList = [];\n            let list = [];\n            let hasChildren = false;\n            this.sections.forEach(element => {\n                if (element.isRemote) {\n                    list.push('remote_' + element.id);\n                    view.isRemoteAction();\n                    if (element.children != null) {\n                        hasChildren = true;\n                        view.buildChildrenList(element, 'remote_');\n                    }\n                } else if (element.isImport) {\n                    list.push('import_' + element.id);\n                    view.isImportAction();\n                    if (element.children.length != null) {\n                        hasChildren = true;\n                        view.buildChildrenList(element, 'import_');\n                    }\n                } else {\n                    list.push(element.id);\n                }\n            });\n            sectionList[this.id] = list;\n            args.list = sectionList;\n            args.hasChildren = hasChildren;\n            args.type = 'section';\n            this.$emit('listUpdate', args);\n        },\n        buildChildrenList(element, type) {\n            let view = this;\n            let list = [];\n            let updateList = [];\n            let args = {};\n            let hasChildren = false;\n            element.children.forEach(child => {\n                list.push(type + child.id);\n                if (child.children != null) {\n                    hasChildren = true;\n                    view.buildChildrenList(child, type);\n                }\n            });\n            updateList[type + element.id] = list;\n            args.list = updateList;\n            args.hasChildren = hasChildren;\n            if (element.type.toLowerCase() == 'section') {\n                args.type = 'block';\n                this.$emit('listUpdate', args);\n            } else {\n                args.type = element.children[0].type.toLowerCase();\n                this.$emit('listUpdate', args);\n            }\n        },\n        updateList(args) {\n            this.$emit('listUpdate', args);\n        },\n        isRemoteAction() {\n            this.$emit('isRemote');\n        },\n        isImportAction() {\n            this.$emit('isImport');\n        },\n        removeElement() {\n            this.$emit('remove-subchapter', this.element);\n        },\n        editElement(data) {\n            this.title = data.title;\n            this.shortTitle = this.cutTitle(data.title);\n            this.publication_date = data.publication_date * 1000;\n            this.publication_date_readable = data.publication_date_readable;\n            this.withdraw_date = data.withdraw_date * 1000;\n            this.withdraw_date_readable = data.withdraw_date_readable;\n            this.isPublished = data.isPublished;\n        },\n        addChild(data) {\n            this.sections.push(data);\n        },\n        removeSection(data) {\n            let sections = [];\n            this.sections.forEach(element => {\n                if (element.id != data.id) {\n                    sections.push(element);\n                }\n            });\n            this.sections = sections;\n        },\n        toggleContent() {\n            this.unfolded = !this.unfolded;\n        }\n    },\n    computed: {\n        dragOptions() {\n            if (this.importContent) {\n                return {\n                    animation: 200,\n                    disabled: this.storeLock,\n                    sort: false,\n                    ghostClass: 'ghost'\n                };\n            } else {\n                return {\n                    animation: 200,\n                    disabled: this.storeLock,\n                    ghostClass: 'ghost'\n                };\n            }\n        }\n    }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubchapterItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubchapterItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SubchapterItem.vue?vue&type=template&id=46b98b08&\"\nimport script from \"./SubchapterItem.vue?vue&type=script&lang=js&\"\nexport * from \"./SubchapterItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <li\n        class=\"chapter-item\"\n        :class=\"{\n            'chapter-item-import': importContent,\n            'chapter-item-remote': remoteContent\n        }\"\n        :data-id=\"id\"\n    >\n        <div\n            class=\"chapter-description chapter-handle\"\n            :class=\"{\n                'full-width': importContent || remoteContent,\n                unfolded: unfolded\n            }\"\n            @click=\"toggleContent\"\n        >\n            <p class=\"chapter-title\" :title=\"title\">\n                {{ shortTitle }}\n            </p>\n            <p class=\"header-info-wrapper\">\n                <span\n                    :class=\"{\n                        'unpublished-info': !isPublished && (publication_date || withdraw_date),\n                        'published-info': isPublished && (publication_date || withdraw_date)\n                    }\"\n                >\n                    Kapitel\n                </span>\n                <span\n                    v-if=\"publication_date && !this.importContent && !this.remoteContent\"\n                    :class=\"{\n                        'unpublished-info': !isPublished,\n                        'published-info': isPublished\n                    }\"\n                    >| sichtbar ab: {{ publication_date_readable }}</span\n                >\n                <span\n                    v-if=\"withdraw_date && !this.importContent && !this.remoteContent\"\n                    :class=\"{\n                        'unpublished-info': !isPublished,\n                        'published-info': isPublished\n                    }\"\n                >\n                    | unsichtbar ab: {{ withdraw_date_readable }}</span\n                >\n            </p>\n        </div>\n        <ActionMenuItem\n            v-if=\"!this.importContent && !this.remoteContent\"\n            :buttons=\"['edit', 'remove', 'groups', 'users', 'add-child']\"\n            :element=\"this.element\"\n            :courseUsers=\"courseUsers\"\n            :courseGroups=\"courseGroups\"\n            @edit=\"editElement\"\n            @remove=\"removeElement\"\n            @add-child=\"addChild\"\n            :class=\"{ unfolded: unfolded }\"\n        />\n        <draggable\n            tag=\"ul\"\n            v-if=\"unfolded\"\n            :list=\"subchapters\"\n            :group=\"draggableGroup\"\n            v-bind=\"dragOptions\"\n            class=\"subchapter-list\"\n            :class=\"{ 'subchapter-list-import': importContent }\"\n            ghost-class=\"ghost\"\n            handle=\".subchapter-handle\"\n            @sort=\"sortSubchapters\"\n        >\n            <SubchapterItem\n                v-for=\"elementChild in subchapters\"\n                :key=\"elementChild.id\"\n                :element=\"elementChild\"\n                :importContent=\"importContent\"\n                :remoteContent=\"remoteContent\"\n                :storeLock=\"storeLock\"\n                :courseUsers=\"courseUsers\"\n                :courseGroups=\"courseGroups\"\n                @listUpdate=\"updateList\"\n                @remove-subchapter=\"removeSubchapter\"\n                @isRemote=\"isRemoteAction\"\n                @isImport=\"isImportAction\"\n            />\n            <p v-if=\"subchapters.length == 0\">\n                Dieses Kapitel ist leer.\n                <span v-if=\"!importContent\">Sie können hier ein Unterkapitel ablegen oder ein neues hinzufügen.</span>\n            </p>\n        </draggable>\n    </li>\n</template>\n\n<script>\nimport SubchapterItem from './SubchapterItem.vue';\nimport ActionMenuItem from './ActionMenuItem.vue';\nimport blockManagerHelperMixin from './../mixins/blockManagerHelperMixin.js';\nimport draggable from 'vuedraggable';\nexport default {\n    name: 'ChapterItem',\n    mixins: [blockManagerHelperMixin],\n    props: {\n        element: Object,\n        importContent: Boolean,\n        remoteContent: Boolean,\n        storeLock: Boolean,\n        courseUsers: Array,\n        courseGroups: Array\n    },\n    data() {\n        return {\n            id: this.element.id,\n            publication_date: this.element.publication_date,\n            publication_date_readable: this.getReadableDate(this.element.publication_date),\n            withdraw_date: this.element.withdraw_date,\n            withdraw_date_readable: this.getReadableDate(this.element.withdraw_date),\n            isPublished: this.element.isPublished,\n            title: this.element.title,\n            shortTitle: this.cutTitle(this.element.title, 30),\n            unfolded: false,\n            subchapters: this.element.children,\n            subchapterList: [],\n            draggableGroup: { name: 'subchapters' }\n        };\n    },\n    components: {\n        SubchapterItem,\n        ActionMenuItem,\n        draggable\n    },\n    created() {\n        if (this.subchapters == null) {\n            this.subchapters = [];\n        }\n        if (this.importContent) {\n            this.draggableGroup = { name: 'subchapters', pull: 'clone', put: false };\n        }\n    },\n    watch: {\n        element: function() {\n            if (this.element.children == null) {\n                this.subchapters = [];\n            } else {\n                this.subchapters = this.element.children;\n            }\n        }\n    },\n    methods: {\n        sortSubchapters() {\n            let view = this;\n            let args = {};\n            let subchapterList = [];\n            let list = [];\n            let hasChildren = false;\n            this.subchapters.forEach(element => {\n                if (element.isRemote) {\n                    list.push('remote_' + element.id);\n                    view.isRemoteAction();\n                    if (element.children != null) {\n                        hasChildren = true;\n                        view.buildChildrenList(element, 'remote_');\n                    }\n                } else if (element.isImport) {\n                    list.push('import_' + element.id);\n                    view.isImportAction();\n                    if (element.children != null) {\n                        hasChildren = true;\n                        view.buildChildrenList(element, 'import_');\n                    }\n                } else {\n                    list.push(element.id);\n                }\n            });\n            subchapterList[this.id] = list;\n            args.list = subchapterList;\n            args.hasChildren = hasChildren;\n            args.type = 'subchapter';\n            this.$emit('listUpdate', args);\n        },\n        buildChildrenList(element, type) {\n            let view = this;\n            let list = [];\n            let updateList = [];\n            let args = {};\n            let hasChildren = false;\n            element.children.forEach(child => {\n                list.push(type + child.id);\n                if (child.children != null) {\n                    hasChildren = true;\n                    view.buildChildrenList(child, type);\n                }\n            });\n            updateList[type + element.id] = list;\n            args.list = updateList;\n            args.hasChildren = hasChildren;\n            if (element.type.toLowerCase() == 'section') {\n                args.type = 'block';\n                this.$emit('listUpdate', args);\n            } else {\n                args.type = element.children[0].type.toLowerCase();\n                this.$emit('listUpdate', args);\n            }\n        },\n        isRemoteAction() {\n            this.$emit('isRemote');\n        },\n        isImportAction() {\n            this.$emit('isImport');\n        },\n        updateList(args) {\n            this.$emit('listUpdate', args);\n        },\n        removeElement() {\n            this.$emit('remove-chapter', this.element);\n        },\n        editElement(data) {\n            this.title = data.title;\n            this.shortTitle = this.cutTitle(data.title);\n            this.publication_date = data.publication_date * 1000;\n            this.publication_date_readable = data.publication_date_readable;\n            this.withdraw_date = data.withdraw_date * 1000;\n            this.withdraw_date_readable = data.withdraw_date_readable;\n            this.isPublished = data.isPublished;\n        },\n        addChild(data) {\n            this.subchapters.push(data);\n        },\n        removeSubchapter(data) {\n            let subchapters = [];\n            this.subchapters.forEach(element => {\n                if (element.id != data.id) {\n                    subchapters.push(element);\n                }\n            });\n            this.subchapters = subchapters;\n        },\n        toggleContent() {\n            this.unfolded = !this.unfolded;\n        }\n    },\n    computed: {\n        dragOptions() {\n            if (this.importContent) {\n                return {\n                    animation: 200,\n                    disabled: this.storeLock,\n                    sort: false,\n                    ghostClass: 'ghost'\n                };\n            } else {\n                return {\n                    animation: 200,\n                    disabled: this.storeLock,\n                    ghostClass: 'ghost'\n                };\n            }\n        }\n    }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChapterItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChapterItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChapterItem.vue?vue&type=template&id=354d5922&\"\nimport script from \"./ChapterItem.vue?vue&type=script&lang=js&\"\nexport * from \"./ChapterItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"semester-item\"},[_c('p',{staticClass:\"semester-description\",class:{ unfolded: _vm.unfolded },on:{\"click\":_vm.toggleList}},[_vm._v(\"\\n        \"+_vm._s(_vm.semester_name)+\"\\n    \")]),(_vm.unfolded)?_c('ul',{staticClass:\"course-list\"},_vm._l((_vm.courses),function(course){return _c('CourseItem',{key:course.id,attrs:{\"course\":course},on:{\"course-selected\":_vm.courseSelected}})}),1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"course-item\"},[_c('button',{staticClass:\"blockmanager-course-item\",attrs:{\"data-remote_cid\":_vm.course.id,\"data-remote_name\":_vm.course.name},on:{\"click\":function($event){return _vm.$emit('course-selected', {\n                remoteName: _vm.course.name,\n                remoteId: _vm.course.id\n            })}}},[_vm._v(\"\\n        \"+_vm._s(_vm.course.name)+\"\\n    \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <li class=\"course-item\">\n        <button\n            class=\"blockmanager-course-item\"\n            :data-remote_cid=\"course.id\"\n            :data-remote_name=\"course.name\"\n            @click=\"\n                $emit('course-selected', {\n                    remoteName: course.name,\n                    remoteId: course.id\n                })\n            \"\n        >\n            {{ course.name }}\n        </button>\n    </li>\n</template>\n\n<script>\nexport default {\n    name: 'CourseItem',\n    data() {\n        return {};\n    },\n    components: {},\n    props: {\n        course: Object\n    },\n    methods: {}\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CourseItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CourseItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CourseItem.vue?vue&type=template&id=991941d8&scoped=true&\"\nimport script from \"./CourseItem.vue?vue&type=script&lang=js&\"\nexport * from \"./CourseItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"991941d8\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <li class=\"semester-item\">\n        <p class=\"semester-description\" :class=\"{ unfolded: unfolded }\" @click=\"toggleList\">\n            {{ semester_name }}\n        </p>\n        <ul v-if=\"unfolded\" class=\"course-list\">\n            <CourseItem v-for=\"course in courses\" :key=\"course.id\" :course=\"course\" @course-selected=\"courseSelected\" />\n        </ul>\n    </li>\n</template>\n\n<script>\nimport CourseItem from './CourseItem.vue';\nexport default {\n    name: 'SemesterItem',\n    components: {\n        CourseItem\n    },\n    props: {\n        courses: Array,\n        semester_name: String\n    },\n    data() {\n        return {\n            unfolded: false\n        };\n    },\n    methods: {\n        courseSelected(event) {\n            this.$emit('course-selected', event);\n        },\n        toggleList() {\n            this.unfolded = !this.unfolded;\n        }\n    }\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SemesterItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SemesterItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SemesterItem.vue?vue&type=template&id=62099320&scoped=true&\"\nimport script from \"./SemesterItem.vue?vue&type=script&lang=js&\"\nexport * from \"./SemesterItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"62099320\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"helpbox\"},[_c('h2',{staticClass:\"helpbox-title\",class:{unfolded: _vm.unfolded},on:{\"click\":function($event){_vm.unfolded = !_vm.unfolded}}},[_vm._v(\"\\n        \"+_vm._s(_vm.title)+\"\\n    \")]),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.unfolded),expression:\"unfolded\"}],staticClass:\"helpbox-content\"},[_vm._v(_vm._s(_vm.content))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div class=\"helpbox\">\n        <h2 \n            class=\"helpbox-title\"\n            :class=\"{unfolded: unfolded}\"\n            @click=\"unfolded = !unfolded\" \n        >\n            {{title}}\n        </h2>\n        <p class=\"helpbox-content\" v-show=\"unfolded\">{{content}}</p>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'HelpBox',\n    props: {\n        title: String,\n        content: String\n    },\n    data() {\n        return{\n            unfolded: false\n        }\n    }\n}\n</script>\n\n<style>\n\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelpBox.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelpBox.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HelpBox.vue?vue&type=template&id=07d3704b&\"\nimport script from \"./HelpBox.vue?vue&type=script&lang=js&\"\nexport * from \"./HelpBox.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div id=\"cw-blockmanager-content\">\n        <div class=\"cw-blockmanager-wrapper\">\n            <div class=\"cw-blockmanager-title\">\n                <p>{{ this.courseware.title }}</p>\n                <div class=\"cw-blockmanager-title-loading\">\n                    <spring-spinner :animation-duration=\"1000\" :size=\"30\" :color=\"'#28497c'\" v-if=\"storeLock\" />\n                </div>\n                <ActionMenuItem :buttons=\"['add-child']\" :element=\"this.courseware\" :courseUsers=\"courseUsers\" :courseGroups=\"courseGroups\" @add-child=\"addChild\" />\n            </div>\n            <draggable\n                tag=\"ul\"\n                :list=\"chapters\"\n                :group=\"{ name: 'chapters' }\"\n                class=\"chapter-list\"\n                ghost-class=\"ghost\"\n                handle=\".chapter-handle\"\n                @sort=\"sortChapters\"\n                v-bind=\"storeLock ? { disabled: true } : { disabled: false, animation: 200 }\"\n            >\n                <ChapterItem\n                    v-for=\"element in this.chapters\"\n                    :key=\"element.id\"\n                    :element=\"element\"\n                    :importContent=\"false\"\n                    :remoteContent=\"false\"\n                    :storeLock=\"storeLock\"\n                    :courseUsers=\"courseUsers\"\n                    :courseGroups=\"courseGroups\"\n                    @listUpdate=\"updateList\"\n                    @remove-chapter=\"removeChapter\"\n                    @isRemote=\"isRemoteAction\"\n                    @isImport=\"isImportAction\"\n                />\n            </draggable>\n        </div>\n        <div id=\"cw-action-wrapper\" class=\"cw-blockmanager-wrapper\">\n            <div id=\"cw-import-title\" class=\"cw-blockmanager-title\">\n                <p>{{ actionTitle }}</p>\n            </div>\n            <div class=\"messagebox messagebox_error\" v-if=\"fileError\">\n                Das Archiv enthält keine Coursewaredaten\n            </div>\n            <div v-if=\"showRemoteCourseware && !remoteCourseware && !loading\" id=\"user-course-list\">\n                <ul class=\"semester-list\">\n                    <SemesterItem\n                        v-for=\"(courses, semester_name) in this.remoteCourses\"\n                        :key=\"semester_name\"\n                        :courses=\"courses\"\n                        :semester_name=\"semester_name\"\n                        @course-selected=\"getRemoteCourse\"\n                    />\n                    <div v-if=\"this.remoteCourses.length == 0\" class=\"messagebox messagebox_info\">\n                        Es sind keine Veranstaltungen für den Import verfügbar\n                    </div>\n                </ul>\n            </div>\n            <div v-if=\"showRemoteCourseware && remoteCourseware\" class=\"cw-remote-courseware\">\n                <draggable\n                    tag=\"ul\"\n                    :list=\"this.remoteCourseware.children\"\n                    :group=\"{ name: 'chapters', pull: 'clone', put: false }\"\n                    class=\"chapter-list chapter-list-import\"\n                    ghost-class=\"ghost\"\n                    handle=\".chapter-handle\"\n                    v-bind=\"storeLock ? { disabled: true } : { disabled: false, animation: 200, sort: false }\"\n                    @clone=\"cloning\"\n                >\n                    <ChapterItem\n                        v-for=\"remote_chapter in this.remoteCourseware.children\"\n                        :key=\"remote_chapter.id\"\n                        :element=\"remote_chapter\"\n                        :importContent=\"true\"\n                        :remoteContent=\"true\"\n                        :storeLock=\"storeLock\"\n                    />\n                </draggable>\n            </div>\n            <div v-if=\"showImportCourseware && importCourseware\" id=\"cw-import-lists\">\n                <draggable\n                    tag=\"ul\"\n                    :list=\"this.importCourseware.chapters\"\n                    :group=\"{ name: 'chapters', pull: 'clone', put: false }\"\n                    class=\"chapter-list chapter-list-import\"\n                    ghost-class=\"ghost\"\n                    handle=\".chapter-handle\"\n                    v-bind=\"storeLock ? { disabled: true } : { disabled: false, animation: 200, sort: false }\"\n                >\n                    <ChapterItem\n                        v-for=\"import_chapter in this.importCourseware.chapters\"\n                        :key=\"import_chapter.id\"\n                        :element=\"import_chapter\"\n                        :importContent=\"true\"\n                        :remoteContent=\"false\"\n                        :storeLock=\"storeLock\"\n                    />\n                </draggable>\n            </div>\n            <div v-if=\"showExportCourseware\">\n                <!--- Export --->\n            </div>\n            <ul v-if=\"!showRemoteCourseware && !showImportCourseware && !showExportCourseware\" id=\"cw-action-selection\">\n                <li>\n                    <label\n                        for=\"cw-file-upload-import\"\n                        id=\"cw-file-upload-import-label\"\n                        class=\"cw-action-menu-button\"\n                        title=\"importFromArchiveExplain\"\n                    >\n                        <input\n                            type=\"file\"\n                            name=\"cw-file-upload-import\"\n                            class=\"cw-file-upload-import\"\n                            id=\"cw-file-upload-import\"\n                            accept=\".zip\"\n                            @change=\"setImport\"\n                        />\n                        <p>Courseware-Archiv importieren</p>\n                    </label>\n                </li>\n                <li>\n                    <a :href=\"coursewareImportURL\">\n                        <div id=\"cw-import-link\" class=\"cw-action-menu-button\" title=\"importExplain\">\n                            <p>Courseware-Archiv importieren (alte Version)</p>\n                        </div>\n                    </a>\n                </li>\n                <li>\n                    <div\n                        id=\"cw-import-from-course\"\n                        class=\"cw-action-menu-button\"\n                        title=\"importFromCourseExplain\"\n                        @click=\"importFromCourse\"\n                    >\n                        <p>{{ courseImportText }}</p>\n                    </div>\n                </li>\n                <li>\n                    <a :href=\"coursewareExportURL\">\n                        <div id=\"cw-export-download\" class=\"cw-action-menu-button\" title=\"exportExplain\">\n                            <p>Export-Archiv herunterladen</p>\n                        </div>\n                    </a>\n                </li>\n                <li>\n                    <a :href=\"coursewareExportHtmlURL\">\n                        <div id=\"cw-export-html-download\" class=\"cw-action-menu-button\" title=\"exportHtmlExplain\">\n                            <p>Html-Export herunterladen</p>\n                        </div>\n                    </a>\n                </li>\n            </ul>\n            <div v-if=\"(showRemoteCourseware || showImportCourseware) && loading\">\n                <spring-spinner :animation-duration=\"3000\" :size=\"65\" :color=\"'#28497c'\" class=\"cw-action-loading\" />\n            </div>\n            <div class=\"cw-action-button-wrapper\">\n                <button\n                    v-if=\"(showRemoteCourseware || showImportCourseware || showExportCourseware) && !loading\"\n                    class=\"button\"\n                    id=\"cw-reset-action-menu\"\n                    @click=\"resetActionMenu\"\n                >\n                    zurück zur Auswahl\n                </button>\n                <button\n                    id=\"cw-import\"\n                    class=\"button\"\n                    v-if=\"showImportCourseware && !fileError && !loading\"\n                    @click=\"importCompleteArchive\"\n                >\n                    Komplettes Archiv importieren\n                </button>\n                <a :href=\"coursewareExportURL\" v-if=\"showExportCourseware\">\n                    <button id=\"cw-export\" class=\"button\">\n                        Exportieren\n                    </button>\n                </a>\n                <div style=\"clear: both;\"></div>\n            </div>\n        </div>\n         <div class=\"cw-blockmanager-wrapper\">\n            <div class=\"cw-blockmanager-title cw-blockmanager-help\" :class=\"{unfolded: helpUnfolded}\" @click=\"helpUnfolded = !helpUnfolded\">\n                <p>Hilfe</p>\n            </div>\n            <div class=\"helpboxes\" v-show=\"helpUnfolded\">\n                <HelpBox \n                    title=\"Courseware Verwaltung\" \n                    content=\"Unter Verwaltung können Kapitel, Unterkapitel, \n                    Abschnitte und Blöcke sortiert werden. Im Gegensatz zum \n                    Bearbeitungsmodus, in der die Reihenfolge der Elemente \n                    bearbeitet werden kann, können hier Elemente in andere \n                    übergeordnete Elemente einsortiert werden. Mit einem Klick \n                    öffnen Sie das Element, die enthaltenen Elemente werden \n                    dargestellt. Hinter den drei Punkten verbirgt sich das \n                    Aktionsmenü, Hinzufügen, Löschen, Bearbeiten und das \n                    Vergeben von Schreibrechten ist hier möglich.\"\n                />\n                <HelpBox \n                    title=\"Sortieren und Verschieben\" \n                    content=\"Elemente lassen sich einfach per Drag&Drop \n                    verschieben. Hierbei ist es auch möglich ein Element \n                    in ein anderes übergeordnetes Element zu verschieben. \n                    Eine Verschiebung ist immer nur auf der passenden Ebene \n                    möglich. Es ist z.B. nicht möglich einen Abschnitt neben \n                    ein Unterkapitel zu verschieben.\" \n                />\n                <HelpBox \n                    title=\"Freigaben für Teilnehmende\" \n                    content=\"Ein weiterer Schritt in Richtung kollaboratives \n                    Lernen macht Courseware mit Freigaben für Teilnehmende \n                    und Gruppen. Ein gleichzeitiges Bearbeiten von Blöcken \n                    ist derzeit noch nicht verfügbar, daher sollten die \n                    Freigaben entsprechend gewählt werden. Freigegeben werden \n                    können Kapitel und Unterkapitel, dies kann über das \n                    Aktionsmenü (am Element hinter den drei Punkten) geschehen. \n                    Untergeordnete Elemente werden automatisch freigegeben. \n                    Teilnehmende können dann innerhalb des freigegeben Elements \n                    Inhalte erstellen und Unterelemente erzeugen. Verwaltung, \n                    Einstellungen und Diskussionsübersicht sind für Teilnehmende \n                    nicht sichtbar.\" \n                />\n                <HelpBox \n                    title=\"Hinzufügen und Löschen\" \n                    content=\"Über das Aktionsmenü (verbirgt sich hinter den drei Punkten) \n                    eines Elementes können Unterelemente hinzugefügt werden, \n                    Blöcke können allerdings nur im Bearbeitungsmodus der \n                    Courseware hinzugefügt werden. Löschen lassen sich alle \n                    Elemente über das Aktionsmenü.\"\n                />\n                <HelpBox \n                    title=\"Archiv importieren\"\n                    content=\"Ein zuvor exportiertes Archiv kann über Courseware-Archiv \n                    importieren“ eingelesen werden. Nachdem die Daten geladen wurden \n                    wird die Struktur der Courseware dargestellt. Per Drag&Drop lassen \n                    sich einzelne Elemente importieren. Über die Schaltfläche \n                    „Komplettes Archiv importieren“ können Sie den gesamten Inhalt \n                    importieren. Die Kapitel werden dann an das Ende der bestehenden \n                    Inhalte gesetzt. Bitte beachten Sie das der Upload von großen \n                    Archiven unter Umständen viel Zeit in Anspruch nehmen kann. Für \n                    das Kopieren von Inhalten aus einer anderen Veranstaltung nutzen \n                    Sie bitte „Aus Veranstaltung importieren“.\"\n                />\n                <HelpBox \n                    title=\"Aus Veranstaltung importieren\"\n                    content=\"Um Inhalte aus einer anderen Veranstaltung, in der Sie \n                    unter den Lehrenden eingetragen sind, zu importieren, wählen \n                    Sie unter Import & Export „Aus Veranstaltung importieren“. Eine \n                    Liste von Semestern wird angezeigt. Mit einem Klick auf ein Semester \n                    werden die verfügbaren Veranstaltungen dargestellt. Wählen Sie \n                    eine Veranstaltung aus um sich die Courseware-Inhalte dieser \n                    Veranstaltung anzeigen zu lassen. Inhalte können per Drag&Drop \n                    in die aktuelle Veranstaltung kopiert werden. Gegebenenfalls \n                    müssen Sie die Elemente der Courseware aufklappen um Elemente \n                    kopieren zu können.\" \n                />\n                <HelpBox \n                    title=\"Archiv exportieren\" \n                    content=\"Ein Courseware Archiv ist eine Zip-Datei die eine \n                    Beschreibung der Courseware (data.xml) sowie alle eingebundenen \n                    Dateien enthält. Die Zip-Datei kann über den Import eingelesen \n                    werden um Inhalte in anderen Stud.IP Installationen zu verwenden. \n                    Für das Kopieren von Inhalten aus einer anderen Veranstaltung \n                    nutzen Sie bitte „Aus Veranstaltung importieren“.\"\n                />\n                <HelpBox \n                    title=\"HTML exportieren\" \n                    content=\"'Der HTML Export liefert die Inhalte von Coursware sowie \n                    den Courseware Player aus. Mit dem Courseware Player ist es möglich \n                    die Inhalte mit einem Browser direkt aus dem Dateisystem eines \n                    Rechners wiederzugeben. Der Courseware Player kann auch auf einem \n                    Webserver verwendet werden. Bitte beachten Sie das nicht alle Blöcke \n                    im Courseware Player verfügbar sind. Audio Galerie, Bestätigung, Forum, \n                    Blubber, Diskussion & Kommentare, Suche, Quiz und OpenCast können im \n                    Moment noch nicht wiedergegeben werden. Aufgaben die im interactive \n                    Video eingebunden wurden können auch nicht wiedergegeben werden.\"\n                />\n            </div>\n        </div>\n        <div id=\"errorbox\" class=\"cw-blockmanager-wrapper\" v-if=\"errorOccurred.length > 0\">\n            <div id=\"cw-error-title\" class=\"cw-blockmanager-title\">\n                Meldungen\n            </div>\n            <ul>\n                <li v-for=\"(error, errorkey) in errorOccurred\" :key=\"errorkey\">{{error.date}} | {{error.text}} </li>\n            </ul>\n        </div>\n    </div>\n</template>\n\n<script>\nimport ChapterItem from './components/ChapterItem.vue';\nimport SemesterItem from './components/SemesterItem.vue';\nimport ActionMenuItem from './components/ActionMenuItem.vue';\nimport HelpBox from './components/HelpBox.vue';\nimport blockManagerHelperMixin from './mixins/blockManagerHelperMixin.js';\n\nimport { SpringSpinner } from 'epic-spinners';\nimport axios from 'axios';\nimport draggable from 'vuedraggable';\nexport default {\n    name: 'BlockManager',\n    mixins: [blockManagerHelperMixin],\n    components: {\n        ChapterItem,\n        SemesterItem,\n        draggable,\n        ActionMenuItem,\n        SpringSpinner,\n        HelpBox\n    },\n    data() {\n        return {\n            courseware: {},\n            remoteCourses: {},\n            remoteCourseware: null,\n            importCourseware: null,\n            showRemoteCourseware: false,\n            showImportCourseware: false,\n            showExportCourseware: false,\n            chapters: [],\n            chapterList: [],\n            subchapterList: {},\n            sectionList: {},\n            blockList: {},\n            actionTitle: 'Import & Export',\n            courseImportText: 'Aus Veranstaltung importieren',\n            remoteData: false,\n            importData: false,\n            importXML: '',\n            importZIP: '',\n            blockMap: null,\n            fileError: false,\n            loading: false,\n            storeLock: false,\n            errorOccurred: [],\n            coursewareExportURL: COURSEWARE.data.courseware_export_url,\n            coursewareImportURL: COURSEWARE.data.courseware_import_url,\n            coursewareExportHtmlURL: COURSEWARE.data.courseware_export_html_url,\n            helpUnfolded: false,\n\n            courseUsers: [],\n            courseGroups: []\n        };\n    },\n    created() {\n        this.courseware = JSON.parse(COURSEWARE.data.courseware);\n        this.remoteCourses = JSON.parse(COURSEWARE.data.remote_courses);\n        this.blockMap = JSON.parse(COURSEWARE.data.block_map);\n    },\n    mounted() {\n        this.getCourseUsers();\n        this.getCourseGroups();\n    },\n    watch: {\n        courseware: function() {\n            if (this.courseware.children != null) {\n                this.chapters = this.courseware.children;\n            } else {\n                this.chapters = [];\n            }\n        }\n    },\n    methods: {\n        getCourseUsers() {\n            let view = this;\n            axios\n                .get('get_course_users', {\n                    params: {\n                        cid: COURSEWARE.config.cid\n                    }\n                })\n                .then(function(response) {\n                    view.courseUsers = response.data;\n                })\n                .catch(function(error) {\n                    console.log(error);\n                    return [];\n                });\n        },\n        getCourseGroups() {\n            let view = this;\n            axios\n                .get('get_course_groups', {\n                    params: {\n                        cid: COURSEWARE.config.cid\n                    }\n                })\n                .then(function(response) {\n                    view.courseGroups = response.data;\n                })\n                .catch(function(error) {\n                    console.log(error);\n                    return [];\n                });\n        },\n        sortChapters() {\n            let view = this;\n            let hasChildren = false;\n            this.cleanLists();\n            this.chapters.forEach(element => {\n                if (element.isRemote) {\n                    view.chapterList.push('remote_' + element.id);\n                    view.isRemoteAction();\n                    if (element.children != null) {\n                        hasChildren = true;\n                        view.buildChildrenList(element, 'remote_');\n                    }\n                } else if (element.isImport) {\n                    view.chapterList.push('import_' + element.id);\n                    view.isImportAction();\n                    if (element.children != null) {\n                        hasChildren = true;\n                        view.buildChildrenList(element, 'import_');\n                    }\n                } else {\n                    view.chapterList.push(parseInt(element.id, 10));\n                }\n            });\n            if (!hasChildren) {\n                this.storeChanges();\n            }\n        },\n        fillChapterList() {\n            this.chapters.forEach(element => {\n                this.chapterList.push(element.id);\n            });\n        },\n        buildChildrenList(element, type) {\n            let view = this;\n            let list = [];\n            let hasChildren = false;\n            element.children.forEach(child => {\n                list.push(type + child.id);\n                if (child.children != null) {\n                    hasChildren = true;\n                    view.buildChildrenList(child, type);\n                }\n            });\n            if (element.type.toLowerCase() == 'section') {\n                this.blockList[type + element.id] = list;\n            } else {\n                this[element.children[0].type.toLowerCase() + 'List'][type + element.id] = list;\n            }\n            if (!hasChildren) {\n                this.storeChanges();\n            }\n        },\n        isRemoteAction() {\n            this.remoteData = true;\n            this.importData = true;\n        },\n        isImportAction() {\n            this.remoteData = false;\n            this.importData = true;\n        },\n        updateList(args) {\n            let list = args.list;\n            let key = Object.keys(list)[0];\n            this[args.type + 'List'][key] = list[key];\n\n            if (!args.hasChildren) {\n                this.fillChapterList();\n                this.storeChanges();\n            }\n        },\n        addChild(data) {\n            let chapters = [];\n            this.chapters.forEach(element => {\n                    chapters.push(element);\n            });\n            chapters.push(data);\n            this.chapters = chapters;\n        },\n        removeChapter(data) {\n            let chapters = [];\n            this.chapters.forEach(element => {\n                if (element.id != data.id) {\n                    chapters.push(element);\n                }\n            });\n            this.chapters = chapters;\n        },\n        importFromCourse() {\n            this.actionTitle = this.courseImportText;\n            this.showRemoteCourseware = true;\n        },\n        showExport() {\n            this.actionTitle = 'Export-Archiv herunterladen';\n            this.showExportCourseware = true;\n        },\n        resetActionMenu() {\n            this.actionTitle = 'Import & Export';\n            this.fileError = false;\n            this.remoteCourseware = null;\n            this.importCourseware = null;\n            this.exportCourseware = null;\n            this.showRemoteCourseware = false;\n            this.showImportCourseware = false;\n            this.showExportCourseware = false;\n        },\n        storeChanges() {\n            if (this.storeLock) {\n                console.log('storeLock');\n                return;\n            }\n            this.storeLock = true;\n            let view = this;\n            let promises = [];\n            let fileData = {};\n            if (view.importData && !view.remoteData) {\n                let file = this.importZIP;\n                let filePromise = new Promise(resolve => {\n                    let reader = new FileReader();\n                    reader.readAsDataURL(file);\n                    reader.onloadend = function() {\n                        fileData.file = reader.result;\n                        fileData.name = file.name;\n                        fileData.size = file.size;\n                        fileData.type = file.type;\n                        resolve(reader.result);\n                    };\n                });\n                promises.push(filePromise);\n            }\n            Promise.all(promises).then(function() {\n                axios\n                    .post('store_changes_vue', {\n                        cid: COURSEWARE.config.cid,\n                        import: view.importData,\n                        remote: view.remoteData,\n                        importXML: view.importXML,\n                        chapterList: JSON.stringify(view.chapterList),\n                        subchapterList: JSON.stringify(view.subchapterList),\n                        sectionList: JSON.stringify(view.sectionList),\n                        blockList: JSON.stringify(view.blockList),\n                        fileData: fileData\n                    })\n                    .then(response => {\n                        view.importData = false;\n                        view.remoteData = false;\n                        view.cleanLists();\n                        try {\n                            view.courseware = JSON.parse(response.data.courseware);\n                            let errors = response.data.errors;\n                            if (errors != null) {\n                                errors.forEach(error => {\n                                    view.addError(error);\n                                });\n                            }\n                        }\n                        catch(e) {\n                            console.log(e);\n                            console.log('try to reload courseware data');\n                            view.addError('Ein unbekannter Fehler ist aufgetreten');\n                            view.addError('Der Import von Courseware-Daten ist möglicherweise fehlgeschlagen, bitte prüfen Sie den Inhalt');\n                            axios\n                            .post('get_courseware', {\n                                cid: COURSEWARE.config.cid\n                            })\n                            .then(response => {\n                                view.courseware = JSON.parse(response.data.courseware);\n                                view.addError('Der Import von Courseware-Daten ist möglicherweise fehlgeschlagen, bitte prüfen Sie den Inhalt');\n                            })\n                            .catch(error => {\n                                if (error.response) {\n                                    console.log(error.response.status);\n                                    if (error.response.status == 500) {\n                                        view.addError('Der Server konnte die Daten nicht verarbeiten (500)');\n                                    }\n                                } else if (error.request) {\n                                    console.log(error.request);\n                                } else {\n                                    console.log(error.message);\n                                }\n                                console.log(error.config);\n                            });\n                        }\n                        view.storeLock = false;\n                    })\n                    .catch(error => {\n                        if (error.response) {\n                            // The request was made and the server responded with a status code\n                            // that falls out of the range of 2xx\n                            // console.log(error.response.data);\n                            console.log(error.response.status);\n                            // console.log(error.response.headers);\n                            if (error.response.status == 500) {\n                                view.storeLock = false;\n                                view.addError('Der Server konnte die Daten nicht verarbeiten (500)');\n                            }\n                        } else if (error.request) {\n                            // The request was made but no response was received\n                            // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\n                            // http.ClientRequest in node.js\n                            console.log(error.request);\n                        } else {\n                            // Something happened in setting up the request that triggered an Error\n                            console.log(error.message);\n                        }\n                        console.log(error.config);\n                    });\n            });\n        },\n        cleanLists() {\n            this.chapterList = [];\n            this.subchapterList = {};\n            this.sectionList = {};\n            this.blockList = {};\n        },\n        getRemoteCourse(event) {\n            this.loading = true;\n            let view = this;\n            axios\n                .get('get_remote_course', {\n                    params: {\n                        cid: COURSEWARE.config.cid,\n                        remote_cid: event.remoteId\n                    }\n                })\n                .then(response => {\n                    view.remoteCourseware = response.data;\n                })\n                .then(function() {\n                    view.actionTitle = 'Import: ' + event.remoteName;\n                    view.showRemoteCourseware = true;\n                    view.loading = false;\n                })\n                .catch(error => {\n                    console.log('there was an error: ' + error.response);\n                });\n        },\n        setImport() {\n            this.loading = true;\n            let view = this;\n            view.fileError = false;\n            this.importZIP = event.target.files[0];\n\n            this.showImportCourseware = true;\n            ZipLoader.unzip(this.importZIP)\n                .then(function(unziped) {\n                    var text, parser, xmlDoc;\n                    if (unziped.files['data.xml'] == undefined) {\n                        view.fileError = true;\n                        return;\n                    }\n                    text = unziped.extractAsText('data.xml');\n                    parser = new DOMParser();\n                    xmlDoc = parser.parseFromString(text, 'text/xml');\n\n                    var chapter_counter = 0,\n                        subchapter_counter = 0,\n                        section_counter = 0;\n                    view.importCourseware = [];\n                    view.importCourseware['chapters'] = [];\n                    $.each(xmlDoc.documentElement.children, function(key, node) {\n                        if (node.nodeName == 'chapter') {\n                            chapter_counter++;\n                            node.setAttribute('temp-id', chapter_counter);\n                            let chapterNum = view.importCourseware['chapters'].push({\n                                title: node.getAttribute('title'),\n                                id: chapter_counter,\n                                publication_date: false,\n                                withdraw_date: false,\n                                isPublished: true,\n                                isImport: true,\n                                type: node.nodeName\n                            });\n                            let current_chapter = view.importCourseware['chapters'][chapterNum - 1];\n\n                            if (typeof current_chapter === 'undefined') {\n                                return true; //skip to next\n                            }\n                            current_chapter.children = [];\n                            $.each(node.children, function(key, node) {\n                                if (node.nodeName == 'subchapter') {\n                                    subchapter_counter++;\n                                    node.setAttribute('temp-id', subchapter_counter);\n                                    let subchapterNum = current_chapter.children.push({\n                                        title: node.getAttribute('title'),\n                                        id: subchapter_counter,\n                                        publication_date: false,\n                                        withdraw_date: false,\n                                        isPublished: true,\n                                        isImport: true,\n                                        type: node.nodeName\n                                    });\n                                    let current_subchapter = current_chapter.children[subchapterNum - 1];\n\n                                    if (typeof current_subchapter === 'undefined') {\n                                        return true; //skip to next\n                                    }\n                                    current_subchapter.children = [];\n                                    $.each(node.children, function(key, node) {\n                                        if (node.nodeName == 'section') {\n                                            section_counter++;\n                                            node.setAttribute('temp-id', section_counter);\n\n                                            let sectionNum = current_subchapter.children.push({\n                                                title: node.getAttribute('title'),\n                                                id: section_counter,\n                                                isPublished: true,\n                                                isImport: true,\n                                                type: node.nodeName\n                                            });\n                                            let current_section = current_subchapter.children[sectionNum - 1];\n                                            if (typeof current_section === 'undefined') {\n                                                return true; //skip to next\n                                            }\n                                            current_section.children = [];\n                                            $.each(node.children, function(key, node) {\n                                                if (node.nodeName == 'block') {\n                                                    //build block\n                                                    current_section.children.push({\n                                                        type: node.getAttribute('type'),\n                                                        id: node.getAttribute('uuid'),\n                                                        isPublished: true,\n                                                        isImport: true,\n                                                        preview: view.getContent(node, unziped),\n                                                        readable_name: view.blockMap[node.getAttribute('type')]\n                                                    });\n                                                }\n                                            });\n                                            if (current_section.children.length == 0) {\n                                                current_section.children = null;\n                                            }\n                                        }\n                                    });\n                                    if (current_subchapter.children.length == 0) {\n                                        current_subchapter.children = null;\n                                    }\n                                }\n                            });\n                            if (current_chapter.children.length == 0) {\n                                current_chapter.children = null;\n                            }\n                        }\n                    });\n                    let oSerializer = new XMLSerializer();\n                    view.importXML = oSerializer.serializeToString(xmlDoc);\n                })\n                .then(function() {\n                    view.loading = false;\n                    if (!view.fileError) {\n                        view.showImportCourseware = true;\n                    }\n                    view.actionTitle =\n                        'Import: ' + view.importZIP.name + ' (' + view.calcFileSize(view.importZIP.size) + ')';\n                });\n        },\n        calcFileSize(size) {\n            if ((size / 1048576).toFixed(0) != 0) {\n                return (size / 1048576).toFixed(1) + ' MB';\n            } else {\n                return (size / 1024).toFixed(1) + ' kB';\n            }\n        },\n        importCompleteArchive() {\n            this.storeLock = true;\n            let view = this;\n            let promises = [];\n            let fileData = {};\n            let file = this.importZIP;\n            let filePromise = new Promise(resolve => {\n                let reader = new FileReader();\n                reader.readAsDataURL(file);\n                reader.onloadend = function() {\n                    fileData.file = reader.result;\n                    fileData.name = file.name;\n                    fileData.size = file.size;\n                    fileData.type = file.type;\n                    resolve(reader.result);\n                };\n            });\n            promises.push(filePromise);\n            Promise.all(promises).then(function() {\n                axios\n                    .post('import_complete_archive', {\n                        cid: COURSEWARE.config.cid,\n                        fileData: fileData\n                    })\n                    .then(response => {\n                        view.importData = false;\n                        view.remoteData = false;\n                        view.cleanLists();\n                        view.courseware = JSON.parse(response.data.courseware);\n                        let errors = response.data.errors;\n                        if (errors != null) {\n                            errors.forEach(error => {\n                                view.addError(error);\n                            });\n                        }\n                        view.storeLock = false;\n                    })\n                    .catch(error => {\n                        console.log(error);\n                    });\n            });\n        },\n        addError(error)\n        {\n            let today = new Date();\n            let date = this.setDateZero(today.getDay()) + '.' + this.setDateZero(today.getMonth()) + '.' + today.getFullYear() + ' ' + this.setDateZero(today.getHours()) + ':' +this.setDateZero(today.getMinutes())+ ':' + this.setDateZero(today.getSeconds());\n            this.errorOccurred.push({text: error, date: date});\n        },\n        setDateZero(date){\n            return date < 10 ? '0' + date : date;\n        },\n        clearErrors()\n        {\n            this.errorOccurred = [];\n        }\n    }\n};\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockManager.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockManager.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BlockManager.vue?vue&type=template&id=6e53938e&\"\nimport script from \"./BlockManager.vue?vue&type=script&lang=js&\"\nexport * from \"./BlockManager.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport Vuex from 'vuex';\n\nVue.use(Vuex);\nconst store = new Vuex.Store({\n    state: {\n        courseUsers: {},\n        courseGroups: {}\n    }\n});\nexport default store;\n","import Vue from 'vue';\nimport BlockManager from './BlockManager.vue';\nimport store from './store';\n\nVue.config.productionTip = false;\n\nnew Vue({\n    el: '#block_mananger_content',\n    store,\n    render: h => h(BlockManager)\n});\n"],"sourceRoot":""}