{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/BlockManager.vue?f672","webpack:///./src/components/ChapterItem.vue?d2c9","webpack:///./src/components/SubchapterItem.vue?8274","webpack:///./src/components/SectionItem.vue?9ec3","webpack:///./src/components/BlockItem.vue?97c0","webpack:///./src/components/ActionMenuItem.vue?d090","webpack:///./src/components/RemoveDialog.vue?0510","webpack:///src/components/RemoveDialog.vue","webpack:///./src/components/RemoveDialog.vue?6e3c","webpack:///./src/components/RemoveDialog.vue","webpack:///./src/components/EditDialog.vue?8e37","webpack:///src/components/EditDialog.vue","webpack:///./src/components/EditDialog.vue?740c","webpack:///./src/components/EditDialog.vue","webpack:///./src/components/AddChildDialog.vue?a377","webpack:///src/components/AddChildDialog.vue","webpack:///./src/components/AddChildDialog.vue?1ee2","webpack:///./src/components/AddChildDialog.vue","webpack:///src/components/ActionMenuItem.vue","webpack:///./src/components/ActionMenuItem.vue?b345","webpack:///./src/components/ActionMenuItem.vue","webpack:///src/components/BlockItem.vue","webpack:///./src/components/BlockItem.vue?0f57","webpack:///./src/components/BlockItem.vue","webpack:///./src/mixins/blockManagerHelperMixin.js","webpack:///src/components/SectionItem.vue","webpack:///./src/components/SectionItem.vue?d982","webpack:///./src/components/SectionItem.vue","webpack:///src/components/SubchapterItem.vue","webpack:///./src/components/SubchapterItem.vue?4549","webpack:///./src/components/SubchapterItem.vue","webpack:///src/components/ChapterItem.vue","webpack:///./src/components/ChapterItem.vue?1279","webpack:///./src/components/ChapterItem.vue","webpack:///./src/components/SemesterItem.vue?0281","webpack:///./src/components/CourseItem.vue?713f","webpack:///src/components/CourseItem.vue","webpack:///./src/components/CourseItem.vue?5dc9","webpack:///./src/components/CourseItem.vue","webpack:///src/components/SemesterItem.vue","webpack:///./src/components/SemesterItem.vue?adf8","webpack:///./src/components/SemesterItem.vue","webpack:///src/BlockManager.vue","webpack:///./src/BlockManager.vue?5140","webpack:///./src/BlockManager.vue","webpack:///./src/i18n/index.js","webpack:///./src/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","_s","courseware","title","_e","on","addChild","_b","chapters","sortChapters","storeLock","disabled","animation","_l","element","id","updateList","removeChapter","isRemoteAction","isImportAction","actionTitle","showRemoteCourseware","remoteCourseware","loading","courses","semester_name","getRemoteCourse","children","pull","put","cloning","sort","remote_chapter","showImportCourseware","importCourseware","import_chapter","$t","setImport","importFromCourse","courseImportText","resetActionMenu","staticStyle","staticRenderFns","class","importContent","remoteContent","unfolded","toggleContent","shortTitle","isPublished","publication_date","withdraw_date","publication_date_readable","withdraw_date_readable","editElement","removeElement","setUserApproval","setGroupApproval","subchapters","draggableGroup","sortSubchapters","dragOptions","elementChild","removeSubchapter","sections","sortSections","section","removeSection","editSection","blocks","sortBlocks","block","removeBlock","element_hidden","type","readable_name","domProps","preview","_m","$event","$emit","editDialogVisible","removeDialogVisible","addChildDialogVisible","editDialogAction","addChildDialogAction","_t","close","currentElement","deleting","remove","component","directives","rawName","expression","target","composing","maxPublicationDate","publicationDate","minWithdrawDate","withdrawDate","edit","ref","indexOf","_k","keyCode","methods","cutTitle","substr","getReadableDate","date","datetime","Date","getDate","getMonth","getFullYear","getContent","node","json","getAttribute","JSON","parse","source","url","file_name","image_url","image_name","time","front_img_file_name","textContent","xml","parser","DOMParser","xmlDoc","parseFromString","firstElementChild","content","src","toggleList","course","courseSelected","remoteName","remoteId","Vue","use","VueI18n","messages","en_GB","message","tasksBackButton","importFromCourseExplain","importFromArchiveButton","importFromArchiveExplain","visibleFrom","invisibleFrom","chapter","subchapter","emptyChapter","emptyChapterInfo","emptySubchapter","emptySubchapterInfo","emptySection","emptySectionInfo","actions","addSubelement","deleteElement","setStudentPermissions","setGroupsPermissions","editDialogTitle","deleteDialogTitle","addDialogTitle","ButtonLabelSave","ButtonLabelClose","ButtonLabelYes","ButtonLabelNo","deleteDialogQuestionBlock","deleteDialogQuestionElement","de_DE","i18n","locale","COURSEWARE","lang","config","productionTip","el","render","h","BlockManager"],"mappings":"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","file":"../../assets/vue/js/index.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"index\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"../../../plugins_packages/virtUOS/Courseware/views/block_manager/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"cw-blockmanager-content\"}},[_c('div',{staticClass:\"cw-blockmanager-wrapper\"},[_c('div',{staticClass:\"cw-blockmanager-title\"},[_c('p',[_vm._v(_vm._s(this.courseware.title))]),_c('div',{staticClass:\"cw-blockmanager-title-loading\"},[(_vm.storeLock)?_c('spring-spinner',{attrs:{\"animation-duration\":1000,\"size\":30,\"color\":'#28497c'}}):_vm._e()],1),_c('ActionMenuItem',{attrs:{\"buttons\":['add-child'],\"element\":this.courseware},on:{\"add-child\":_vm.addChild}})],1),_c('draggable',_vm._b({staticClass:\"chapter-list\",attrs:{\"tag\":\"ul\",\"list\":_vm.chapters,\"group\":{ name: 'chapters' },\"ghost-class\":\"ghost\",\"handle\":\".chapter-handle\"},on:{\"sort\":_vm.sortChapters}},'draggable',_vm.storeLock ? { disabled: true } : { disabled: false, animation: 200 },false),_vm._l((this.chapters),function(element){return _c('ChapterItem',{key:element.id,attrs:{\"element\":element,\"importContent\":false,\"remoteContent\":false,\"storeLock\":_vm.storeLock},on:{\"listUpdate\":_vm.updateList,\"remove-chapter\":_vm.removeChapter,\"isRemote\":_vm.isRemoteAction,\"isImport\":_vm.isImportAction}})}),1)],1),_c('div',{staticClass:\"cw-blockmanager-wrapper\",attrs:{\"id\":\"cw-action-wrapper\"}},[_c('div',{staticClass:\"cw-blockmanager-title\",attrs:{\"id\":\"cw-import-title\"}},[_c('p',[_vm._v(_vm._s(_vm.actionTitle))])]),(_vm.fileError)?_c('div',{staticClass:\"messagebox messagebox_error\"},[_vm._v(\"\\n            Das Archiv enthält keine Coursewaredaten\\n        \")]):_vm._e(),(_vm.showRemoteCourseware && !_vm.remoteCourseware && !_vm.loading)?_c('div',{attrs:{\"id\":\"user-course-list\"}},[_c('ul',{staticClass:\"semester-list\"},_vm._l((this.remoteCourses),function(courses,semester_name){return _c('SemesterItem',{key:semester_name,attrs:{\"courses\":courses,\"semester_name\":semester_name},on:{\"course-selected\":_vm.getRemoteCourse}})}),1)]):_vm._e(),(_vm.showRemoteCourseware && _vm.remoteCourseware)?_c('div',{staticClass:\"cw-remote-courseware\"},[_c('draggable',_vm._b({staticClass:\"chapter-list chapter-list-import\",attrs:{\"tag\":\"ul\",\"list\":this.remoteCourseware.children,\"group\":{ name: 'chapters', pull: 'clone', put: false },\"ghost-class\":\"ghost\",\"handle\":\".chapter-handle\"},on:{\"clone\":_vm.cloning}},'draggable',_vm.storeLock ? { disabled: true } : { disabled: false, animation: 200, sort: false },false),_vm._l((this.remoteCourseware.children),function(remote_chapter){return _c('ChapterItem',{key:remote_chapter.id,attrs:{\"element\":remote_chapter,\"importContent\":true,\"remoteContent\":true,\"storeLock\":_vm.storeLock}})}),1)],1):_vm._e(),(_vm.showImportCourseware && _vm.importCourseware)?_c('div',{attrs:{\"id\":\"cw-import-lists\"}},[_c('draggable',_vm._b({staticClass:\"chapter-list chapter-list-import\",attrs:{\"tag\":\"ul\",\"list\":this.importCourseware.chapters,\"group\":{ name: 'chapters', pull: 'clone', put: false },\"ghost-class\":\"ghost\",\"handle\":\".chapter-handle\"}},'draggable',_vm.storeLock ? { disabled: true } : { disabled: false, animation: 200, sort: false },false),_vm._l((this.importCourseware.chapters),function(import_chapter){return _c('ChapterItem',{key:import_chapter.id,attrs:{\"element\":import_chapter,\"importContent\":true,\"remoteContent\":false,\"storeLock\":_vm.storeLock}})}),1)],1):_vm._e(),(!_vm.showRemoteCourseware && !_vm.showImportCourseware)?_c('ul',{attrs:{\"id\":\"cw-action-selection\"}},[_c('li',[_c('label',{staticClass:\"cw-action-menu-button\",attrs:{\"for\":\"cw-file-upload-import\",\"id\":\"cw-file-upload-import-label\",\"title\":_vm.$t('message.importFromArchiveExplain')}},[_c('input',{staticClass:\"cw-file-upload-import\",attrs:{\"type\":\"file\",\"name\":\"cw-file-upload-import\",\"id\":\"cw-file-upload-import\",\"accept\":\".zip\"},on:{\"change\":_vm.setImport}}),_c('p',[_vm._v(_vm._s(_vm.$t('message.importFromArchiveButton')))])])]),_c('li',[_c('div',{staticClass:\"cw-action-menu-button\",attrs:{\"id\":\"cw-import-from-course\",\"title\":_vm.$t('message.importFromCourseExplain')},on:{\"click\":_vm.importFromCourse}},[_c('p',[_vm._v(_vm._s(_vm.courseImportText))])])])]):_vm._e(),((_vm.showRemoteCourseware || _vm.showImportCourseware) && _vm.loading)?_c('div',[_c('spring-spinner',{staticClass:\"cw-action-loading\",attrs:{\"animation-duration\":3000,\"size\":65,\"color\":'#28497c'}})],1):_vm._e(),((_vm.showRemoteCourseware || _vm.showImportCourseware) && !_vm.loading)?_c('button',{staticClass:\"button\",attrs:{\"id\":\"cw-reset-action-menu\"},on:{\"click\":_vm.resetActionMenu}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('message.tasksBackButton'))+\"\\n        \")]):_vm._e(),_c('div',{staticStyle:{\"clear\":\"both\"}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"chapter-item\",class:{\n        'chapter-item-import': _vm.importContent,\n        'chapter-item-remote': _vm.remoteContent\n    },attrs:{\"data-id\":_vm.id}},[_c('div',{staticClass:\"chapter-description chapter-handle\",class:{\n            'full-width': _vm.importContent || _vm.remoteContent,\n            unfolded: _vm.unfolded\n        },on:{\"click\":_vm.toggleContent}},[_c('p',{staticClass:\"chapter-title\",attrs:{\"title\":_vm.title}},[_vm._v(\"\\n            \"+_vm._s(_vm.shortTitle)+\"\\n        \")]),_c('p',{staticClass:\"header-info-wrapper\"},[_c('span',{class:{\n                    'unpublished-info': !_vm.isPublished && (_vm.publication_date || _vm.withdraw_date),\n                    'published-info': _vm.isPublished && (_vm.publication_date || _vm.withdraw_date)\n                }},[_vm._v(\"\\n                \"+_vm._s(_vm.$t('message.chapter'))+\"\\n            \")]),(_vm.publication_date && !this.importContent && !this.remoteContent)?_c('span',{class:{\n                    'unpublished-info': !_vm.isPublished,\n                    'published-info': _vm.isPublished\n                }},[_vm._v(\"| \"+_vm._s(_vm.$t('message.visibleFrom'))+\": \"+_vm._s(_vm.publication_date_readable))]):_vm._e(),(_vm.withdraw_date && !this.importContent && !this.remoteContent)?_c('span',{class:{\n                    'unpublished-info': !_vm.isPublished,\n                    'published-info': _vm.isPublished\n                }},[_vm._v(\"\\n                | \"+_vm._s(_vm.$t('message.invisibleFrom'))+\": \"+_vm._s(_vm.withdraw_date_readable))]):_vm._e()])]),(!this.importContent && !this.remoteContent)?_c('ActionMenuItem',{class:{ unfolded: _vm.unfolded },attrs:{\"buttons\":['edit', 'remove', 'groups', 'users', 'add-child'],\"element\":this.element},on:{\"edit\":_vm.editElement,\"remove\":_vm.removeElement,\"add-child\":_vm.addChild,\"set-users\":_vm.setUserApproval,\"set-groups\":_vm.setGroupApproval}}):_vm._e(),(_vm.unfolded)?_c('draggable',_vm._b({staticClass:\"subchapter-list\",class:{ 'subchapter-list-import': _vm.importContent },attrs:{\"tag\":\"ul\",\"list\":_vm.subchapters,\"group\":_vm.draggableGroup,\"ghost-class\":\"ghost\",\"handle\":\".subchapter-handle\"},on:{\"sort\":_vm.sortSubchapters}},'draggable',_vm.dragOptions,false),[_vm._l((_vm.subchapters),function(elementChild){return _c('SubchapterItem',{key:elementChild.id,attrs:{\"element\":elementChild,\"importContent\":_vm.importContent,\"remoteContent\":_vm.remoteContent,\"storeLock\":_vm.storeLock},on:{\"listUpdate\":_vm.updateList,\"remove-subchapter\":_vm.removeSubchapter,\"isRemote\":_vm.isRemoteAction,\"isImport\":_vm.isImportAction}})}),(_vm.subchapters.length == 0)?_c('p',[_vm._v(\"\\n            \"+_vm._s(_vm.$t('message.emptyChapter'))+\".\\n            \"),(!_vm.importContent)?_c('span',[_vm._v(_vm._s(_vm.$t('message.emptyChapterInfo'))+\".\")]):_vm._e()]):_vm._e()],2):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"subchapter-item\",class:{\n        'subchapter-item-import': _vm.importContent,\n        'subchapter-item-remote': _vm.remoteContent\n    },attrs:{\"data-id\":_vm.id}},[_c('div',{staticClass:\"subchapter-description subchapter-handle\",class:{\n            'full-width': _vm.importContent || _vm.remoteContent,\n            unfolded: _vm.unfolded\n        },on:{\"click\":_vm.toggleContent}},[_c('p',{staticClass:\"subchapter-title\",attrs:{\"title\":_vm.title}},[_vm._v(_vm._s(_vm.shortTitle))]),_c('p',{staticClass:\"header-info-wrapper\"},[_c('span',{class:{\n                    'unpublished-info': !_vm.isPublished && (_vm.publication_date || _vm.withdraw_date),\n                    'published-info': _vm.isPublished && (_vm.publication_date || _vm.withdraw_date)\n                }},[_vm._v(\"\\n                \"+_vm._s(_vm.$t('message.subchapter'))+\"\\n            \")]),(_vm.publication_date)?_c('span',{class:{\n                    'unpublished-info': !_vm.isPublished,\n                    'published-info': _vm.isPublished\n                }},[_vm._v(\"\\n                | \"+_vm._s(_vm.$t('message.visibleFrom'))+\": \"+_vm._s(_vm.publication_date_readable))]):_vm._e(),(_vm.withdraw_date)?_c('span',{class:{\n                    'unpublished-info': !_vm.isPublished,\n                    'published-info': _vm.isPublished\n                }},[_vm._v(\"\\n                | \"+_vm._s(_vm.$t('message.invisibleFrom'))+\": \"+_vm._s(_vm.withdraw_date_readable))]):_vm._e()])]),(!this.importContent && !this.remoteContent)?_c('ActionMenuItem',{class:{ unfolded: _vm.unfolded },attrs:{\"buttons\":['edit', 'remove', 'groups', 'users', 'add-child'],\"element\":this.element},on:{\"edit\":_vm.editElement,\"remove\":_vm.removeElement,\"add-child\":_vm.addChild,\"set-users\":_vm.setUserApproval,\"set-groups\":_vm.setGroupApproval}}):_vm._e(),(_vm.unfolded)?_c('draggable',_vm._b({staticClass:\"section-list\",class:{ 'section-list-import': _vm.importContent },attrs:{\"tag\":\"ul\",\"list\":_vm.sections,\"group\":_vm.draggableGroup,\"ghost-class\":\"ghost\",\"handle\":\".section-handle\"},on:{\"sort\":_vm.sortSections}},'draggable',_vm.dragOptions,false),[_vm._l((_vm.sections),function(section){return _c('SectionItem',{key:section.id,attrs:{\"element\":section,\"importContent\":_vm.importContent,\"remoteContent\":_vm.remoteContent,\"storeLock\":_vm.storeLock},on:{\"listUpdate\":_vm.updateList,\"remove-section\":_vm.removeSection,\"isRemote\":_vm.isRemoteAction,\"isImport\":_vm.isImportAction}})}),(_vm.sections.length == 0)?_c('p',[_vm._v(\"\\n            \"+_vm._s(_vm.$t('message.emptySubchapter'))+\".\\n            \"),(!_vm.importContent)?_c('span',[_vm._v(_vm._s(_vm.$t('message.emptySubchapterInfo'))+\".\")]):_vm._e()]):_vm._e()],2):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"section-item\",class:{\n        'section-item-import': _vm.importContent,\n        'section-item-remote': _vm.remoteContent\n    },attrs:{\"data-id\":_vm.id}},[_c('div',{staticClass:\"section-description section-handle\",class:{\n            'full-width': _vm.importContent || _vm.remoteContent,\n            unfolded: _vm.unfolded\n        },on:{\"click\":_vm.toggleContent}},[_c('p',{staticClass:\"section-title\",attrs:{\"title\":_vm.title}},[_vm._v(_vm._s(_vm.shortTitle))]),_c('p',{staticClass:\"header-info-wrapper\"},[_vm._v(_vm._s(_vm.$t('message.section')))])]),(!this.importContent && !this.remoteContent)?_c('ActionMenuItem',{class:{ unfolded: _vm.unfolded },attrs:{\"buttons\":['edit', 'remove'],\"element\":this.element},on:{\"edit\":_vm.editSection,\"remove\":_vm.removeElement}}):_vm._e(),(_vm.unfolded)?_c('draggable',_vm._b({staticClass:\"block-list\",class:{ 'block-list-import': _vm.importContent },attrs:{\"tag\":\"ul\",\"list\":_vm.blocks,\"group\":_vm.draggableGroup,\"ghost-class\":\"ghost\",\"handle\":\".block-handle\"},on:{\"sort\":_vm.sortBlocks}},'draggable',_vm.dragOptions,false),[_vm._l((_vm.blocks),function(block){return _c('BlockItem',{key:block.id,attrs:{\"block\":block,\"importContent\":_vm.importContent,\"remoteContent\":_vm.remoteContent},on:{\"remove-block\":_vm.removeBlock,\"isRemote\":_vm.isRemoteAction}})}),(_vm.blocks.length == 0)?_c('p',[_vm._v(\"\\n            \"+_vm._s(_vm.$t('message.emptySection'))+\".\\n            \"),(!_vm.importContent)?_c('span',[_vm._v(_vm._s(_vm.$t('message.emptySectionInfo'))+\".\")]):_vm._e()]):_vm._e()],2):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"block-item\",class:{\n        element_hidden: !_vm.block.isPublished,\n        'block-item-import': _vm.importContent,\n        'block-item-remote': _vm.remoteContent\n    },attrs:{\"data-id\":_vm.id}},[_c('div',{staticClass:\"block-description block-handle\",class:{ element_hidden: !_vm.block.isPublished, unfolded: _vm.unfolded },on:{\"click\":_vm.toggleContent}},[_c('span',{class:['block-icon cw-block-icon-' + _vm.block.type]}),_vm._v(\"\\n        \"+_vm._s(_vm.block.readable_name)+\"\\n    \")]),(!this.importContent && !this.remoteContent)?_c('ActionMenuItem',{attrs:{\"buttons\":['remove'],\"element\":this.block},on:{\"remove\":_vm.removeElement}}):_vm._e(),(_vm.unfolded)?_c('ul',{staticClass:\"block-preview\",class:{ 'block-preview-import': _vm.importContent }},[_c('li',{staticClass:\"block-content-preview\",domProps:{\"innerHTML\":_vm._s(_vm.preview)}})]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"strucutal-element-menu-wrapper\"},[_c('nav',{staticClass:\"action-menu bymousedown strucutal-element-menu\"},[_vm._m(0),_c('div',{staticClass:\"action-menu-content\"},[_c('div',{staticClass:\"action-menu-title\"},[_vm._v(\"\\n                \"+_vm._s(_vm.$t('message.actions'))+\"\\n            \")]),_c('ul',{staticClass:\"action-menu-list\"},[(this.users_button)?_c('li',{staticClass:\"action-menu-item\"},[_c('a',{staticClass:\"set-users\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.$emit('set-users')}}},[_vm._v(_vm._s(_vm.$t('message.setStudentPermissions')))])]):_vm._e(),(this.groups_button)?_c('li',{staticClass:\"action-menu-item\"},[_c('a',{staticClass:\"set-groups\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.$emit('set-groups')}}},[_vm._v(_vm._s(_vm.$t('message.setGroupsPermissions')))])]):_vm._e(),(this.edit_button)?_c('li',{staticClass:\"action-menu-item\"},[_c('a',{staticClass:\"edit-element\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){_vm.editDialogVisible = true}}},[_vm._v(_vm._s(_vm.$t('message.editElement')))])]):_vm._e(),(this.remove_button)?_c('li',{staticClass:\"action-menu-item\"},[_c('a',{staticClass:\"remove-element\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){_vm.removeDialogVisible = true}}},[_vm._v(_vm._s(_vm.$t('message.deleteElement')))])]):_vm._e(),(this.add_child_button)?_c('li',{staticClass:\"action-menu-item\"},[_c('a',{staticClass:\"add-child-element\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){_vm.addChildDialogVisible = true}}},[_vm._v(_vm._s(_vm.$t('message.addSubelement')))])]):_vm._e()])])]),_c('RemoveDialog',{attrs:{\"DialogVisible\":this.removeDialogVisible,\"element\":this.element},on:{\"close\":function($event){_vm.removeDialogVisible = false},\"remove\":function($event){return _vm.$emit('remove')}}}),_c('EditDialog',{attrs:{\"DialogVisible\":this.editDialogVisible,\"element\":this.element},on:{\"close\":function($event){_vm.editDialogVisible = false},\"edit\":_vm.editDialogAction}}),_c('AddChildDialog',{attrs:{\"DialogVisible\":this.addChildDialogVisible,\"element\":this.element},on:{\"close\":function($event){_vm.addChildDialogVisible = false},\"add-child\":_vm.addChildDialogAction}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('a',{staticClass:\"action-menu-icon\",attrs:{\"title\":\"Aktionen\",\"aria-expanded\":\"true\",\"aria-label\":\"Aktionsmenü\",\"href\":\"#\"}},[_c('div'),_c('div'),_c('div')])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (this.visible)?_c('div',{staticClass:\"cw-dialog\"},[_c('transition',{attrs:{\"name\":\"modal-fade\"}},[_c('div',{staticClass:\"modal-backdrop\"},[_c('div',{staticClass:\"modal alert\",attrs:{\"role\":\"dialog\"}},[_c('header',{staticClass:\"modal-header\"},[_vm._t(\"header\",[_vm._v(\"\\n                        \"+_vm._s(_vm.$t('message.deleteDialogTitle', [this.title]))+\"\\n                        \"),_c('span',{staticClass:\"modal-close-button\",on:{\"click\":_vm.close}})])],2),_c('section',{staticClass:\"modal-body\"},[(this.currentElement.isStrucutalElement)?_c('p',[_vm._v(\"\\n                        \"+_vm._s(_vm.$t('message.deleteDialogQuestionElement'))+\"?\\n                    \")]):_vm._e(),(this.currentElement.isBlock)?_c('p',[_vm._v(\"\\n                        \"+_vm._s(_vm.$t('message.deleteDialogQuestionBlock'))+\"?\\n                    \")]):_vm._e()]),_c('footer',{staticClass:\"modal-footer\"},[_vm._t(\"footer\",[(!_vm.deleting)?_c('button',{staticClass:\"button accept\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.remove}},[_vm._v(\"\\n                            \"+_vm._s(_vm.$t('message.ButtonLabelYes'))+\"\\n                        \")]):_c('button',{staticClass:\"button modal-progress\",attrs:{\"type\":\"button\"}},[_c('spring-spinner',{staticClass:\"modal-progress-spinner\",attrs:{\"animation-duration\":3000,\"size\":14,\"color\":'#28497c'}})],1),_c('button',{staticClass:\"button cancel\",class:{ 'button-inactive': _vm.deleting },attrs:{\"type\":\"button\"},on:{\"click\":_vm.close}},[_vm._v(\"\\n                            \"+_vm._s(_vm.$t('message.ButtonLabelNo'))+\"\\n                        \")])])],2)])])])],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div v-if=\"this.visible\" class=\"cw-dialog\">\n        <transition name=\"modal-fade\">\n            <div class=\"modal-backdrop\">\n                <div class=\"modal alert\" role=\"dialog\">\n                    <header class=\"modal-header\">\n                        <slot name=\"header\">\n                            {{$t('message.deleteDialogTitle', [this.title])}}\n                            <span class=\"modal-close-button\" @click=\"close\"></span>\n                        </slot>\n                    </header>\n                    <section class=\"modal-body\">\n                        <p v-if=\"this.currentElement.isStrucutalElement\">\n                            {{$t('message.deleteDialogQuestionElement')}}?\n                        </p>\n                        <p v-if=\"this.currentElement.isBlock\">\n                            {{$t('message.deleteDialogQuestionBlock')}}?\n                        </p>\n                    </section>\n                    <footer class=\"modal-footer\">\n                        <slot name=\"footer\">\n                            <button type=\"button\" class=\"button accept\" @click=\"remove\" v-if=\"!deleting\">\n                                {{$t('message.ButtonLabelYes')}}\n                            </button>\n                            <button type=\"button\" class=\"button modal-progress\" v-else>\n                                <spring-spinner\n                                    :animation-duration=\"3000\"\n                                    :size=\"14\"\n                                    :color=\"'#28497c'\"\n                                    class=\"modal-progress-spinner\"\n                                />\n                            </button>\n\n                            <button\n                                type=\"button\"\n                                class=\"button cancel\"\n                                :class=\"{ 'button-inactive': deleting }\"\n                                @click=\"close\"\n                            >\n                                {{$t('message.ButtonLabelNo')}}\n                            </button>\n                        </slot>\n                    </footer>\n                </div>\n            </div>\n        </transition>\n    </div>\n</template>\n<script>\nimport { SpringSpinner } from 'epic-spinners';\n\nexport default {\n    name: 'RemoveDialog',\n    components: { SpringSpinner },\n    props: {\n        DialogVisible: Boolean,\n        element: Object\n    },\n    data() {\n        return {\n            visible: this.DialogVisible,\n            title: '',\n            currentElement: this.element,\n            deleting: false\n        };\n    },\n    mounted() {\n        if (this.currentElement) {\n            if (this.currentElement.isBlock) {\n                this.title = this.currentElement.readable_name;\n            }\n            if (this.currentElement.isStrucutalElement) {\n                this.title = this.currentElement.title;\n            }\n        }\n    },\n    methods: {\n        close() {\n            if (!this.deleting) {\n                this.$emit('close');\n            }\n        },\n        remove() {\n            let data = {};\n            let view = this;\n            data.id = this.currentElement.id;\n            this.deleting = true;\n            $.ajax({\n                type: 'DELETE',\n                url: '../blocks/' + data.id,\n                contentType: 'application/json',\n                data: data,\n                success: function() {\n                    view.$emit('remove');\n                    view.deleting = false;\n                    view.$emit('close');\n                },\n                error: function() {\n                    console.log('can not remove node!');\n                    view.deleting = false;\n                    view.$emit('close');\n                }\n            });\n        }\n    },\n    watch: {\n        DialogVisible: function() {\n            this.visible = this.DialogVisible;\n        }\n    }\n};\n</script>\n<style></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RemoveDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RemoveDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RemoveDialog.vue?vue&type=template&id=9c97ee72&\"\nimport script from \"./RemoveDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./RemoveDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (this.visible)?_c('div',{staticClass:\"cw-dialog\"},[_c('transition',{attrs:{\"name\":\"modal-fade\"}},[_c('div',{staticClass:\"modal-backdrop\"},[_c('div',{staticClass:\"modal\",attrs:{\"role\":\"dialog\"}},[_c('header',{staticClass:\"modal-header\"},[_vm._t(\"header\",[_vm._v(\"\\n                        \"+_vm._s(_vm.$t('message.editDialogTitle', [this.title]))+\"\\n                        \"),_c('span',{staticClass:\"modal-close-button\",on:{\"click\":_vm.close}})])],2),_c('section',{staticClass:\"modal-body\"},[_c('label',{attrs:{\"for\":\"editDialogElementTitle\"}},[_vm._v(_vm._s(_vm.$t('message.title'))+\":\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.title),expression:\"title\"}],attrs:{\"type\":\"text\",\"name\":\"editDialogElementTitle\"},domProps:{\"value\":(_vm.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.title=$event.target.value}}}),_c('br'),(_vm.isChapter)?_c('div',[_c('label',{attrs:{\"for\":\"publication_date\"}},[_vm._v(_vm._s(_vm.$t('message.visibleFrom'))+\":\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.publicationDate),expression:\"publicationDate\"}],attrs:{\"type\":\"date\",\"name\":\"publication_date\",\"max\":_vm.maxPublicationDate},domProps:{\"value\":(_vm.publicationDate)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.publicationDate=$event.target.value}}}),_c('br'),_c('label',{attrs:{\"for\":\"withdraw_date\"}},[_vm._v(_vm._s(_vm.$t('message.invisibleFrom'))+\":\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.withdrawDate),expression:\"withdrawDate\"}],attrs:{\"type\":\"date\",\"name\":\"withdraw_date\",\"min\":_vm.minWithdrawDate},domProps:{\"value\":(_vm.withdrawDate)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.withdrawDate=$event.target.value}}})]):_vm._e()]),_c('footer',{staticClass:\"modal-footer\"},[_vm._t(\"footer\",[_c('button',{staticClass:\"button accept\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.edit}},[_vm._v(\"\\n                            \"+_vm._s(_vm.$t('message.ButtonLabelSave'))+\"\\n                        \")]),_c('button',{staticClass:\"button cancel\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.close}},[_vm._v(\"\\n                             \"+_vm._s(_vm.$t('message.ButtonLabelClose'))+\"\\n                        \")])])],2)])])])],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div v-if=\"this.visible\" class=\"cw-dialog\">\n        <transition name=\"modal-fade\">\n            <div class=\"modal-backdrop\">\n                <div class=\"modal\" role=\"dialog\">\n                    <header class=\"modal-header\">\n                        <slot name=\"header\">\n                            {{$t('message.editDialogTitle', [this.title])}}\n                            <span class=\"modal-close-button\" @click=\"close\"></span>\n                        </slot>\n                    </header>\n                    <section class=\"modal-body\">\n                        <label for=\"editDialogElementTitle\">{{$t('message.title')}}:</label>\n                        <input type=\"text\" name=\"editDialogElementTitle\" v-model=\"title\" />\n                        <br />\n                        <div v-if=\"isChapter\">\n                            <label for=\"publication_date\">{{$t('message.visibleFrom')}}:</label>\n                            <input\n                                type=\"date\"\n                                name=\"publication_date\"\n                                v-model=\"publicationDate\"\n                                :max=\"maxPublicationDate\"\n                            />\n                            <br />\n                            <label for=\"withdraw_date\">{{$t('message.invisibleFrom')}}:</label>\n                            <input type=\"date\" name=\"withdraw_date\" v-model=\"withdrawDate\" :min=\"minWithdrawDate\" />\n                        </div>\n                    </section>\n                    <footer class=\"modal-footer\">\n                        <slot name=\"footer\">\n                            <button type=\"button\" class=\"button accept\" @click=\"edit\">\n                                {{$t('message.ButtonLabelSave')}}\n                            </button>\n\n                            <button type=\"button\" class=\"button cancel\" @click=\"close\">\n                                 {{$t('message.ButtonLabelClose')}}\n                            </button>\n                        </slot>\n                    </footer>\n                </div>\n            </div>\n        </transition>\n    </div>\n</template>\n<script>\nexport default {\n    name: 'EditDialog',\n    props: {\n        DialogVisible: Boolean,\n        element: Object\n    },\n    data() {\n        return {\n            visible: this.DialogVisible,\n            title: '',\n            currentElement: this.element,\n            isChapter: false,\n            publicationDate: null,\n            maxPublicationDate: '',\n            withdrawDate: null,\n            minWithdrawDate: ''\n        };\n    },\n    mounted() {\n        if (this.currentElement) {\n            this.title = this.currentElement.title;\n            if (this.currentElement.type == 'Chapter' || this.currentElement.type == 'Subchapter') {\n                this.isChapter = true;\n                if (this.currentElement.publication_date) {\n                    this.publicationDate = this.convertTimestampToDate(this.currentElement.publication_date);\n                }\n                if (this.currentElement.withdraw_date) {\n                    this.withdrawDate = this.convertTimestampToDate(this.currentElement.withdraw_date);\n                }\n            }\n        }\n    },\n    methods: {\n        close() {\n            this.$emit('close');\n        },\n        edit() {\n            let view = this;\n            let data = {};\n            data.id = this.element.id;\n            data.title = this.title;\n            if (this.isChapter) {\n                let pattern = /(\\d{4})-(\\d{2})-(\\d{2})/;\n                if (this.publicationDate) {\n                    data.publication_date =\n                        new Date(this.publicationDate.replace(pattern, '$2,$3,$1')).getTime() / 1000;\n                    data.publication_date_readable = this.publicationDate.replace(pattern, '$3.$2.$1');\n                }\n                if (this.withdrawDate) {\n                    data.withdraw_date = new Date(this.withdrawDate.replace(pattern, '$2,$3,$1')).getTime() / 1000;\n                    data.withdraw_date_readable = this.withdrawDate.replace(pattern, '$3.$2.$1');\n                }\n                if (data.withdraw_date <= data.publication_date) {\n                    return;\n                }\n                data.isPublished = this.isPublished(this.publicationDate, this.withdrawDate);\n            }\n\n            $.ajax({\n                type: 'PUT',\n                url: '../blocks/' + data.id,\n                contentType: 'application/json',\n                data: JSON.stringify(data),\n                success: function() {\n                    view.$emit('edit', data);\n                    view.$emit('close');\n                },\n                error: function() {\n                    console.log('can not remove node!');\n                    view.$emit('close');\n                }\n            });\n        },\n        convertTimestampToDate(timestamp) {\n            let date = new Date(timestamp);\n\n            return (\n                date.getFullYear() +\n                '-' +\n                ('0' + (date.getMonth() + 1)).slice(-2) +\n                '-' +\n                ('0' + date.getDate()).slice(-2)\n            );\n        },\n        isPublished(publication_date, withdraw_date) {\n            let now = new Date();\n            if (\n                (new Date(publication_date) < now || publication_date == null) &&\n                (new Date(withdraw_date) > now || withdraw_date == null)\n            ) {\n                return true;\n            } else {\n                return false;\n            }\n        }\n    },\n    watch: {\n        DialogVisible: function() {\n            this.visible = this.DialogVisible;\n        },\n        publicationDate: function() {\n            this.minWithdrawDate = this.convertTimestampToDate(this.publicationDate);\n        },\n        withdrawDate: function() {\n            this.maxPublicationDate = this.convertTimestampToDate(this.withdrawDate);\n        }\n    }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditDialog.vue?vue&type=template&id=15b85df6&\"\nimport script from \"./EditDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./EditDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (this.visible)?_c('div',{staticClass:\"cw-dialog\"},[_c('transition',{attrs:{\"name\":\"modal-fade\"}},[_c('div',{staticClass:\"modal-backdrop\"},[_c('div',{staticClass:\"modal\",attrs:{\"role\":\"dialog\"}},[_c('header',{staticClass:\"modal-header\"},[_vm._t(\"header\",[_vm._v(\"\\n                        \"+_vm._s(_vm.$t('message.addDialogTitle'))+\"\\n                        \"),_c('span',{staticClass:\"modal-close-button\",on:{\"click\":_vm.close}})])],2),_c('section',{staticClass:\"modal-body\"},[_c('label',{attrs:{\"for\":\"editDialogElementTitle\"}},[_vm._v(_vm._s(_vm.$t('message.title'))+\":\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.title),expression:\"title\"}],ref:\"editDialogElementTitle\",attrs:{\"type\":\"text\",\"name\":\"editDialogElementTitle\"},domProps:{\"value\":(_vm.title)},on:{\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.edit($event)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.close($event)}],\"input\":function($event){if($event.target.composing){ return; }_vm.title=$event.target.value}}})]),_c('footer',{staticClass:\"modal-footer\"},[_vm._t(\"footer\",[_c('button',{staticClass:\"button accept\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.edit}},[_vm._v(\"\\n                            \"+_vm._s(_vm.$t('message.ButtonLabelSave'))+\"\\n                        \")]),_c('button',{staticClass:\"button cancel\",attrs:{\"type\":\"button\"},on:{\"click\":_vm.close}},[_vm._v(\"\\n                            \"+_vm._s(_vm.$t('message.ButtonLabelClose'))+\"\\n                        \")])])],2)])])])],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div v-if=\"this.visible\" class=\"cw-dialog\">\n        <transition name=\"modal-fade\">\n            <div class=\"modal-backdrop\">\n                <div class=\"modal\" role=\"dialog\">\n                    <header class=\"modal-header\">\n                        <slot name=\"header\">\n                            {{$t('message.addDialogTitle')}}\n                            <span class=\"modal-close-button\" @click=\"close\"></span>\n                        </slot>\n                    </header>\n                    <section class=\"modal-body\">\n                        <label for=\"editDialogElementTitle\">{{$t('message.title')}}:</label>\n                        <input\n                            type=\"text\"\n                            name=\"editDialogElementTitle\"\n                            ref=\"editDialogElementTitle\"\n                            v-model=\"title\"\n                            @keyup.enter=\"edit\"\n                            @keyup.esc=\"close\"\n                        />\n                    </section>\n                    <footer class=\"modal-footer\">\n                        <slot name=\"footer\">\n                            <button type=\"button\" class=\"button accept\" @click=\"edit\">\n                                {{$t('message.ButtonLabelSave')}}\n                            </button>\n\n                            <button type=\"button\" class=\"button cancel\" @click=\"close\">\n                                {{$t('message.ButtonLabelClose')}}\n                            </button>\n                        </slot>\n                    </footer>\n                </div>\n            </div>\n        </transition>\n    </div>\n</template>\n<script>\nimport axios from 'axios';\nexport default {\n    name: 'AddChildDialog',\n    props: {\n        DialogVisible: Boolean,\n        element: Object\n    },\n    data() {\n        return {\n            visible: this.DialogVisible,\n            type: this.element.childType,\n            title: '',\n            currentElement: this.element\n        };\n    },\n    mounted() {},\n    methods: {\n        close() {\n            this.$emit('close');\n            this.title = '';\n        },\n        edit() {\n            let view = this;\n            if (this.title == '') {\n                this.title = 'new ' + this.type;\n            }\n            axios\n                .post('add_structure', {\n                    parent: view.element.id,\n                    title: view.title,\n                    type: view.type,\n                    cid: COURSEWARE.config.cid\n                })\n                .then(response => {\n                    view.$emit('add-child', response.data);\n                    view.close();\n                })\n                .catch(error => {\n                    console.log('there was an error: ' + error.response);\n                    view.close();\n                });\n        }\n    },\n    watch: {\n        DialogVisible: function() {\n            this.visible = this.DialogVisible;\n            this.$nextTick(() => {\n                if (this.$refs.editDialogElementTitle) {\n                    this.$refs.editDialogElementTitle.focus();\n                }\n            });\n        }\n    }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddChildDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddChildDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddChildDialog.vue?vue&type=template&id=26f60bca&\"\nimport script from \"./AddChildDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./AddChildDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div class=\"strucutal-element-menu-wrapper\">\n        <nav class=\"action-menu bymousedown strucutal-element-menu\">\n            <a class=\"action-menu-icon\" title=\"Aktionen\" aria-expanded=\"true\" aria-label=\"Aktionsmenü\" href=\"#\">\n                <div></div>\n                <div></div>\n                <div></div>\n            </a>\n            <div class=\"action-menu-content\">\n                <div class=\"action-menu-title\">\n                    {{$t('message.actions')}}\n                </div>\n                <ul class=\"action-menu-list\">\n                    <li v-if=\"this.users_button\" class=\"action-menu-item\">\n                        <a href=\"#\" class=\"set-users\" @click=\"$emit('set-users')\">{{$t('message.setStudentPermissions')}}</a>\n                    </li>\n                    <li v-if=\"this.groups_button\" class=\"action-menu-item\">\n                        <a href=\"#\" class=\"set-groups\" @click=\"$emit('set-groups')\">{{$t('message.setGroupsPermissions')}}</a>\n                    </li>\n                    <li v-if=\"this.edit_button\" class=\"action-menu-item\">\n                        <a href=\"#\" class=\"edit-element\" @click=\"editDialogVisible = true\">{{$t('message.editElement')}}</a>\n                    </li>\n                    <li v-if=\"this.remove_button\" class=\"action-menu-item\">\n                        <a href=\"#\" class=\"remove-element\" @click=\"removeDialogVisible = true\">{{$t('message.deleteElement')}}</a>\n                    </li>\n                    <li v-if=\"this.add_child_button\" class=\"action-menu-item\">\n                        <a href=\"#\" class=\"add-child-element\" @click=\"addChildDialogVisible = true\">{{$t('message.addSubelement')}}</a>\n                    </li>\n                </ul>\n            </div>\n        </nav>\n        <RemoveDialog\n            :DialogVisible=\"this.removeDialogVisible\"\n            :element=\"this.element\"\n            @close=\"removeDialogVisible = false\"\n            @remove=\"$emit('remove')\"\n        />\n        <EditDialog\n            :DialogVisible=\"this.editDialogVisible\"\n            :element=\"this.element\"\n            @close=\"editDialogVisible = false\"\n            @edit=\"editDialogAction\"\n        />\n        <AddChildDialog\n            :DialogVisible=\"this.addChildDialogVisible\"\n            :element=\"this.element\"\n            @close=\"addChildDialogVisible = false\"\n            @add-child=\"addChildDialogAction\"\n        />\n    </div>\n</template>\n<script>\nimport RemoveDialog from './RemoveDialog.vue';\nimport EditDialog from './EditDialog.vue';\nimport AddChildDialog from './AddChildDialog.vue';\nexport default {\n    props: {\n        buttons: Array,\n        element: Object\n    },\n    components: { RemoveDialog, EditDialog, AddChildDialog },\n    data() {\n        return {\n            edit_button: false,\n            remove_button: false,\n            groups_button: false,\n            users_button: false,\n            add_child_button: false,\n            removeDialogVisible: false,\n            editDialogVisible: false,\n            addChildDialogVisible: false\n        };\n    },\n    created() {\n        let view = this;\n        this.buttons.forEach(element => {\n            switch (element) {\n                case 'edit':\n                    view.edit_button = true;\n                    break;\n                case 'remove':\n                    view.remove_button = true;\n                    break;\n                case 'add-child':\n                    view.add_child_button = true;\n                    break;\n                case 'groups':\n                    view.groups_button = true;\n                    break;\n                case 'users':\n                    view.users_button = true;\n                    break;\n            }\n        });\n    },\n    methods: {\n        editDialogAction(data) {\n            this.$emit('edit', data);\n        },\n        addChildDialogAction(data) {\n            this.$emit('add-child', data);\n        }\n    }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActionMenuItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ActionMenuItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ActionMenuItem.vue?vue&type=template&id=35d227a0&\"\nimport script from \"./ActionMenuItem.vue?vue&type=script&lang=js&\"\nexport * from \"./ActionMenuItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <li\n        class=\"block-item\"\n        :class=\"{\n            element_hidden: !block.isPublished,\n            'block-item-import': importContent,\n            'block-item-remote': remoteContent\n        }\"\n        :data-id=\"id\"\n    >\n        <div\n            class=\"block-description block-handle\"\n            :class=\"{ element_hidden: !block.isPublished, unfolded: unfolded }\"\n            @click=\"toggleContent\"\n        >\n            <span :class=\"['block-icon cw-block-icon-' + block.type]\"></span>\n            {{ block.readable_name }}\n        </div>\n        <ActionMenuItem\n            v-if=\"!this.importContent && !this.remoteContent\"\n            :buttons=\"['remove']\"\n            :element=\"this.block\"\n            @remove=\"removeElement\"\n        />\n        <ul v-if=\"unfolded\" class=\"block-preview\" :class=\"{ 'block-preview-import': importContent }\">\n            <li class=\"block-content-preview\" v-html=\"preview\"></li>\n        </ul>\n    </li>\n</template>\n\n<script>\nimport ActionMenuItem from './ActionMenuItem.vue';\nexport default {\n    name: 'BlockItem',\n    data() {\n        return {\n            id: this.block.id,\n            preview: '',\n            unfolded: false\n        };\n    },\n    components: {\n        ActionMenuItem\n    },\n    props: {\n        block: Object,\n        importContent: Boolean,\n        remoteContent: Boolean\n    },\n    created() {\n        this.preview = this.block.preview;\n    },\n    watch: {\n        block: function() {\n            this.id = this.block.id;\n        }\n    },\n    methods: {\n        removeElement() {\n            this.$emit('remove-block', this.block);\n        },\n        toggleContent() {\n            this.unfolded = !this.unfolded;\n        }\n    }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BlockItem.vue?vue&type=template&id=299a4230&\"\nimport script from \"./BlockItem.vue?vue&type=script&lang=js&\"\nexport * from \"./BlockItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default {\n  methods: {\n    cutTitle(title, length = 30) {\n      return title.length > length ? title.substr(0, length - 1) + \"…\" : title;\n    },\n    getReadableDate(date) {\n      let datetime = new Date(date);\n      return (\n        (\"0\" + datetime.getDate()).slice(-2) +\n        \".\" +\n        (\"0\" + (datetime.getMonth() + 1)).slice(-2) +\n        \".\" +\n        datetime.getFullYear()\n      );\n    },\n    getContent(node) {\n      var json = {};\n      switch (node.getAttribute(\"type\")) {\n        case \"AssortBlock\":\n          return \"\";\n        case \"AudioBlock\":\n          return node.getAttribute(\"audio:audio_file_name\");\n        case \"AudioGalleryBlock\":\n          return \"\";\n        case \"BeforeAfterBlock\":\n          json = JSON.parse(node.getAttribute(\"beforeafter:ba_before\"));\n          if (json.source == \"url\") {\n            return json.url;\n          } else {\n            return json.file_name;\n          }\n        case \"BlubberBlock\":\n          return \"\";\n        case \"CanvasBlock\":\n          json = JSON.parse(node.getAttribute(\"canvas:canvas_content\"));\n          if (json.source == \"web\") {\n            return json.image_url;\n          }\n          if (json.source == \"cw\") {\n            return json.image_name;\n          }\n          return \"\";\n        case \"ChartBlock\":\n          return node.getAttribute(\"chart:chart_type\");\n        case \"CodeBlock\":\n          return node.getAttribute(\"code:code_content\");\n        case \"ConfirmBlock\":\n          return node.getAttribute(\"title\");\n        case \"DateBlock\":\n          json = JSON.parse(node.getAttribute(\"date:date_content\"));\n          return json.date + \" \" + json.time;\n        case \"DialogCardsBlock\":\n          json = JSON.parse(\n            node.getAttribute(\"dialogcards:dialogcards_content\")\n          );\n          return json[0].front_img_file_name;\n        case \"DiscussionBlock\":\n          return \"\";\n        case \"EmbedBlock\":\n          return (\n            node.getAttribute(\"embed:embed_source\") +\n            \" \" +\n            node.getAttribute(\"embed:embed_url\")\n          );\n        case \"FolderBlock\":\n          return \"\";\n        case \"ForumBlock\":\n          return \"\";\n        case \"GalleryBlock\":\n          return node.getAttribute(\"gallery:gallery_folder_name\");\n        case \"HtmlBlock\":\n          return node.textContent;\n        case \"IFrameBlock\":\n          return node.getAttribute(\"iframe:url\");\n        case \"ImageMapBlock\":\n          return JSON.parse(node.getAttribute(\"imagemap:image_map_content\"))\n            .image_name;\n        case \"InteractiveVideoBlock\":\n          return JSON.parse(node.getAttribute(\"interactivevideo:iav_source\"))\n            .file_name;\n        case \"KeyPointBlock\":\n          return node.getAttribute(\"keypoint:keypoint_content\");\n        case \"LinkBlock\":\n          return node.getAttribute(\"link:link_target\");\n        case \"OpenCastBlock\":\n          return \"\";\n        case \"PdfBlock\":\n          return node.getAttribute(\"pdf:pdf_filename\");\n        case \"PostBlock\":\n          return \"\";\n        case \"SearchBlock\":\n          return \"\";\n        case \"TestBlock\":\n          var xml = node.getAttribute(\"test:xml\");\n          var parser = new DOMParser();\n          var xmlDoc = parser.parseFromString(xml, \"text/xml\");\n          return xmlDoc.firstElementChild.children[0].textContent;\n        case \"TypewriterBlock\":\n          json = JSON.parse(node.getAttribute(\"typewriter:typewriter_json\"));\n          return json.content;\n        case \"VideoBlock\":\n          if (node.getAttribute(\"video:webvideo\") != \"\") {\n            json = JSON.parse(node.getAttribute(\"video:webvideo\"))[0];\n            if (json.source == \"url\") {\n              return json.src;\n            } else {\n              return json.file_name;\n            }\n          }\n          return node.getAttribute(\"video:url\");\n        default:\n          return \"\";\n      }\n    }\n  }\n};\n","<template>\n    <li\n        class=\"section-item\"\n        :class=\"{\n            'section-item-import': importContent,\n            'section-item-remote': remoteContent\n        }\"\n        :data-id=\"id\"\n    >\n        <div\n            class=\"section-description section-handle\"\n            :class=\"{\n                'full-width': importContent || remoteContent,\n                unfolded: unfolded\n            }\"\n            @click=\"toggleContent\"\n        >\n            <p class=\"section-title\" :title=\"title\">{{ shortTitle }}</p>\n            <p class=\"header-info-wrapper\">{{$t('message.section')}}</p>\n        </div>\n        <ActionMenuItem\n            v-if=\"!this.importContent && !this.remoteContent\"\n            :buttons=\"['edit', 'remove']\"\n            :element=\"this.element\"\n            @edit=\"editSection\"\n            @remove=\"removeElement\"\n            :class=\"{ unfolded: unfolded }\"\n        />\n        <draggable\n            tag=\"ul\"\n            v-if=\"unfolded\"\n            :list=\"blocks\"\n            :group=\"draggableGroup\"\n            v-bind=\"dragOptions\"\n            class=\"block-list\"\n            :class=\"{ 'block-list-import': importContent }\"\n            ghost-class=\"ghost\"\n            handle=\".block-handle\"\n            @sort=\"sortBlocks\"\n        >\n            <BlockItem\n                v-for=\"block in blocks\"\n                :key=\"block.id\"\n                :block=\"block\"\n                :importContent=\"importContent\"\n                :remoteContent=\"remoteContent\"\n                @remove-block=\"removeBlock\"\n                @isRemote=\"isRemoteAction\"\n            />\n            <p v-if=\"blocks.length == 0\">\n                {{$t('message.emptySection')}}.\n                <span v-if=\"!importContent\">{{$t('message.emptySectionInfo')}}.</span>\n            </p>\n        </draggable>\n    </li>\n</template>\n\n<script>\nimport BlockItem from './BlockItem.vue';\nimport ActionMenuItem from './ActionMenuItem.vue';\nimport blockManagerHelperMixin from './../mixins/blockManagerHelperMixin.js';\nimport draggable from 'vuedraggable';\nexport default {\n    name: 'SectionItem',\n    mixins: [blockManagerHelperMixin],\n    data() {\n        return {\n            id: this.element.id,\n            title: this.element.title,\n            shortTitle: this.element.shortTitle,\n            unfolded: false,\n            blocks: this.element.children,\n            blockList: {},\n            draggableGroup: { name: 'blocks' }\n        };\n    },\n    components: {\n        BlockItem,\n        ActionMenuItem,\n        draggable\n    },\n    props: {\n        element: Object,\n        importContent: Boolean,\n        remoteContent: Boolean,\n        storeLock: Boolean\n    },\n    created() {\n        if (this.blocks == null) {\n            this.blocks = [];\n        }\n        if (this.importContent) {\n            this.draggableGroup = { name: 'blocks', pull: 'clone', put: false };\n        }\n        this.shortTitle = this.cutTitle(this.element.title, 30);\n    },\n    watch: {\n        element: function() {\n            if (this.element.children == null) {\n                this.blocks = [];\n            } else {\n                this.blocks = this.element.children;\n            }\n        }\n    },\n    methods: {\n        sortBlocks() {\n            let view = this;\n            let args = {};\n            let blockList = [];\n            let list = [];\n            this.blocks.forEach(element => {\n                if (element.isRemote) {\n                    list.push('remote_' + element.id);\n                    view.$emit('isRemote');\n                } else if (element.isImport) {\n                    list.push('import_' + element.id);\n                    view.$emit('isImport');\n                } else {\n                    list.push(element.id);\n                }\n            });\n            blockList[this.id] = list;\n            args.list = blockList;\n            args.type = 'block';\n            this.$emit('listUpdate', args);\n        },\n        removeBlock(data) {\n            let blocks = [];\n            this.blocks.forEach(element => {\n                if (element.id != data.id) {\n                    blocks.push(element);\n                }\n            });\n            this.blocks = blocks;\n        },\n        removeElement() {\n            this.$emit('remove-section', this.element);\n        },\n        editSection(data) {\n            this.title = data.title;\n            this.shortTitle = this.cutTitle(data.title, 30);\n        },\n        toggleContent() {\n            this.unfolded = !this.unfolded;\n        }\n    },\n    computed: {\n        dragOptions() {\n            if (this.importContent) {\n                return {\n                    animation: 200,\n                    disabled: this.storeLock,\n                    sort: false,\n                    ghostClass: 'ghost'\n                };\n            } else {\n                return {\n                    animation: 200,\n                    disabled: this.storeLock,\n                    ghostClass: 'ghost'\n                };\n            }\n        }\n    }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SectionItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SectionItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SectionItem.vue?vue&type=template&id=13a2d8a0&\"\nimport script from \"./SectionItem.vue?vue&type=script&lang=js&\"\nexport * from \"./SectionItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <li\n        class=\"subchapter-item\"\n        :class=\"{\n            'subchapter-item-import': importContent,\n            'subchapter-item-remote': remoteContent\n        }\"\n        :data-id=\"id\"\n    >\n        <div\n            class=\"subchapter-description subchapter-handle\"\n            :class=\"{\n                'full-width': importContent || remoteContent,\n                unfolded: unfolded\n            }\"\n            @click=\"toggleContent\"\n        >\n            <p class=\"subchapter-title\" :title=\"title\">{{ shortTitle }}</p>\n            <p class=\"header-info-wrapper\">\n                <span\n                    :class=\"{\n                        'unpublished-info': !isPublished && (publication_date || withdraw_date),\n                        'published-info': isPublished && (publication_date || withdraw_date)\n                    }\"\n                >\n                    {{$t('message.subchapter')}}\n                </span>\n                <span\n                    v-if=\"publication_date\"\n                    :class=\"{\n                        'unpublished-info': !isPublished,\n                        'published-info': isPublished\n                    }\"\n                >\n                    | {{$t('message.visibleFrom')}}: {{ publication_date_readable }}</span\n                >\n                <span\n                    v-if=\"withdraw_date\"\n                    :class=\"{\n                        'unpublished-info': !isPublished,\n                        'published-info': isPublished\n                    }\"\n                >\n                    | {{$t('message.invisibleFrom')}}: {{ withdraw_date_readable }}</span\n                >\n            </p>\n        </div>\n        <ActionMenuItem\n            v-if=\"!this.importContent && !this.remoteContent\"\n            :buttons=\"['edit', 'remove', 'groups', 'users', 'add-child']\"\n            :element=\"this.element\"\n            @edit=\"editElement\"\n            @remove=\"removeElement\"\n            @add-child=\"addChild\"\n            @set-users=\"setUserApproval\"\n            @set-groups=\"setGroupApproval\"\n            :class=\"{ unfolded: unfolded }\"\n        />\n\n        <draggable\n            tag=\"ul\"\n            v-if=\"unfolded\"\n            :list=\"sections\"\n            :group=\"draggableGroup\"\n            v-bind=\"dragOptions\"\n            class=\"section-list\"\n            :class=\"{ 'section-list-import': importContent }\"\n            ghost-class=\"ghost\"\n            handle=\".section-handle\"\n            @sort=\"sortSections\"\n        >\n            <SectionItem\n                v-for=\"section in sections\"\n                :key=\"section.id\"\n                :element=\"section\"\n                :importContent=\"importContent\"\n                :remoteContent=\"remoteContent\"\n                :storeLock=\"storeLock\"\n                @listUpdate=\"updateList\"\n                @remove-section=\"removeSection\"\n                @isRemote=\"isRemoteAction\"\n                @isImport=\"isImportAction\"\n            />\n            <p v-if=\"sections.length == 0\">\n                {{$t('message.emptySubchapter')}}.\n                <span v-if=\"!importContent\">{{$t('message.emptySubchapterInfo')}}.</span>\n            </p>\n        </draggable>\n    </li>\n</template>\n\n<script>\nimport SectionItem from './SectionItem.vue';\nimport ActionMenuItem from './ActionMenuItem.vue';\nimport blockManagerHelperMixin from './../mixins/blockManagerHelperMixin.js';\nimport draggable from 'vuedraggable';\nexport default {\n    name: 'SubchapterItem',\n    mixins: [blockManagerHelperMixin],\n    data() {\n        return {\n            id: this.element.id,\n            publication_date: this.element.publication_date,\n            publication_date_readable: this.getReadableDate(this.element.publication_date),\n            withdraw_date: this.element.withdraw_date,\n            withdraw_date_readable: this.getReadableDate(this.element.withdraw_date),\n            isPublished: this.element.isPublished,\n            title: this.element.title,\n            shortTitle: this.element.shortTitle,\n            unfolded: false,\n            sections: this.element.children,\n            sectionList: {},\n            draggableGroup: { name: 'sections' }\n        };\n    },\n    components: {\n        SectionItem,\n        ActionMenuItem,\n        draggable\n    },\n    props: {\n        element: Object,\n        importContent: Boolean,\n        remoteContent: Boolean,\n        storeLock: Boolean\n    },\n    created() {\n        if (this.sections == null) {\n            this.sections = [];\n        }\n        if (this.importContent) {\n            this.draggableGroup = { name: 'sections', pull: 'clone', put: false };\n        }\n        this.shortTitle = this.cutTitle(this.element.title, 30);\n    },\n    watch: {\n        element: function() {\n            if (this.element.children == null) {\n                this.sections = [];\n            } else {\n                this.sections = this.element.children;\n            }\n        }\n    },\n    methods: {\n        sortSections() {\n            let view = this;\n            let args = {};\n            let sectionList = [];\n            let list = [];\n            let hasChildren = false;\n            this.sections.forEach(element => {\n                if (element.isRemote) {\n                    list.push('remote_' + element.id);\n                    view.isRemoteAction();\n                    if (element.children != null) {\n                        hasChildren = true;\n                        view.buildChildrenList(element, 'remote_');\n                    }\n                } else if (element.isImport) {\n                    list.push('import_' + element.id);\n                    view.isImportAction();\n                    if (element.children.length != null) {\n                        hasChildren = true;\n                        view.buildChildrenList(element, 'import_');\n                    }\n                } else {\n                    list.push(element.id);\n                }\n            });\n            sectionList[this.id] = list;\n            args.list = sectionList;\n            args.hasChildren = hasChildren;\n            args.type = 'section';\n            this.$emit('listUpdate', args);\n        },\n        buildChildrenList(element, type) {\n            let view = this;\n            let list = [];\n            let updateList = [];\n            let args = {};\n            let hasChildren = false;\n            element.children.forEach(child => {\n                list.push(type + child.id);\n                if (child.children != null) {\n                    hasChildren = true;\n                    view.buildChildrenList(child, type);\n                }\n            });\n            updateList[type + element.id] = list;\n            args.list = updateList;\n            args.hasChildren = hasChildren;\n            if (element.type.toLowerCase() == 'section') {\n                args.type = 'block';\n                this.$emit('listUpdate', args);\n            } else {\n                args.type = element.children[0].type.toLowerCase();\n                this.$emit('listUpdate', args);\n            }\n        },\n        updateList(args) {\n            this.$emit('listUpdate', args);\n        },\n        isRemoteAction() {\n            this.$emit('isRemote');\n        },\n        isImportAction() {\n            this.$emit('isImport');\n        },\n        removeElement() {\n            this.$emit('remove-subchapter', this.element);\n        },\n        editElement(data) {\n            this.title = data.title;\n            this.shortTitle = this.cutTitle(data.title);\n            this.publication_date = data.publication_date * 1000;\n            this.publication_date_readable = data.publication_date_readable;\n            this.withdraw_date = data.withdraw_date * 1000;\n            this.withdraw_date_readable = data.withdraw_date_readable;\n            this.isPublished = data.isPublished;\n        },\n        addChild(data) {\n            this.sections.push(data);\n        },\n        removeSection(data) {\n            let sections = [];\n            this.sections.forEach(element => {\n                if (element.id != data.id) {\n                    sections.push(element);\n                }\n            });\n            this.sections = sections;\n        },\n        setUserApproval(data) {\n            console.log(data);\n        },\n        setGroupApproval(data) {\n            console.log(data);\n        },\n        toggleContent() {\n            this.unfolded = !this.unfolded;\n        }\n    },\n    computed: {\n        dragOptions() {\n            if (this.importContent) {\n                return {\n                    animation: 200,\n                    disabled: this.storeLock,\n                    sort: false,\n                    ghostClass: 'ghost'\n                };\n            } else {\n                return {\n                    animation: 200,\n                    disabled: this.storeLock,\n                    ghostClass: 'ghost'\n                };\n            }\n        }\n    }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubchapterItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubchapterItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SubchapterItem.vue?vue&type=template&id=828f6480&\"\nimport script from \"./SubchapterItem.vue?vue&type=script&lang=js&\"\nexport * from \"./SubchapterItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n    <li\n        class=\"chapter-item\"\n        :class=\"{\n            'chapter-item-import': importContent,\n            'chapter-item-remote': remoteContent\n        }\"\n        :data-id=\"id\"\n    >\n        <div\n            class=\"chapter-description chapter-handle\"\n            :class=\"{\n                'full-width': importContent || remoteContent,\n                unfolded: unfolded\n            }\"\n            @click=\"toggleContent\"\n        >\n            <p class=\"chapter-title\" :title=\"title\">\n                {{ shortTitle }}\n            </p>\n            <p class=\"header-info-wrapper\">\n                <span\n                    :class=\"{\n                        'unpublished-info': !isPublished && (publication_date || withdraw_date),\n                        'published-info': isPublished && (publication_date || withdraw_date)\n                    }\"\n                >\n                    {{$t('message.chapter')}}\n                </span>\n                <span\n                    v-if=\"publication_date && !this.importContent && !this.remoteContent\"\n                    :class=\"{\n                        'unpublished-info': !isPublished,\n                        'published-info': isPublished\n                    }\"\n                    >| {{$t('message.visibleFrom')}}: {{ publication_date_readable }}</span\n                >\n                <span\n                    v-if=\"withdraw_date && !this.importContent && !this.remoteContent\"\n                    :class=\"{\n                        'unpublished-info': !isPublished,\n                        'published-info': isPublished\n                    }\"\n                >\n                    | {{$t('message.invisibleFrom')}}: {{ withdraw_date_readable }}</span\n                >\n            </p>\n        </div>\n        <ActionMenuItem\n            v-if=\"!this.importContent && !this.remoteContent\"\n            :buttons=\"['edit', 'remove', 'groups', 'users', 'add-child']\"\n            :element=\"this.element\"\n            @edit=\"editElement\"\n            @remove=\"removeElement\"\n            @add-child=\"addChild\"\n            @set-users=\"setUserApproval\"\n            @set-groups=\"setGroupApproval\"\n            :class=\"{ unfolded: unfolded }\"\n        />\n        <draggable\n            tag=\"ul\"\n            v-if=\"unfolded\"\n            :list=\"subchapters\"\n            :group=\"draggableGroup\"\n            v-bind=\"dragOptions\"\n            class=\"subchapter-list\"\n            :class=\"{ 'subchapter-list-import': importContent }\"\n            ghost-class=\"ghost\"\n            handle=\".subchapter-handle\"\n            @sort=\"sortSubchapters\"\n        >\n            <SubchapterItem\n                v-for=\"elementChild in subchapters\"\n                :key=\"elementChild.id\"\n                :element=\"elementChild\"\n                :importContent=\"importContent\"\n                :remoteContent=\"remoteContent\"\n                :storeLock=\"storeLock\"\n                @listUpdate=\"updateList\"\n                @remove-subchapter=\"removeSubchapter\"\n                @isRemote=\"isRemoteAction\"\n                @isImport=\"isImportAction\"\n            />\n            <p v-if=\"subchapters.length == 0\">\n                {{$t('message.emptyChapter')}}.\n                <span v-if=\"!importContent\">{{$t('message.emptyChapterInfo')}}.</span>\n            </p>\n        </draggable>\n    </li>\n</template>\n\n<script>\nimport SubchapterItem from './SubchapterItem.vue';\nimport ActionMenuItem from './ActionMenuItem.vue';\nimport blockManagerHelperMixin from './../mixins/blockManagerHelperMixin.js';\nimport draggable from 'vuedraggable';\nexport default {\n    name: 'ChapterItem',\n    mixins: [blockManagerHelperMixin],\n    props: {\n        element: Object,\n        importContent: Boolean,\n        remoteContent: Boolean,\n        storeLock: Boolean\n    },\n    data() {\n        return {\n            id: this.element.id,\n            publication_date: this.element.publication_date,\n            publication_date_readable: this.getReadableDate(this.element.publication_date),\n            withdraw_date: this.element.withdraw_date,\n            withdraw_date_readable: this.getReadableDate(this.element.withdraw_date),\n            isPublished: this.element.isPublished,\n            title: this.element.title,\n            shortTitle: this.cutTitle(this.element.title, 30),\n            unfolded: false,\n            subchapters: this.element.children,\n            subchapterList: [],\n            draggableGroup: { name: 'subchapters' }\n        };\n    },\n    components: {\n        SubchapterItem,\n        ActionMenuItem,\n        draggable\n    },\n    created() {\n        if (this.subchapters == null) {\n            this.subchapters = [];\n        }\n        if (this.importContent) {\n            this.draggableGroup = { name: 'subchapters', pull: 'clone', put: false };\n        }\n    },\n    watch: {\n        element: function() {\n            if (this.element.children == null) {\n                this.subchapters = [];\n            } else {\n                this.subchapters = this.element.children;\n            }\n        }\n    },\n    methods: {\n        sortSubchapters() {\n            let view = this;\n            let args = {};\n            let subchapterList = [];\n            let list = [];\n            let hasChildren = false;\n            this.subchapters.forEach(element => {\n                if (element.isRemote) {\n                    list.push('remote_' + element.id);\n                    view.isRemoteAction();\n                    if (element.children != null) {\n                        hasChildren = true;\n                        view.buildChildrenList(element, 'remote_');\n                    }\n                } else if (element.isImport) {\n                    list.push('import_' + element.id);\n                    view.isImportAction();\n                    if (element.children != null) {\n                        hasChildren = true;\n                        view.buildChildrenList(element, 'import_');\n                    }\n                } else {\n                    list.push(element.id);\n                }\n            });\n            subchapterList[this.id] = list;\n            args.list = subchapterList;\n            args.hasChildren = hasChildren;\n            args.type = 'subchapter';\n            this.$emit('listUpdate', args);\n        },\n        buildChildrenList(element, type) {\n            let view = this;\n            let list = [];\n            let updateList = [];\n            let args = {};\n            let hasChildren = false;\n            element.children.forEach(child => {\n                list.push(type + child.id);\n                if (child.children != null) {\n                    hasChildren = true;\n                    view.buildChildrenList(child, type);\n                }\n            });\n            updateList[type + element.id] = list;\n            args.list = updateList;\n            args.hasChildren = hasChildren;\n            if (element.type.toLowerCase() == 'section') {\n                args.type = 'block';\n                this.$emit('listUpdate', args);\n            } else {\n                args.type = element.children[0].type.toLowerCase();\n                this.$emit('listUpdate', args);\n            }\n        },\n        isRemoteAction() {\n            this.$emit('isRemote');\n        },\n        isImportAction() {\n            this.$emit('isImport');\n        },\n        updateList(args) {\n            this.$emit('listUpdate', args);\n        },\n        removeElement() {\n            this.$emit('remove-chapter', this.element);\n        },\n        editElement(data) {\n            this.title = data.title;\n            this.shortTitle = this.cutTitle(data.title);\n            this.publication_date = data.publication_date * 1000;\n            this.publication_date_readable = data.publication_date_readable;\n            this.withdraw_date = data.withdraw_date * 1000;\n            this.withdraw_date_readable = data.withdraw_date_readable;\n            this.isPublished = data.isPublished;\n        },\n        addChild(data) {\n            this.subchapters.push(data);\n        },\n        removeSubchapter(data) {\n            let subchapters = [];\n            this.subchapters.forEach(element => {\n                if (element.id != data.id) {\n                    subchapters.push(element);\n                }\n            });\n            this.subchapters = subchapters;\n        },\n        setUserApproval(data) {\n            console.log(data);\n        },\n        setGroupApproval(data) {\n            console.log(data);\n        },\n        toggleContent() {\n            this.unfolded = !this.unfolded;\n        }\n    },\n    computed: {\n        dragOptions() {\n            if (this.importContent) {\n                return {\n                    animation: 200,\n                    disabled: this.storeLock,\n                    sort: false,\n                    ghostClass: 'ghost'\n                };\n            } else {\n                return {\n                    animation: 200,\n                    disabled: this.storeLock,\n                    ghostClass: 'ghost'\n                };\n            }\n        }\n    }\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChapterItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChapterItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChapterItem.vue?vue&type=template&id=794e16ce&\"\nimport script from \"./ChapterItem.vue?vue&type=script&lang=js&\"\nexport * from \"./ChapterItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"semester-item\"},[_c('p',{staticClass:\"semester-description\",class:{ unfolded: _vm.unfolded },on:{\"click\":_vm.toggleList}},[_vm._v(\"\\n        \"+_vm._s(_vm.semester_name)+\"\\n    \")]),(_vm.unfolded)?_c('ul',{staticClass:\"course-list\"},_vm._l((_vm.courses),function(course){return _c('CourseItem',{key:course.id,attrs:{\"course\":course},on:{\"course-selected\":_vm.courseSelected}})}),1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"course-item\"},[_c('button',{staticClass:\"blockmanager-course-item\",attrs:{\"data-remote_cid\":_vm.course.id,\"data-remote_name\":_vm.course.name},on:{\"click\":function($event){return _vm.$emit('course-selected', {\n                remoteName: _vm.course.name,\n                remoteId: _vm.course.id\n            })}}},[_vm._v(\"\\n        \"+_vm._s(_vm.course.name)+\"\\n    \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <li class=\"course-item\">\n        <button\n            class=\"blockmanager-course-item\"\n            :data-remote_cid=\"course.id\"\n            :data-remote_name=\"course.name\"\n            @click=\"\n                $emit('course-selected', {\n                    remoteName: course.name,\n                    remoteId: course.id\n                })\n            \"\n        >\n            {{ course.name }}\n        </button>\n    </li>\n</template>\n\n<script>\nexport default {\n    name: 'CourseItem',\n    data() {\n        return {};\n    },\n    components: {},\n    props: {\n        course: Object\n    },\n    methods: {}\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CourseItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CourseItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CourseItem.vue?vue&type=template&id=991941d8&scoped=true&\"\nimport script from \"./CourseItem.vue?vue&type=script&lang=js&\"\nexport * from \"./CourseItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"991941d8\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <li class=\"semester-item\">\n        <p class=\"semester-description\" :class=\"{ unfolded: unfolded }\" @click=\"toggleList\">\n            {{ semester_name }}\n        </p>\n        <ul v-if=\"unfolded\" class=\"course-list\">\n            <CourseItem v-for=\"course in courses\" :key=\"course.id\" :course=\"course\" @course-selected=\"courseSelected\" />\n        </ul>\n    </li>\n</template>\n\n<script>\nimport CourseItem from './CourseItem.vue';\nexport default {\n    name: 'SemesterItem',\n    components: {\n        CourseItem\n    },\n    props: {\n        courses: Array,\n        semester_name: String\n    },\n    data() {\n        return {\n            unfolded: false\n        };\n    },\n    methods: {\n        courseSelected(event) {\n            this.$emit('course-selected', event);\n        },\n        toggleList() {\n            this.unfolded = !this.unfolded;\n        }\n    }\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SemesterItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SemesterItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SemesterItem.vue?vue&type=template&id=62099320&scoped=true&\"\nimport script from \"./SemesterItem.vue?vue&type=script&lang=js&\"\nexport * from \"./SemesterItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"62099320\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <div id=\"cw-blockmanager-content\">\n        <div class=\"cw-blockmanager-wrapper\">\n            <div class=\"cw-blockmanager-title\">\n                <p>{{ this.courseware.title }}</p>\n                <div class=\"cw-blockmanager-title-loading\">\n                    <spring-spinner :animation-duration=\"1000\" :size=\"30\" :color=\"'#28497c'\" v-if=\"storeLock\" />\n                </div>\n                <ActionMenuItem :buttons=\"['add-child']\" :element=\"this.courseware\" @add-child=\"addChild\" />\n            </div>\n            <draggable\n                tag=\"ul\"\n                :list=\"chapters\"\n                :group=\"{ name: 'chapters' }\"\n                class=\"chapter-list\"\n                ghost-class=\"ghost\"\n                handle=\".chapter-handle\"\n                @sort=\"sortChapters\"\n                v-bind=\"storeLock ? { disabled: true } : { disabled: false, animation: 200 }\"\n            >\n                <ChapterItem\n                    v-for=\"element in this.chapters\"\n                    :key=\"element.id\"\n                    :element=\"element\"\n                    :importContent=\"false\"\n                    :remoteContent=\"false\"\n                    :storeLock=\"storeLock\"\n                    @listUpdate=\"updateList\"\n                    @remove-chapter=\"removeChapter\"\n                    @isRemote=\"isRemoteAction\"\n                    @isImport=\"isImportAction\"\n                />\n            </draggable>\n        </div>\n        <div id=\"cw-action-wrapper\" class=\"cw-blockmanager-wrapper\">\n            <div id=\"cw-import-title\" class=\"cw-blockmanager-title\">\n                <p>{{ actionTitle }}</p>\n            </div>\n            <div class=\"messagebox messagebox_error\" v-if=\"fileError\">\n                Das Archiv enthält keine Coursewaredaten\n            </div>\n            <div v-if=\"showRemoteCourseware && !remoteCourseware && !loading\" id=\"user-course-list\">\n                <ul class=\"semester-list\">\n                    <SemesterItem\n                        v-for=\"(courses, semester_name) in this.remoteCourses\"\n                        :key=\"semester_name\"\n                        :courses=\"courses\"\n                        :semester_name=\"semester_name\"\n                        @course-selected=\"getRemoteCourse\"\n                    />\n                </ul>\n            </div>\n            <div v-if=\"showRemoteCourseware && remoteCourseware\" class=\"cw-remote-courseware\">\n                <draggable\n                    tag=\"ul\"\n                    :list=\"this.remoteCourseware.children\"\n                    :group=\"{ name: 'chapters', pull: 'clone', put: false }\"\n                    class=\"chapter-list chapter-list-import\"\n                    ghost-class=\"ghost\"\n                    handle=\".chapter-handle\"\n                    v-bind=\"storeLock ? { disabled: true } : { disabled: false, animation: 200, sort: false }\"\n                    @clone=\"cloning\"\n                >\n                    <ChapterItem\n                        v-for=\"remote_chapter in this.remoteCourseware.children\"\n                        :key=\"remote_chapter.id\"\n                        :element=\"remote_chapter\"\n                        :importContent=\"true\"\n                        :remoteContent=\"true\"\n                        :storeLock=\"storeLock\"\n                    />\n                </draggable>\n            </div>\n            <div v-if=\"showImportCourseware && importCourseware\" id=\"cw-import-lists\">\n                <draggable\n                    tag=\"ul\"\n                    :list=\"this.importCourseware.chapters\"\n                    :group=\"{ name: 'chapters', pull: 'clone', put: false }\"\n                    class=\"chapter-list chapter-list-import\"\n                    ghost-class=\"ghost\"\n                    handle=\".chapter-handle\"\n                    v-bind=\"storeLock ? { disabled: true } : { disabled: false, animation: 200, sort: false }\"\n                >\n                    <ChapterItem\n                        v-for=\"import_chapter in this.importCourseware.chapters\"\n                        :key=\"import_chapter.id\"\n                        :element=\"import_chapter\"\n                        :importContent=\"true\"\n                        :remoteContent=\"false\"\n                        :storeLock=\"storeLock\"\n                    />\n                </draggable>\n            </div>\n            <ul v-if=\"!showRemoteCourseware && !showImportCourseware\" id=\"cw-action-selection\">\n                <li>\n                    <label\n                        for=\"cw-file-upload-import\"\n                        id=\"cw-file-upload-import-label\"\n                        class=\"cw-action-menu-button\"\n                        :title=\"$t('message.importFromArchiveExplain')\"\n                    >\n                        <input\n                            type=\"file\"\n                            name=\"cw-file-upload-import\"\n                            class=\"cw-file-upload-import\"\n                            id=\"cw-file-upload-import\"\n                            accept=\".zip\"\n                            @change=\"setImport\"\n                        />\n                        <p>{{$t('message.importFromArchiveButton')}}</p>\n                    </label>\n                </li>\n                <li>\n                    <div\n                        id=\"cw-import-from-course\"\n                        class=\"cw-action-menu-button\"\n                        :title=\"$t('message.importFromCourseExplain')\"\n                        @click=\"importFromCourse\"\n                    >\n                        <p>{{ courseImportText }}</p>\n                    </div>\n                </li>\n            </ul>\n            <div v-if=\"(showRemoteCourseware || showImportCourseware) && loading\">\n                <spring-spinner :animation-duration=\"3000\" :size=\"65\" :color=\"'#28497c'\" class=\"cw-action-loading\" />\n            </div>\n            <button\n                v-if=\"(showRemoteCourseware || showImportCourseware) && !loading\"\n                class=\"button\"\n                id=\"cw-reset-action-menu\"\n                @click=\"resetActionMenu\"\n            >\n                {{$t('message.tasksBackButton')}}\n            </button>\n            <div style=\"clear: both;\"></div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport ChapterItem from './components/ChapterItem.vue';\nimport SemesterItem from './components/SemesterItem.vue';\nimport ActionMenuItem from './components/ActionMenuItem.vue';\nimport blockManagerHelperMixin from './mixins/blockManagerHelperMixin.js';\n\nimport { SpringSpinner } from 'epic-spinners';\nimport axios from 'axios';\nimport draggable from 'vuedraggable';\nexport default {\n    name: 'BlockManager',\n    mixins: [blockManagerHelperMixin],\n    components: {\n        ChapterItem,\n        SemesterItem,\n        draggable,\n        ActionMenuItem,\n        SpringSpinner\n    },\n    data() {\n        return {\n            courseware: {},\n            remoteCourses: {},\n            remoteCourseware: null,\n            importCourseware: null,\n            showRemoteCourseware: false,\n            showImportCourseware: false,\n            chapters: {},\n            chapterList: [],\n            subchapterList: {},\n            sectionList: {},\n            blockList: {},\n            actionTitle: this.$i18n.t(\"message.actions\"),\n            courseImportText: this.$i18n.t(\"message.importFromCourse\"),\n            remoteData: false,\n            importData: false,\n            importXML: '',\n            importZIP: '',\n            blockMap: null,\n            fileError: false,\n            loading: false,\n            storeLock: false\n        };\n    },\n    created() {\n        this.courseware = JSON.parse(COURSEWARE.data.courseware);\n        this.remoteCourses = JSON.parse(COURSEWARE.data.remote_courses);\n        this.blockMap = JSON.parse(COURSEWARE.data.block_map);\n        \n    },\n    mounted() {},\n    watch: {\n        courseware: function() {\n            this.chapters = this.courseware.children;\n        }\n    },\n    methods: {\n        sortChapters() {\n            let view = this;\n            let hasChildren = false;\n            this.cleanLists();\n            this.chapters.forEach(element => {\n                if (element.isRemote) {\n                    view.chapterList.push('remote_' + element.id);\n                    view.isRemoteAction();\n                    if (element.children != null) {\n                        hasChildren = true;\n                        view.buildChildrenList(element, 'remote_');\n                    }\n                } else if (element.isImport) {\n                    view.chapterList.push('import_' + element.id);\n                    view.isImportAction();\n                    if (element.children != null) {\n                        hasChildren = true;\n                        view.buildChildrenList(element, 'import_');\n                    }\n                } else {\n                    view.chapterList.push(element.id);\n                }\n            });\n            if (!hasChildren) {\n                this.storeChanges();\n            }\n        },\n        fillChapterList() {\n            this.chapters.forEach(element => {\n                this.chapterList.push(element.id);\n            });\n        },\n        buildChildrenList(element, type) {\n            let view = this;\n            let list = [];\n            let hasChildren = false;\n            element.children.forEach(child => {\n                list.push(type + child.id);\n                if (child.children != null) {\n                    hasChildren = true;\n                    view.buildChildrenList(child, type);\n                }\n            });\n            if (element.type.toLowerCase() == 'section') {\n                this.blockList[type + element.id] = list;\n            } else {\n                this[element.children[0].type.toLowerCase() + 'List'][type + element.id] = list;\n            }\n            if (!hasChildren) {\n                this.storeChanges();\n            }\n        },\n        isRemoteAction() {\n            this.remoteData = true;\n            this.importData = true;\n        },\n        isImportAction() {\n            this.remoteData = false;\n            this.importData = true;\n        },\n        updateList(args) {\n            let list = args.list;\n            let key = Object.keys(list)[0];\n            this[args.type + 'List'][key] = list[key];\n\n            if (!args.hasChildren) {\n                this.fillChapterList();\n                this.storeChanges();\n            }\n        },\n        addChild(data) {\n            this.chapters.push(data);\n        },\n        removeChapter(data) {\n            let chapters = [];\n            this.chapters.forEach(element => {\n                if (element.id != data.id) {\n                    chapters.push(element);\n                }\n            });\n            this.chapters = chapters;\n        },\n        importFromCourse() {\n            this.actionTitle = this.courseImportText;\n            this.showRemoteCourseware = true;\n        },\n        resetActionMenu() {\n            this.actionTitle = this.$i18n.t(\"message.actions\");\n            this.fileError = false;\n            this.remoteCourseware = null;\n            this.importCourseware = null;\n            this.showRemoteCourseware = false;\n            this.showImportCourseware = false;\n        },\n        storeChanges() {\n            if (this.storeLock) {\n                console.log('storeLock');\n                return;\n            }\n            this.storeLock = true;\n            let view = this;\n            let promises = [];\n            let fileData = {};\n            if (view.importData && !view.remoteData) {\n                let file = this.importZIP;\n                let filePromise = new Promise(resolve => {\n                    let reader = new FileReader();\n                    reader.readAsDataURL(file);\n                    reader.onloadend = function() {\n                        fileData.file = reader.result;\n                        fileData.name = file.name;\n                        fileData.size = file.size;\n                        fileData.type = file.type;\n                        resolve(reader.result);\n                    };\n                });\n                promises.push(filePromise);\n            }\n            Promise.all(promises).then(function() {\n                axios\n                    .post('store_changes_vue', {\n                        cid: COURSEWARE.config.cid,\n                        import: view.importData,\n                        remote: view.remoteData,\n                        importXML: view.importXML,\n                        chapterList: JSON.stringify(view.chapterList),\n                        subchapterList: JSON.stringify(view.subchapterList),\n                        sectionList: JSON.stringify(view.sectionList),\n                        blockList: JSON.stringify(view.blockList),\n                        fileData: fileData\n                    })\n                    .then(response => {\n                        view.importData = false;\n                        view.remoteData = false;\n                        view.cleanLists();\n                        view.courseware = JSON.parse(response.data.courseware);\n                        view.storeLock = false;\n                    })\n                    .catch(function(error) {\n                        if (error.response) {\n                            // The request was made and the server responded with a status code\n                            // that falls out of the range of 2xx\n                            console.log(error.response.data);\n                            console.log(error.response.status);\n                            console.log(error.response.headers);\n                        } else if (error.request) {\n                            // The request was made but no response was received\n                            // `error.request` is an instance of XMLHttpRequest in the browser and an instance of\n                            // http.ClientRequest in node.js\n                            console.log(error.request);\n                        } else {\n                            // Something happened in setting up the request that triggered an Error\n                            console.log('Error', error.message);\n                        }\n                        console.log(error.config);\n                    });\n            });\n        },\n        cleanLists() {\n            this.chapterList = [];\n            this.subchapterList = {};\n            this.sectionList = {};\n            this.blockList = {};\n        },\n        getRemoteCourse(event) {\n            this.loading = true;\n            let view = this;\n            axios\n                .get('get_remote_course', {\n                    params: {\n                        cid: COURSEWARE.config.cid,\n                        remote_cid: event.remoteId\n                    }\n                })\n                .then(response => {\n                    view.remoteCourseware = response.data;\n                })\n                .then(function() {\n                    view.actionTitle = 'Import: ' + event.remoteName;\n                    view.showRemoteCourseware = true;\n                    view.loading = false;\n                })\n                .catch(error => {\n                    console.log('there was an error: ' + error.response);\n                });\n        },\n        setImport() {\n            this.loading = true;\n            let view = this;\n            view.fileError = false;\n            this.importZIP = event.target.files[0];\n\n            this.showImportCourseware = true;\n            ZipLoader.unzip(this.importZIP)\n                .then(function(unziped) {\n                    var text, parser, xmlDoc;\n                    if (unziped.files['data.xml'] == undefined) {\n                        view.fileError = true;\n                        return;\n                    }\n\n                    text = unziped.extractAsText('data.xml');\n                    parser = new DOMParser();\n                    xmlDoc = parser.parseFromString(text, 'text/xml');\n\n                    var chapter_counter = 0,\n                        subchapter_counter = 0,\n                        section_counter = 0;\n                    view.importCourseware = [];\n                    view.importCourseware['chapters'] = [];\n                    $.each(xmlDoc.documentElement.children, function(key, node) {\n                        if (node.nodeName == 'chapter') {\n                            chapter_counter++;\n                            node.setAttribute('temp-id', chapter_counter);\n                            let chapterNum = view.importCourseware['chapters'].push({\n                                title: node.getAttribute('title'),\n                                id: chapter_counter,\n                                publication_date: false,\n                                withdraw_date: false,\n                                isPublished: true,\n                                isImport: true,\n                                type: node.nodeName\n                            });\n                            let current_chapter = view.importCourseware['chapters'][chapterNum - 1];\n\n                            if (typeof current_chapter === 'undefined') {\n                                return true; //skip to next\n                            }\n                            current_chapter.children = [];\n                            $.each(node.children, function(key, node) {\n                                if (node.nodeName == 'subchapter') {\n                                    subchapter_counter++;\n                                    node.setAttribute('temp-id', subchapter_counter);\n                                    let subchapterNum = current_chapter.children.push({\n                                        title: node.getAttribute('title'),\n                                        id: subchapter_counter,\n                                        publication_date: false,\n                                        withdraw_date: false,\n                                        isPublished: true,\n                                        isImport: true,\n                                        type: node.nodeName\n                                    });\n                                    let current_subchapter = current_chapter.children[subchapterNum - 1];\n\n                                    if (typeof current_subchapter === 'undefined') {\n                                        return true; //skip to next\n                                    }\n                                    current_subchapter.children = [];\n                                    $.each(node.children, function(key, node) {\n                                        if (node.nodeName == 'section') {\n                                            section_counter++;\n                                            node.setAttribute('temp-id', section_counter);\n\n                                            let sectionNum = current_subchapter.children.push({\n                                                title: node.getAttribute('title'),\n                                                id: section_counter,\n                                                isPublished: true,\n                                                isImport: true,\n                                                type: node.nodeName\n                                            });\n                                            let current_section = current_subchapter.children[sectionNum - 1];\n                                            if (typeof current_section === 'undefined') {\n                                                return true; //skip to next\n                                            }\n                                            current_section.children = [];\n                                            $.each(node.children, function(key, node) {\n                                                if (node.nodeName == 'block') {\n                                                    //build block\n                                                    current_section.children.push({\n                                                        type: node.getAttribute('type'),\n                                                        id: node.getAttribute('uuid'),\n                                                        isPublished: true,\n                                                        isImport: true,\n                                                        preview: view.getContent(node),\n                                                        readable_name: view.blockMap[node.getAttribute('type')]\n                                                    });\n                                                }\n                                            });\n                                            if (current_section.children.length == 0) {\n                                                current_section.children = null;\n                                            }\n                                        }\n                                    });\n                                    if (current_subchapter.children.length == 0) {\n                                        current_subchapter.children = null;\n                                    }\n                                }\n                            });\n                            if (current_chapter.children.length == 0) {\n                                current_chapter.children = null;\n                            }\n                        }\n                    });\n                    let oSerializer = new XMLSerializer();\n                    view.importXML = oSerializer.serializeToString(xmlDoc);\n                })\n                .then(function() {\n                    view.loading = false;\n                    if (!view.fileError) {\n                        view.showImportCourseware = true;\n                    }\n                    view.actionTitle =\n                        'Import: ' + view.importZIP.name + ' (' + view.calcFileSize(view.importZIP.size) + ')';\n                });\n        },\n        calcFileSize(size) {\n            if ((size / 1048576).toFixed(0) != 0) {\n                return (size / 1048576).toFixed(1) + ' MB';\n            } else {\n                return (size / 1024).toFixed(1) + ' kB';\n            }\n        }\n    }\n};\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockManager.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockManager.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BlockManager.vue?vue&type=template&id=715f1670&\"\nimport script from \"./BlockManager.vue?vue&type=script&lang=js&\"\nexport * from \"./BlockManager.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport VueI18n from \"vue-i18n\";\nVue.use(VueI18n);\nconst messages = {\n  en_GB: {\n    message: {\n      tasksBackButton: \"back to the selection\",\n      importFromCourse: \"Import from Course\",\n      importFromCourseExplain:\n        \"Import content from another event where you are a lecturer\",\n      importFromArchiveButton: \"Upload import archive\",\n      importFromArchiveExplain:\n        \"Upload a file that you have previously exported from a courseware\",\n      visibleFrom: \"visible from\",\n      invisibleFrom: \"invisible from\",\n      chapter: \"Chapter\",\n      subchapter: \"Subchapter\",\n      section: \"Section\",\n      block: \"Block\",\n      emptyChapter: \"This Chapter is empty\",\n      emptyChapterInfo: \"You can drop a subchapter here or add a new one\",\n      emptySubchapter: \"This Subchapter is empty\",\n      emptySubchapterInfo: \"You can drop a section here or add a new one\",\n      emptySection: \"This Section is empty\",\n      emptySectionInfo: \"You can add a Block in Courseware or drop one here\",\n      actions: \"Actions\",\n      addSubelement: \"Add subelement\",\n      editElement: \"Edit element\",\n      deleteElement: \"Delete element\",\n      setStudentPermissions: \"Set write permissions for students\",\n      setGroupsPermissions: \"Set write permissions for groups\",\n      editDialogTitle: \"Edit {0}\",\n      deleteDialogTitle: \"Delete {0}\",\n      addDialogTitle: \"Add Subelement\",\n      ButtonLabelSave: \"save\",\n      ButtonLabelClose: \"close\",\n      ButtonLabelYes: \"yes\",\n      ButtonLabelNo: \"no\",\n      title: \"Title\",\n      deleteDialogQuestionBlock: \"Do you really want to delete this item\",\n      deleteDialogQuestionElement:\n        \"Are you sure you want to delete this element and all its underlying elements\"\n    }\n  },\n  de_DE: {\n    message: {\n      tasksBackButton: \"zurück zur Auswahl\",\n      importFromCourse: \"Aus Veranstaltung importieren\",\n      importFromCourseExplain:\n        \"Importieren Sie Inhalte aus einer anderen Veranstaltung in der Sie Dozent sind\",\n      importFromArchiveButton: \"Import-Archiv hochladen\",\n      importFromArchiveExplain:\n        \"Laden Sie eine Datei hoch, die Sie zuvor aus einer Courseware exportiert haben\",\n      visibleFrom: \"sichtbar ab\",\n      invisibleFrom: \"unsichtbar ab\",\n      chapter: \"Kapitel\",\n      subchapter: \"Unterkapitel\",\n      section: \"Abschnitt\",\n      block: \"Block\",\n      emptyChapter: \"Dieses Kapitel ist leer\",\n      emptyChapterInfo:\n        \"Sie können hier ein Unterkapitel ablegen oder ein neues hinzufügen\",\n      emptySubchapter: \"Dieses Unterkapitel ist leer\",\n      emptySubchapterInfo:\n        \"Sie können hier einen Abschnitt ablegen oder einen neuen hinzufügen\",\n      emptySection: \"Dieser Abschnitt ist leer\",\n      emptySectionInfo:\n        \"Sie können einen Block in Courseware hinzufügen oder hier einen ablegen\",\n      actions: \"Aktionen\",\n      addSubelement: \"Unterelement hinzufügen\",\n      editElement: \"Element bearbeiten\",\n      deleteElement: \"Element löschen\",\n      setStudentPermissions: \"Schreibrechte für Studierenden festlegen\",\n      setGroupsPermissions: \"Schreibrechte für Gruppen festlegen\",\n      editDialogTitle: \"{0} bearbeiten\",\n      deleteDialogTitle: \"{0} löschen\",\n      addDialogTitle: \"Unterelement hinzufügen\",\n      ButtonLabelSave: \"Speichern\",\n      ButtonLabelClose: \"Abbrechen\",\n      ButtonLabelYes: \"Ja\",\n      ButtonLabelNo: \"Nein\",\n      title: \"Titel\",\n      deleteDialogQuestionBlock: \"Möchten Sie dieses Element wirklich löschen\",\n      deleteDialogQuestionElement:\n        \"Möchten Sie dieses Element und alle darunter liegenden Elemente wirklich löschen\"\n    }\n  }\n};\n\n// Create VueI18n instance with options\nconst i18n = new VueI18n({\n  locale: COURSEWARE.data.lang, // set locale\n  messages // set locale messages\n});\n\nexport default i18n;\n","import Vue from \"vue\";\nimport BlockManager from \"./BlockManager.vue\";\nimport i18n from \"./i18n\";\n\nVue.config.productionTip = false;\n\nnew Vue({\n  el: \"#block_mananger_content\",\n  i18n,\n  render: h => h(BlockManager)\n});\n"],"sourceRoot":""}