{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/BlockManager.vue?b6e8","webpack:///./src/components/ChapterItem.vue?21b8","webpack:///./src/components/SubchapterItem.vue?8519","webpack:///./src/components/SectionItem.vue?d0d3","webpack:///./src/components/BlockItem.vue?f967","webpack:///src/components/BlockItem.vue","webpack:///./src/components/BlockItem.vue?0f57","webpack:///./src/components/BlockItem.vue","webpack:///src/components/SectionItem.vue","webpack:///./src/components/SectionItem.vue?d982","webpack:///./src/components/SectionItem.vue","webpack:///src/components/SubchapterItem.vue","webpack:///./src/components/SubchapterItem.vue?4549","webpack:///./src/components/SubchapterItem.vue","webpack:///src/components/ChapterItem.vue","webpack:///./src/components/ChapterItem.vue?1279","webpack:///./src/components/ChapterItem.vue","webpack:///./src/components/SemesterItem.vue?86c9","webpack:///./src/components/CourseItem.vue?4c1e","webpack:///src/components/CourseItem.vue","webpack:///./src/components/CourseItem.vue?5dc9","webpack:///./src/components/CourseItem.vue","webpack:///src/components/SemesterItem.vue","webpack:///./src/components/SemesterItem.vue?adf8","webpack:///./src/components/SemesterItem.vue","webpack:///./src/assets/NodeContentHelper.js","webpack:///src/BlockManager.vue","webpack:///./src/BlockManager.vue?5140","webpack:///./src/BlockManager.vue","webpack:///./src/index.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","installedChunks","push","Object","prototype","hasOwnProperty","call","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","index","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","BlockManagervue_type_template_id_2e9e0648_scoped_true_render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticClass","_v","_s","courseware","title","_l","chapter","importContent","importTitle","_e","courses","semester_name","on","course-selected","getRemoteCourse","remoteCourseware","remote_chapter","remoteContent","importCourseware","import_chapter","for","type","accept","change","setImport","click","importFromCourse","resetImport","staticStyle","clear","staticRenderFns","ChapterItemvue_type_template_id_15afe636_scoped_true_render","class","element_hidden","isPublished","chapter-item-import","chapter-item-remote","data-id","publication_date","withdraw_date","subchapter-list-import","subchapter","ChapterItemvue_type_template_id_15afe636_scoped_true_staticRenderFns","SubchapterItemvue_type_template_id_2e1f8b8e_scoped_true_render","subchapter-item-import","subchapter-item-remote","section-list-import","section","SubchapterItemvue_type_template_id_2e1f8b8e_scoped_true_staticRenderFns","SectionItemvue_type_template_id_a6e1ecb8_scoped_true_render","section-item-import","section-item-remote","block-list-import","block","SectionItemvue_type_template_id_a6e1ecb8_scoped_true_staticRenderFns","BlockItemvue_type_template_id_3d3278e4_scoped_true_render","block-item-import","block-item-remote","readable_name","block-preview-import","domProps","innerHTML","preview","BlockItemvue_type_template_id_3d3278e4_scoped_true_staticRenderFns","BlockItemvue_type_script_lang_js_","components","props","Boolean","created","components_BlockItemvue_type_script_lang_js_","component","componentNormalizer","BlockItem","SectionItemvue_type_script_lang_js_","components_SectionItemvue_type_script_lang_js_","SectionItem_component","SectionItem","SubchapterItemvue_type_script_lang_js_","components_SubchapterItemvue_type_script_lang_js_","SubchapterItem_component","SubchapterItem","ChapterItemvue_type_script_lang_js_","components_ChapterItemvue_type_script_lang_js_","ChapterItem_component","ChapterItem","SemesterItemvue_type_template_id_06db66f4_scoped_true_render","toggleList","course","courseSelected","SemesterItemvue_type_template_id_06db66f4_scoped_true_staticRenderFns","CourseItemvue_type_template_id_55eb924c_scoped_true_render","data-remote_cid","data-remote_name","$event","$emit","remoteName","remoteId","CourseItemvue_type_template_id_55eb924c_scoped_true_staticRenderFns","CourseItemvue_type_script_lang_js_","methods","components_CourseItemvue_type_script_lang_js_","CourseItem_component","CourseItem","SemesterItemvue_type_script_lang_js_","Array","String","event","$","target","siblings","toggle","hasClass","removeClass","addClass","components_SemesterItemvue_type_script_lang_js_","SemesterItem_component","SemesterItem","NodeContentHelper","getContent","node","json","getAttribute","JSON","parse","source","url","file_name","image_url","image_name","date","time","front_img_file_name","textContent","xml","parser","DOMParser","xmlDoc","parseFromString","firstElementChild","children","content","src","BlockManagervue_type_script_lang_js_","remoteCourses","isDragging","chapterList","subchapterList","sectionList","blockList","remoteData","importData","importMap","importXML","blockMap","fileError","COURSEWARE","remote_courses","block_map","mounted","startMouseListeners","createSortables","show","hide","find","mousedown","mousemove","mouseup","wasDragging","stopMouseListeners","unbind","view","sortable","connectWith","placeholder","start","ui","height","item","update","each","removeImportClasses","importSubchapters","storeChanges","disableSelection","$parent","parents","first","chapter_id","entry","importSections","subchapter_id","importBlocks","section_id","attr","promises","fileData","file","files","filePromise","Promise","resolve","reader","FileReader","readAsDataURL","onloadend","size","all","then","axios_default","a","post","cid","config","import","remote","stringify","response","fadeIn","delay","fadeOut","remote_map","remoteMap","changeRemoteIds","catch","error","console","log","remote_id","new_id","not","$item","classes","parent_id","$blocks","$sections","$subchapters","params","remote_cid","createSortablesForImport","beforeStop","parent","file0","css","ZipLoader","unzip","unziped","text","undefined","extractAsText","chapter_counter","subchapter_counter","section_counter","documentElement","nodeName","setAttribute","chapterNum","current_chapter","subchapterNum","current_subchapter","sectionNum","current_section","getNodeContent","oSerializer","XMLSerializer","serializeToString","calcFileSize","toFixed","src_BlockManagervue_type_script_lang_js_","BlockManager_component","BlockManager","Vue","productionTip","render","h","$mount"],"mappings":"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","file":"../../assets/vue/js/index.6f96b984.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"index\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"../../../plugins_packages/virtUOS/Courseware/views/block_manager/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"cw-blockmanager-content\"}},[_c('div',{staticClass:\"cw-blockmanager-wrapper\"},[_c('div',{staticClass:\"cw-blockmanager-title\"},[_c('p',[_vm._v(_vm._s(this.courseware.title))]),_c('span',{staticClass:\"cw-blockmanager-store-icon\",attrs:{\"title\":\"speichern\"}}),_c('span',{staticClass:\"cw-blockmanager-store-icon-error\"},[_vm._v(\"Fehler beim Speichern\")])]),_c('ul',{staticClass:\"chapter-list\"},_vm._l((this.courseware.children),function(chapter){return _c('ChapterItem',{key:chapter.id,attrs:{\"chapter\":chapter,\"importContent\":false}})}),1)]),_c('div',{staticClass:\"cw-blockmanager-wrapper\",attrs:{\"id\":\"cw-import-wrapper\"}},[_c('div',{staticClass:\"cw-blockmanager-title\",attrs:{\"id\":\"cw-import-title\"}},[_c('p',[_vm._v(_vm._s(_vm.importTitle))])]),(_vm.fileError)?_c('div',{staticClass:\"messagebox messagebox_error\"},[_vm._v(\"Das Archiv enthält keine Coursewaredaten\")]):_vm._e(),_c('div',{attrs:{\"id\":\"user-course-list\"}},[_c('ul',{staticClass:\"semester-list\"},_vm._l((this.remoteCourses),function(courses,semester_name){return _c('SemesterItem',{key:semester_name,attrs:{\"courses\":courses,\"semester_name\":semester_name},on:{\"course-selected\":_vm.getRemoteCourse}})}),1)]),(_vm.remoteCourseware)?_c('div',{staticClass:\"cw-remote-courseware\"},[_c('ul',{staticClass:\"chapter-list chapter-list-import\"},_vm._l((this.remoteCourseware.children),function(remote_chapter){return _c('ChapterItem',{key:remote_chapter.id,attrs:{\"chapter\":remote_chapter,\"importContent\":true,\"remoteContent\":true}})}),1)]):_vm._e(),(_vm.importCourseware)?_c('div',{attrs:{\"id\":\"cw-import-lists\"}},[_c('ul',{staticClass:\"chapter-list chapter-list-import\"},_vm._l((this.importCourseware.chapters),function(import_chapter){return _c('ChapterItem',{key:import_chapter.id,attrs:{\"chapter\":import_chapter,\"importContent\":true,\"remoteContent\":false}})}),1)]):_vm._e(),_c('ul',{attrs:{\"id\":\"cw-import-selection\"}},[_c('li',[_c('label',{attrs:{\"for\":\"cw-file-upload-import\",\"id\":\"cw-file-upload-import-label\",\"title\":\"Laden Sie eine Datei hoch, die Sie zuvor aus einer Courseware exportiert haben\"}},[_c('input',{staticClass:\"cw-file-upload-import\",attrs:{\"type\":\"file\",\"name\":\"cw-file-upload-import\",\"id\":\"cw-file-upload-import\",\"accept\":\".zip\"},on:{\"change\":_vm.setImport}}),_c('p',[_vm._v(\"Import-Archiv hochladen\")])])]),_c('li',[_c('div',{attrs:{\"id\":\"cw-import-from-course\",\"title\":\"Importieren Sie Inhalte aus einer anderen Veranstaltung in der Sie Dozent sind\"},on:{\"click\":_vm.importFromCourse}},[_c('p',[_vm._v(\"Aus Veranstaltung importieren\")])])])]),_c('button',{staticClass:\"button\",attrs:{\"id\":\"cw-import-menu-back\"},on:{\"click\":_vm.resetImport}},[_vm._v(\"zurück zur Auswahl\")]),_c('div',{staticStyle:{\"clear\":\"both\"}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"chapter-item\",class:{\n        element_hidden: !_vm.chapter.isPublished,\n        'chapter-item-import': _vm.importContent,\n        'chapter-item-remote': _vm.remoteContent\n    },attrs:{\"data-id\":_vm.id}},[_c('p',{staticClass:\"chapter-description\",class:{ element_hidden: !_vm.chapter.isPublished }},[_vm._v(\"\\n        \"+_vm._s(_vm.chapter.title)+\"\\n        \"),_c('span',{staticClass:\"header-info-wrapper\"},[_c('span',[_vm._v(\"\\n                Kapitel\\n            \")]),(_vm.chapter.publication_date)?_c('span',[_vm._v(\"| veröffentlichen: \"+_vm._s(_vm.chapter.publication_date))]):_vm._e(),(_vm.chapter.withdraw_date)?_c('span',[_vm._v(\" | widerrufen: \"+_vm._s(_vm.chapter.withdraw_date))]):_vm._e()])]),_c('ul',{staticClass:\"subchapter-list\",class:{ 'subchapter-list-import': _vm.importContent }},_vm._l((_vm.chapter.children),function(subchapter){return _c('SubchapterItem',{key:subchapter.id,attrs:{\"subchapter\":subchapter,\"importContent\":_vm.importContent,\"remoteContent\":_vm.remoteContent}})}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"subchapter-item\",class:{\n        element_hidden: !_vm.subchapter.isPublished,\n        'subchapter-item-import': _vm.importContent,\n        'subchapter-item-remote': _vm.remoteContent\n    },attrs:{\"data-id\":_vm.id}},[_c('p',{staticClass:\"subchapter-description\",class:{ element_hidden: !_vm.subchapter.isPublished }},[_vm._v(\"\\n        \"+_vm._s(_vm.subchapter.title)+\"\\n        \"),_c('span',{staticClass:\"header-info-wrapper\"},[_vm._v(\"\\n            Unterkapitel\\n            \"),(_vm.subchapter.publication_date)?_c('span',[_vm._v(\" | veröffentlichen: \"+_vm._s(_vm.subchapter.publication_date))]):_vm._e(),(_vm.subchapter.withdraw_date)?_c('span',[_vm._v(\" | widerrufen: \"+_vm._s(_vm.subchapter.withdraw_date))]):_vm._e()])]),_c('ul',{staticClass:\"section-list\",class:{ 'section-list-import': _vm.importContent }},_vm._l((_vm.subchapter.children),function(section){return _c('SectionItem',{key:section.id,attrs:{\"section\":section,\"importContent\":_vm.importContent,\"remoteContent\":_vm.remoteContent}})}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"section-item\",class:{\n        element_hidden: !_vm.section.isPublished,\n        'section-item-import': _vm.importContent,\n        'section-item-remote': _vm.remoteContent\n    },attrs:{\"data-id\":_vm.id}},[_c('p',{staticClass:\"section-description\",class:{ element_hidden: !_vm.section.isPublished }},[_vm._v(\"\\n        \"+_vm._s(_vm.section.title)+\"\\n        \"),_c('span',{staticClass:\"header-info-wrapper\"},[_vm._v(\"Abschnitt\")])]),_c('ul',{staticClass:\"block-list\",class:{ 'block-list-import': _vm.importContent }},_vm._l((_vm.section.children),function(block){return _c('BlockItem',{key:block.id,attrs:{\"block\":block,\"importContent\":_vm.importContent,\"remoteContent\":_vm.remoteContent}})}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"block-item\",class:{\n        element_hidden: !_vm.block.isPublished,\n        'block-item-import': _vm.importContent,\n        'block-item-remote': _vm.remoteContent\n    },attrs:{\"data-id\":_vm.id}},[_c('p',{staticClass:\"block-description\",class:{ element_hidden: !_vm.block.isPublished }},[_c('span',{class:['block-icon cw-block-icon-' + _vm.block.type]}),_vm._v(\"\\n        \"+_vm._s(_vm.block.readable_name)+\"\\n    \")]),_c('ul',{staticClass:\"block-preview\",class:{ 'block-preview-import': _vm.importContent }},[_c('li',{staticClass:\"block-content-preview\",domProps:{\"innerHTML\":_vm._s(_vm.preview)}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <li\n        class=\"block-item\"\n        :class=\"{\n            element_hidden: !block.isPublished,\n            'block-item-import': importContent,\n            'block-item-remote': remoteContent\n        }\"\n        :data-id=\"id\"\n    >\n        <p class=\"block-description\" v-bind:class=\"{ element_hidden: !block.isPublished }\">\n            <span :class=\"['block-icon cw-block-icon-' + block.type]\"></span>\n            {{ block.readable_name }}\n        </p>\n        <ul class=\"block-preview\" :class=\"{ 'block-preview-import': importContent }\">\n            <li class=\"block-content-preview\" v-html=\"preview\"></li>\n        </ul>\n    </li>\n</template>\n\n<script>\nexport default {\n    name: 'BlockItem',\n    data() {\n        return {\n            id: this.block.id,\n            preview: ''\n        };\n    },\n    components: {},\n    props: {\n        block: Object,\n        importContent: Boolean,\n        remoteContent: Boolean\n    },\n    created() {\n        this.preview = this.block.preview;\n        if (this.importContent && !this.remoteContent) {\n            this.id = 'import-' + this.id;\n        }\n        if (this.importContent && this.remoteContent) {\n            this.id = 'remote-' + this.id;\n        }\n    }\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BlockItem.vue?vue&type=template&id=3d3278e4&scoped=true&\"\nimport script from \"./BlockItem.vue?vue&type=script&lang=js&\"\nexport * from \"./BlockItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d3278e4\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <li\n        class=\"section-item\"\n        :class=\"{\n            element_hidden: !section.isPublished,\n            'section-item-import': importContent,\n            'section-item-remote': remoteContent\n        }\"\n        :data-id=\"id\"\n    >\n        <p class=\"section-description\" v-bind:class=\"{ element_hidden: !section.isPublished }\">\n            {{ section.title }}\n            <span class=\"header-info-wrapper\">Abschnitt</span>\n        </p>\n        <ul class=\"block-list\" :class=\"{ 'block-list-import': importContent }\">\n            <BlockItem\n                v-for=\"block in section.children\"\n                :key=\"block.id\"\n                :block=\"block\"\n                :importContent=\"importContent\"\n                :remoteContent=\"remoteContent\"\n            />\n        </ul>\n    </li>\n</template>\n\n<script>\nimport BlockItem from './BlockItem.vue';\nexport default {\n    name: 'SectionItem',\n    data() {\n        return {\n            id: this.section.id\n        };\n    },\n    components: {\n        BlockItem\n    },\n    props: {\n        section: Object,\n        importContent: Boolean,\n        remoteContent: Boolean\n    },\n    created() {\n        if (this.importContent && !this.remoteContent) {\n            this.id = 'import-' + this.id;\n        }\n        if (this.importContent && this.remoteContent) {\n            this.id = 'remote-' + this.id;\n        }\n    }\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SectionItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SectionItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SectionItem.vue?vue&type=template&id=a6e1ecb8&scoped=true&\"\nimport script from \"./SectionItem.vue?vue&type=script&lang=js&\"\nexport * from \"./SectionItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a6e1ecb8\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <li\n        class=\"subchapter-item\"\n        :class=\"{\n            element_hidden: !subchapter.isPublished,\n            'subchapter-item-import': importContent,\n            'subchapter-item-remote': remoteContent\n        }\"\n        :data-id=\"id\"\n    >\n        <p class=\"subchapter-description\" v-bind:class=\"{ element_hidden: !subchapter.isPublished }\">\n            {{ subchapter.title }}\n            <span class=\"header-info-wrapper\">\n                Unterkapitel\n                <span v-if=\"subchapter.publication_date\"> | veröffentlichen: {{ subchapter.publication_date }}</span>\n                <span v-if=\"subchapter.withdraw_date\"> | widerrufen: {{ subchapter.withdraw_date }}</span>\n            </span>\n        </p>\n        <ul class=\"section-list\" :class=\"{ 'section-list-import': importContent }\">\n            <SectionItem\n                v-for=\"section in subchapter.children\"\n                :key=\"section.id\"\n                :section=\"section\"\n                :importContent=\"importContent\"\n                :remoteContent=\"remoteContent\"\n            />\n        </ul>\n    </li>\n</template>\n\n<script>\nimport SectionItem from './SectionItem.vue';\nexport default {\n    name: 'SubchapterItem',\n    data() {\n        return {\n            id: this.subchapter.id\n        };\n    },\n    components: {\n        SectionItem\n    },\n    props: {\n        subchapter: Object,\n        importContent: Boolean,\n        remoteContent: Boolean\n    },\n    created() {\n        if (this.importContent && !this.remoteContent) {\n            this.id = 'import-' + this.id;\n        }\n        if (this.importContent && this.remoteContent) {\n            this.id = 'remote-' + this.id;\n        }\n    }\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubchapterItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SubchapterItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SubchapterItem.vue?vue&type=template&id=2e1f8b8e&scoped=true&\"\nimport script from \"./SubchapterItem.vue?vue&type=script&lang=js&\"\nexport * from \"./SubchapterItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e1f8b8e\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <li\n        class=\"chapter-item\"\n        :class=\"{\n            element_hidden: !chapter.isPublished,\n            'chapter-item-import': importContent,\n            'chapter-item-remote': remoteContent\n        }\"\n        :data-id=\"id\"\n    >\n        <p class=\"chapter-description\" v-bind:class=\"{ element_hidden: !chapter.isPublished }\">\n            {{ chapter.title }}\n            <span class=\"header-info-wrapper\">\n                <span>\n                    Kapitel\n                </span>\n                <span v-if=\"chapter.publication_date\">| veröffentlichen: {{ chapter.publication_date }}</span>\n                <span v-if=\"chapter.withdraw_date\"> | widerrufen: {{ chapter.withdraw_date }}</span>\n            </span>\n        </p>\n        <ul class=\"subchapter-list\" :class=\"{ 'subchapter-list-import': importContent }\">\n            <SubchapterItem\n                v-for=\"subchapter in chapter.children\"\n                :key=\"subchapter.id\"\n                :subchapter=\"subchapter\"\n                :importContent=\"importContent\"\n                :remoteContent=\"remoteContent\"\n            />\n        </ul>\n    </li>\n</template>\n\n<script>\nimport SubchapterItem from './SubchapterItem.vue';\nexport default {\n    name: 'ChapterItem',\n    data() {\n        return {\n            id: this.chapter.id\n        };\n    },\n    components: {\n        SubchapterItem\n    },\n    props: {\n        chapter: Object,\n        importContent: Boolean,\n        remoteContent: Boolean\n    },\n    created() {\n        if (this.importContent && !this.remoteContent) {\n            this.id = 'import-' + this.id;\n        }\n        if (this.importContent && this.remoteContent) {\n            this.id = 'remote-' + this.id;\n        }\n    }\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChapterItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChapterItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChapterItem.vue?vue&type=template&id=15afe636&scoped=true&\"\nimport script from \"./ChapterItem.vue?vue&type=script&lang=js&\"\nexport * from \"./ChapterItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"15afe636\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"semester-item\"},[_c('p',{staticClass:\"semester-description\",on:{\"click\":_vm.toggleList}},[_vm._v(_vm._s(_vm.semester_name))]),_c('ul',{staticClass:\"course-list\"},_vm._l((_vm.courses),function(course){return _c('CourseItem',{key:course.id,attrs:{\"course\":course},on:{\"course-selected\":_vm.courseSelected}})}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',{staticClass:\"course-item\"},[_c('button',{staticClass:\"blockmanager-course-item\",attrs:{\"data-remote_cid\":_vm.course.id,\"data-remote_name\":_vm.course.name},on:{\"click\":function($event){return _vm.$emit('course-selected', { remoteName: _vm.course.name, remoteId: _vm.course.id })}}},[_vm._v(\"\\n        \"+_vm._s(_vm.course.name)+\"\\n    \")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <li class=\"course-item\">\n        <button\n            class=\"blockmanager-course-item\"\n            :data-remote_cid=\"course.id\"\n            :data-remote_name=\"course.name\"\n            @click=\"$emit('course-selected', { remoteName: course.name, remoteId: course.id })\"\n        >\n            {{ course.name }}\n        </button>\n    </li>\n</template>\n\n<script>\nexport default {\n    name: 'CourseItem',\n    data() {\n        return {};\n    },\n    components: {},\n    props: {\n        course: Object\n    },\n    methods: {}\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CourseItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CourseItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CourseItem.vue?vue&type=template&id=55eb924c&scoped=true&\"\nimport script from \"./CourseItem.vue?vue&type=script&lang=js&\"\nexport * from \"./CourseItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"55eb924c\",\n  null\n  \n)\n\nexport default component.exports","<template>\n    <li class=\"semester-item\">\n        <p class=\"semester-description\" @click=\"toggleList\">{{ semester_name }}</p>\n        <ul class=\"course-list\">\n            <CourseItem v-for=\"course in courses\" :key=\"course.id\" :course=\"course\" @course-selected=\"courseSelected\" />\n        </ul>\n    </li>\n</template>\n\n<script>\nimport CourseItem from './CourseItem.vue';\nexport default {\n    name: 'SemesterItem',\n    components: {\n        CourseItem\n    },\n    props: {\n        courses: Array,\n        semester_name: String\n    },\n    methods: {\n        courseSelected(event) {\n            this.$emit('course-selected', event);\n        },\n        toggleList(event) {\n            $(event.target)\n                .siblings('ul')\n                .toggle();\n            if (!$(event.target).hasClass('unfolded')) {\n                $(event.target).addClass('unfolded');\n            } else {\n                $(event.target).removeClass('unfolded');\n            }\n        }\n    }\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SemesterItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SemesterItem.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SemesterItem.vue?vue&type=template&id=06db66f4&scoped=true&\"\nimport script from \"./SemesterItem.vue?vue&type=script&lang=js&\"\nexport * from \"./SemesterItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"06db66f4\",\n  null\n  \n)\n\nexport default component.exports","export default {\n    getContent(node) {\n        var json = {};\n        switch (node.getAttribute('type')) {\n            case 'AssortBlock':\n                return '';\n            case 'AudioBlock':\n                return node.getAttribute('audio:audio_file_name');\n            case 'AudioGalleryBlock':\n                return '';\n            case 'BeforeAfterBlock':\n                json = JSON.parse(node.getAttribute('beforeafter:ba_before'));\n                if (json.source == 'url') {\n                    return json.url;\n                } else {\n                    return json.file_name;\n                }\n            case 'BlubberBlock':\n                return '';\n            case 'CanvasBlock':\n                json = JSON.parse(node.getAttribute('canvas:canvas_content'));\n                if (json.source == 'web') {\n                    return json.image_url;\n                }\n                if (json.source == 'cw') {\n                    return json.image_name;\n                }\n                return '';\n            case 'ChartBlock':\n                return node.getAttribute('chart:chart_type');\n            case 'CodeBlock':\n                return node.getAttribute('code:code_content');\n            case 'ConfirmBlock':\n                return node.getAttribute('title');\n            case 'DateBlock':\n                json = JSON.parse(node.getAttribute('date:date_content'));\n                return json.date + ' ' + json.time;\n            case 'DialogCardsBlock':\n                json = JSON.parse(node.getAttribute('dialogcards:dialogcards_content'));\n                return json[0].front_img_file_name;\n            case 'DiscussionBlock':\n                return '';\n            case 'EmbedBlock':\n                return node.getAttribute('embed:embed_source') + ' ' + node.getAttribute('embed:embed_url');\n            case 'FolderBlock':\n                return '';\n            case 'ForumBlock':\n                return '';\n            case 'GalleryBlock':\n                return node.getAttribute('gallery:gallery_folder_name');\n            case 'HtmlBlock':\n                return node.textContent;\n            case 'IFrameBlock':\n                return node.getAttribute('iframe:url');\n            case 'ImageMapBlock':\n                return JSON.parse(node.getAttribute('imagemap:image_map_content')).image_name;\n            case 'InteractiveVideoBlock':\n                return JSON.parse(node.getAttribute('interactivevideo:iav_source')).file_name;\n            case 'KeyPointBlock':\n                return node.getAttribute('keypoint:keypoint_content');\n            case 'LinkBlock':\n                return node.getAttribute('link:link_target');\n            case 'OpenCastBlock':\n                return '';\n            case 'PdfBlock':\n                return node.getAttribute('pdf:pdf_filename');\n            case 'PostBlock':\n                return '';\n            case 'SearchBlock':\n                return '';\n            case 'TestBlock':\n                var xml = node.getAttribute('test:xml');\n                var parser = new DOMParser();\n                var xmlDoc = parser.parseFromString(xml, 'text/xml');\n                return xmlDoc.firstElementChild.children[0].textContent;\n            case 'TypewriterBlock':\n                json = JSON.parse(node.getAttribute('typewriter:typewriter_json'));\n                return json.content;\n            case 'VideoBlock':\n                if (node.getAttribute('video:webvideo') != '') {\n                    json = JSON.parse(node.getAttribute('video:webvideo'))[0];\n                    if (json.source == 'url') {\n                        return json.src;\n                    } else {\n                        return json.file_name;\n                    }\n                }\n                return node.getAttribute('video:url');\n            default:\n                return '';\n        }\n    }\n};\n","<template>\n    <div id=\"cw-blockmanager-content\">\n        <div class=\"cw-blockmanager-wrapper\">\n            <div class=\"cw-blockmanager-title\">\n                <p>{{ this.courseware.title }}</p>\n                <span class=\"cw-blockmanager-store-icon\" title=\"speichern\"></span>\n                <span class=\"cw-blockmanager-store-icon-error\">Fehler beim Speichern</span>\n            </div>\n            <ul class=\"chapter-list\">\n                <ChapterItem\n                    v-for=\"chapter in this.courseware.children\"\n                    :key=\"chapter.id\"\n                    :chapter=\"chapter\"\n                    :importContent=\"false\"\n                />\n            </ul>\n        </div>\n        <div id=\"cw-import-wrapper\" class=\"cw-blockmanager-wrapper\">\n            <div id=\"cw-import-title\" class=\"cw-blockmanager-title\">\n                <p>{{ importTitle }}</p>\n            </div>\n            <div class=\"messagebox messagebox_error\" v-if=\"fileError\">Das Archiv enthält keine Coursewaredaten</div>\n            <div id=\"user-course-list\">\n                <ul class=\"semester-list\">\n                    <SemesterItem\n                        v-for=\"(courses, semester_name) in this.remoteCourses\"\n                        :key=\"semester_name\"\n                        :courses=\"courses\"\n                        :semester_name=\"semester_name\"\n                        @course-selected=\"getRemoteCourse\"\n                    />\n                </ul>\n            </div>\n            <div v-if=\"remoteCourseware\" class=\"cw-remote-courseware\">\n                <ul class=\"chapter-list chapter-list-import\">\n                    <ChapterItem\n                        v-for=\"remote_chapter in this.remoteCourseware.children\"\n                        :key=\"remote_chapter.id\"\n                        :chapter=\"remote_chapter\"\n                        :importContent=\"true\"\n                        :remoteContent=\"true\"\n                    />\n                </ul>\n            </div>\n            <div v-if=\"importCourseware\" id=\"cw-import-lists\">\n                <ul class=\"chapter-list chapter-list-import\">\n                    <ChapterItem\n                        v-for=\"import_chapter in this.importCourseware.chapters\"\n                        :key=\"import_chapter.id\"\n                        :chapter=\"import_chapter\"\n                        :importContent=\"true\"\n                        :remoteContent=\"false\"\n                    />\n                </ul>\n            </div>\n            <ul id=\"cw-import-selection\">\n                <li>\n                    <label\n                        for=\"cw-file-upload-import\"\n                        id=\"cw-file-upload-import-label\"\n                        title=\"Laden Sie eine Datei hoch, die Sie zuvor aus einer Courseware exportiert haben\"\n                    >\n                        <input\n                            type=\"file\"\n                            name=\"cw-file-upload-import\"\n                            class=\"cw-file-upload-import\"\n                            id=\"cw-file-upload-import\"\n                            accept=\".zip\"\n                            @change=\"setImport\"\n                        />\n                        <p>Import-Archiv hochladen</p>\n                    </label>\n                </li>\n\n                <li>\n                    <div\n                        id=\"cw-import-from-course\"\n                        title=\"Importieren Sie Inhalte aus einer anderen Veranstaltung in der Sie Dozent sind\"\n                        @click=\"importFromCourse\"\n                    >\n                        <p>Aus Veranstaltung importieren</p>\n                    </div>\n                </li>\n            </ul>\n            <button class=\"button\" id=\"cw-import-menu-back\" @click=\"resetImport\">zurück zur Auswahl</button>\n            <div style=\"clear: both;\"></div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport ChapterItem from './components/ChapterItem.vue';\nimport SemesterItem from './components/SemesterItem.vue';\nimport NodeContentHelper from './assets/NodeContentHelper.js';\nimport axios from 'axios';\nexport default {\n    name: 'BlockManager',\n    data() {\n        return {\n            courseware: {},\n            remoteCourses: {},\n            remoteCourseware: null,\n            importCourseware: null,\n            isDragging: false,\n            chapterList: [],\n            subchapterList: {},\n            sectionList: {},\n            blockList: {},\n            importTitle: 'Import',\n            remoteData: false,\n            importData: false,\n            importMap: [],\n            importXML: '',\n            blockMap: null,\n            fileError: false\n        };\n    },\n    components: {\n        ChapterItem,\n        SemesterItem\n    },\n    created() {\n        this.courseware = JSON.parse(COURSEWARE.data.courseware);\n        this.remoteCourses = JSON.parse(COURSEWARE.data.remote_courses);\n        this.blockMap = JSON.parse(COURSEWARE.data.block_map);\n    },\n    mounted() {\n        this.startMouseListeners();\n        this.createSortables();\n    },\n    methods: {\n        importFromCourse() {\n            $('#cw-import-menu-back').show();\n            $('#cw-import-selection').hide();\n            $('#user-course-list').show();\n            $('.semester-description')\n                .siblings('ul')\n                .hide();\n        },\n        resetImport(event) {\n            $('#user-course-list').hide();\n            $('.cw-remote-courseware').hide();\n            $('#cw-import-lists').hide();\n            $('#cw-import-selection').show();\n            $('#cw-import-wrapper')\n                .find('.unfolded')\n                .removeClass('unfolded');\n            $(event.target).hide();\n            this.importTitle = 'Import';\n            this.fileError = false;\n        },\n        startMouseListeners() {\n            $('.chapter-description, .subchapter-description, .section-description, .block-description')\n                .mousedown(function() {\n                    this.isDragging = false;\n                })\n                .mousemove(function() {\n                    this.isDragging = true;\n                })\n                .mouseup(function() {\n                    let wasDragging = this.isDragging;\n                    this.isDragging = false;\n                    if (!wasDragging) {\n                        $(this)\n                            .siblings('ul')\n                            .toggle();\n                        if (!$(this).hasClass('unfolded')) {\n                            $(this).addClass('unfolded');\n                        } else {\n                            $(this).removeClass('unfolded');\n                        }\n                    }\n                });\n        },\n        stopMouseListeners() {\n            $('.chapter-description, .subchapter-description, .section-description, .block-description').unbind();\n        },\n        createSortables() {\n            let view = this;\n            $('.chapter-list')\n                .sortable({\n                    connectWith: '.chapter-list:not(.chapter-list-import)',\n                    placeholder: 'highlight',\n                    start: function(event, ui) {\n                        ui.placeholder.height(ui.item.height());\n                    },\n                    update: function(event, ui) {\n                        view.chapterList = [];\n                        $('.chapter-list:not(.chapter-list-import) .chapter-item').each(function(key, value) {\n                            view.chapterList.push($(value).data('id'));\n                        });\n                        if ($(ui.item).hasClass('chapter-item-import')) {\n                            view.removeImportClasses($(ui.item));\n                            view.importSubchapters($(ui.item));\n                            view.importData = true;\n                        }\n                        if ($(ui.item).hasClass('chapter-item-remote')) {\n                            view.remoteData = true;\n                        }\n\n                        view.storeChanges();\n                    }\n                })\n                .disableSelection();\n\n            $('.subchapter-list')\n                .sortable({\n                    connectWith: '.subchapter-list:not(.subchapter-list-import)',\n                    placeholder: 'highlight',\n                    start: function(event, ui) {\n                        ui.placeholder.height(ui.item.height());\n                    },\n                    update: function(event, ui) {\n                        let $parent = $(ui.item)\n                            .parents('.chapter-item')\n                            .first();\n                        view.subchapterList[$parent.data('id')] = [];\n                        $.each(view.subchapterList, function(chapter_id) {\n                            var entry = [];\n                            $('.chapter-item[data-id=\"' + chapter_id + '\"]')\n                                .find('.subchapter-item')\n                                .each(function(key, value) {\n                                    entry.push($(value).data('id'));\n                                });\n                            if (entry.length > 0) {\n                                view.subchapterList[chapter_id] = entry;\n                            } else {\n                                delete view.subchapterList[chapter_id];\n                            }\n                        });\n                        if ($(ui.item).hasClass('subchapter-item-import')) {\n                            view.removeImportClasses($(ui.item));\n                            view.importSections($(ui.item));\n                            view.importData = true;\n                        }\n                        if ($(ui.item).hasClass('subchapter-item-remote')) {\n                            view.remoteData = true;\n                        }\n                        if (\n                            $(ui.item)\n                                .parents('.chapter-item')\n                                .hasClass('element_hidden')\n                        ) {\n                            $(ui.item).addClass('element_hidden');\n                            $(ui.item)\n                                .find('p.subchapter-description')\n                                .addClass('element_hidden');\n                        }\n\n                        view.storeChanges();\n                    }\n                })\n                .disableSelection();\n\n            $('.section-list')\n                .sortable({\n                    connectWith: '.section-list:not(.section-list-import)',\n                    placeholder: 'highlight',\n                    start: function(event, ui) {\n                        ui.placeholder.height(ui.item.height());\n                    },\n                    update: function(event, ui) {\n                        let $parent = $(ui.item)\n                            .parents('.subchapter-item')\n                            .first();\n                        view.sectionList[$parent.data('id')] = [];\n                        $.each(view.sectionList, function(subchapter_id) {\n                            var entry = [];\n                            $('.subchapter-item[data-id=\"' + subchapter_id + '\"]')\n                                .find('.section-item')\n                                .each(function(key, value) {\n                                    entry.push($(value).data('id'));\n                                });\n                            if (entry.length > 0) {\n                                view.sectionList[subchapter_id] = entry;\n                            } else {\n                                delete view.sectionList[subchapter_id];\n                            }\n                        });\n                        if ($(ui.item).hasClass('section-item-import')) {\n                            view.removeImportClasses($(ui.item));\n                            view.importBlocks($(ui.item));\n                            view.importData = true;\n                        }\n                        if ($(ui.item).hasClass('section-item-remote')) {\n                            view.remoteData = true;\n                        }\n                        if (\n                            $(ui.item)\n                                .parents('.subchapter-item')\n                                .hasClass('element_hidden')\n                        ) {\n                            $(ui.item).addClass('element_hidden');\n                            $(ui.item)\n                                .find('p.section-description')\n                                .addClass('element_hidden');\n                        }\n\n                        view.storeChanges();\n                    }\n                })\n                .disableSelection();\n\n            $('.block-list')\n                .sortable({\n                    connectWith: '.block-list:not(.block-list-import)',\n                    placeholder: 'highlight',\n                    start: function(event, ui) {\n                        ui.placeholder.height(ui.item.height() + 20);\n                    },\n                    update: function(event, ui) {\n                        let $parent = $(ui.item)\n                            .parents('.section-item')\n                            .first();\n                        view.blockList[$parent.data('id')] = [];\n                        $.each(view.blockList, function(section_id) {\n                            var entry = [];\n                            $('.section-item[data-id=\"' + section_id + '\"]')\n                                .find('.block-item')\n                                .each(function(key, value) {\n                                    entry.push($(value).attr('data-id'));\n                                });\n\n                            if (entry.length > 0) {\n                                view.blockList[section_id] = entry;\n                            } else {\n                                delete view.blockList[section_id];\n                            }\n                        });\n                        if ($(ui.item).hasClass('block-item-import')) {\n                            view.removeImportClasses($(ui.item));\n                            view.importData = true;\n                        }\n                        if ($(ui.item).hasClass('block-item-remote')) {\n                            view.remoteData = true;\n                        }\n                        if (\n                            $(ui.item)\n                                .parents('.section-item')\n                                .hasClass('element_hidden')\n                        ) {\n                            $(ui.item).addClass('element_hidden');\n                            $(ui.item)\n                                .find('p.block-description')\n                                .addClass('element_hidden');\n                        }\n\n                        view.storeChanges();\n                    }\n                })\n                .disableSelection();\n        },\n        storeChanges() {\n            let view = this;\n            let promises = [];\n            let fileData = {};\n            if (view.importData && !view.remoteData) {\n                let file = $('#cw-file-upload-import')[0].files[0];\n                let filePromise = new Promise(resolve => {\n                    let reader = new FileReader();\n                    reader.readAsDataURL(file);\n                    reader.onloadend = function() {\n                        fileData.file = reader.result;\n                        fileData.name = file.name;\n                        fileData.size = file.size;\n                        fileData.type = file.type;\n                        resolve(reader.result);\n                    };\n                });\n                promises.push(filePromise);\n            }\n            Promise.all(promises).then(function() {\n                // console.log(view.chapterList);\n                // console.log(view.subchapterList);\n                // console.log(view.sectionList);\n                // console.log(view.blockList);\n                axios\n                    .post('store_changes_vue', {\n                        cid: COURSEWARE.config.cid,\n                        import: view.importData,\n                        remote: view.remoteData,\n                        importXML: view.importXML,\n                        chapterList: JSON.stringify(view.chapterList),\n                        subchapterList: JSON.stringify(view.subchapterList),\n                        sectionList: JSON.stringify(view.sectionList),\n                        blockList: JSON.stringify(view.blockList),\n                        fileData: fileData\n                    })\n                    .then(response => {\n                        $('.cw-blockmanager-store-icon').fadeIn(500, function() {\n                            $(this)\n                                .delay(1000)\n                                .fadeOut(500);\n                        });\n                        view.importData = false;\n                        view.remoteData = false;\n\n                        if (response.data.remote_map != '') {\n                            let remoteMap = JSON.parse(response.data.remote_map);\n                            view.changeRemoteIds(remoteMap);\n                        }\n                    })\n                    .catch(error => {\n                        console.log('there was an error: ' + error.response);\n                        $('.cw-blockmanager-store-icon-error').fadeIn(500);\n                    });\n            });\n        },\n        changeRemoteIds(remoteMap) {\n            //TODO all lists not only blockList !!!\n            $.each(remoteMap.block_map, function(remote_id, new_id) {\n                $('.block-item[data-id=\"' + remote_id + '\"]')\n                    .not('.block-item-import')\n                    .attr('data-id', new_id)\n                    .removeClass('block-item-remote');\n            });\n            this.blockList = {};\n        },\n        removeImportClasses($item) {\n            var classes =\n                'chapter-item-import chapter-list-import subchapter-item-import subchapter-list-import section-item-import section-list-import block-item-import block-list-import';\n            $item.removeClass(classes);\n            $item\n                .find(\n                    '.chapter-item-import, .chapter-list-import, .subchapter-item-import, .subchapter-list-import, .section-item-import, .section-list-import, .block-item-import, .block-list-import'\n                )\n                .removeClass(classes);\n        },\n        importBlocks($item) {\n            let view = this;\n            var parent_id = $item.attr('data-id');\n            var $blocks = $item.find('.block-item');\n            var entry = [];\n            $.each($blocks, function() {\n                entry.push($(this).attr('data-id'));\n            });\n            if (entry.length > 0) {\n                view.blockList[parent_id] = entry;\n            }\n        },\n\n        importSections($item) {\n            let view = this;\n            var parent_id = $item.attr('data-id');\n            var $sections = $item.find('.section-item');\n            var entry = [];\n            $.each($sections, function() {\n                entry.push($(this).attr('data-id'));\n                view.importBlocks($(this));\n            });\n            if (entry.length > 0) {\n                view.sectionList[parent_id] = entry;\n            }\n        },\n        importSubchapters($item) {\n            let view = this;\n            var parent_id = $item.attr('data-id');\n            var $subchapters = $item.find('.subchapter-item');\n            var entry = [];\n            $.each($subchapters, function() {\n                entry.push($(this).attr('data-id'));\n                view.importSections($(this));\n            });\n            if (entry.length > 0) {\n                view.subchapterList[parent_id] = entry;\n            }\n        },\n        getRemoteCourse(event) {\n            let view = this;\n            axios\n                .get('get_remote_course', {\n                    params: {\n                        cid: COURSEWARE.config.cid,\n                        remote_cid: event.remoteId\n                    }\n                })\n                .then(response => {\n                    view.remoteCourseware = response.data;\n                })\n                .then(function() {\n                    view.importTitle = 'Import: ' + event.remoteName;\n                    view.createSortablesForImport();\n                    view.stopMouseListeners();\n                    view.startMouseListeners();\n                    $('#cw-import-selection').hide();\n                    $('#user-course-list').hide();\n                    $('.cw-remote-courseware').show();\n                })\n                .catch(error => {\n                    console.log('there was an error: ' + error.response);\n                });\n        },\n        createSortablesForImport() {\n            $('.subchapter-list-import, .section-list-import, .block-list-import, .block-preview-import').hide();\n            $('.chapter-list-import')\n                .sortable({\n                    connectWith: '.chapter-list',\n                    placeholder: 'highlight',\n                    start: function(event, ui) {\n                        ui.placeholder.height(ui.item.height());\n                    },\n                    beforeStop: function(event, ui) {\n                        if (ui.item.parent().hasClass('chapter-list-import')) {\n                            $(this).sortable('cancel');\n                        }\n                    }\n                })\n                .disableSelection();\n\n            $('.subchapter-list-import')\n                .sortable({\n                    connectWith: '.subchapter-list',\n                    placeholder: 'highlight',\n                    start: function(event, ui) {\n                        ui.placeholder.height(ui.item.height());\n                    },\n                    beforeStop: function(event, ui) {\n                        if (ui.item.parent().hasClass('subchapter-list-import')) {\n                            $(this).sortable('cancel');\n                        }\n                    }\n                })\n                .disableSelection();\n\n            $('.section-list-import')\n                .sortable({\n                    connectWith: '.section-list',\n                    placeholder: 'highlight',\n                    start: function(event, ui) {\n                        ui.placeholder.height(ui.item.height());\n                    },\n                    beforeStop: function(event, ui) {\n                        if (ui.item.parent().hasClass('section-list-import')) {\n                            $(this).sortable('cancel');\n                        }\n                    }\n                })\n                .disableSelection();\n\n            $('.block-list-import')\n                .sortable({\n                    connectWith: '.block-list',\n                    placeholder: 'highlight',\n                    start: function(event, ui) {\n                        ui.placeholder.height(ui.item.height() + 20);\n                    },\n                    beforeStop: function(event, ui) {\n                        if (ui.item.parent().hasClass('block-list-import')) {\n                            $(this).sortable('cancel');\n                        }\n                    }\n                })\n                .disableSelection();\n        },\n        setImport() {\n            let view = this;\n            view.fileError = false;\n            const file0 = event.target.files[0];\n\n            $('#cw-blockmanager-form-full-import').css('display', 'inline-block');\n            $('#cw-import-menu-back').show();\n\n            ZipLoader.unzip(file0)\n                .then(function(unziped) {\n                    var text, parser, xmlDoc;\n                    if (unziped.files['data.xml'] == undefined) {\n                        view.fileError = true;\n                        return;\n                    }\n\n                    text = unziped.extractAsText('data.xml');\n                    parser = new DOMParser();\n                    xmlDoc = parser.parseFromString(text, 'text/xml');\n\n                    var chapter_counter = 0,\n                        subchapter_counter = 0,\n                        section_counter = 0;\n                    view.importCourseware = [];\n                    view.importCourseware['chapters'] = [];\n                    $.each(xmlDoc.documentElement.children, function(key, node) {\n                        if (node.nodeName == 'chapter') {\n                            chapter_counter++;\n                            node.setAttribute('temp-id', chapter_counter);\n                            let chapterNum = view.importCourseware['chapters'].push({\n                                title: node.getAttribute('title'),\n                                id: chapter_counter,\n                                publication_date: false,\n                                withdraw_date: false,\n                                isPublished: true\n                            });\n                            let current_chapter = view.importCourseware['chapters'][chapterNum - 1];\n\n                            if (typeof current_chapter === 'undefined') {\n                                return true; //skip to next\n                            }\n                            current_chapter.children = [];\n                            $.each(node.children, function(key, node) {\n                                if (node.nodeName == 'subchapter') {\n                                    subchapter_counter++;\n                                    node.setAttribute('temp-id', subchapter_counter);\n                                    let subchapterNum = current_chapter.children.push({\n                                        title: node.getAttribute('title'),\n                                        id: subchapter_counter,\n                                        publication_date: false,\n                                        withdraw_date: false,\n                                        isPublished: true\n                                    });\n                                    let current_subchapter = current_chapter.children[subchapterNum - 1];\n\n                                    if (typeof current_subchapter === 'undefined') {\n                                        return true; //skip to next\n                                    }\n                                    current_subchapter.children = [];\n                                    $.each(node.children, function(key, node) {\n                                        if (node.nodeName == 'section') {\n                                            section_counter++;\n                                            node.setAttribute('temp-id', section_counter);\n\n                                            let sectionNum = current_subchapter.children.push({\n                                                title: node.getAttribute('title'),\n                                                id: section_counter,\n                                                isPublished: true\n                                            });\n                                            let current_section = current_subchapter.children[sectionNum - 1];\n                                            if (typeof current_section === 'undefined') {\n                                                return true; //skip to next\n                                            }\n                                            current_section.children = [];\n                                            $.each(node.children, function(key, node) {\n                                                if (node.nodeName == 'block') {\n                                                    //build block\n                                                    current_section.children.push({\n                                                        type: node.getAttribute('type'),\n                                                        id: node.getAttribute('uuid'),\n                                                        isPublished: true,\n                                                        preview: view.getNodeContent(node),\n                                                        readable_name: view.blockMap[node.getAttribute('type')]\n                                                    });\n                                                }\n                                            });\n                                        }\n                                    });\n                                }\n                            });\n                        }\n                    });\n                    let oSerializer = new XMLSerializer();\n                    view.importXML = oSerializer.serializeToString(xmlDoc);\n                })\n                .then(function() {\n                    view.createSortablesForImport();\n                    view.stopMouseListeners();\n                    view.startMouseListeners();\n                    $('.subchapter-list-import, .section-list-import, .block-list-import').hide();\n                    $('#cw-import-selection').hide();\n                    if (!view.fileError) {\n                        $('#cw-import-lists').show();\n                    }\n                    view.importTitle = 'Import: ' + file0.name + ' (' + view.calcFileSize(file0.size) + ')';\n                });\n        },\n        getNodeContent(node) {\n            return NodeContentHelper.getContent(node);\n        },\n        calcFileSize(size) {\n            if ((size / 1048576).toFixed(0) != 0) {\n                return (size / 1048576).toFixed(1) + ' MB';\n            } else {\n                return (size / 1024).toFixed(1) + ' kB';\n            }\n        }\n    }\n};\n</script>\n\n<style scoped></style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockManager.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlockManager.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./BlockManager.vue?vue&type=template&id=2e9e0648&scoped=true&\"\nimport script from \"./BlockManager.vue?vue&type=script&lang=js&\"\nexport * from \"./BlockManager.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2e9e0648\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport BlockManager from './BlockManager.vue';\n\nVue.config.productionTip = false;\n\nnew Vue({\n    render: h => h(BlockManager)\n}).$mount('#block_mananger_content');\n"],"sourceRoot":""}